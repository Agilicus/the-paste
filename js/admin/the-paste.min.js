(function(){var e,t,a,i,n;e=window.jQuery,e.paste=function(e){var a;return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),a=t.mountNonInputable(e),a._container},e.fn.pastableNonInputable=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is("textarea, input:text, [contenteditable]")||(t.mountNonInputable(a),a._pastable=!0);return this},e.fn.pastableTextarea=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is(":not(textarea, input:text)")||(t.mountTextarea(a),a._pastable=!0);return this},e.fn.pastableContenteditable=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is(":not([contenteditable])")||(t.mountContenteditable(a),a._pastable=!0);return this},i=function(e,t){var a,i,n,r,o,s,l,p,d,u,c;if(null==t&&(t=512),!(p=e.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(u=p,p=u[0],s=u[1],a=u[2],r=atob(a),n=[],d=0;d<r.length;){for(c=r.slice(d,d+t),o=new Array(c.length),l=0;l<c.length;)o[l]=c.charCodeAt(l),l++;i=new Uint8Array(o),n.push(i),d+=t}return new Blob(n,{type:s})},a=function(){return e(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},n=function(t,a){var i,n,r,o,s,l;return o=void 0,s=void 0,r=void 0,n=void 0,i=void 0,"area"===(l=t.nodeName.toLowerCase())?(o=t.parentNode,s=o.name,!(!t.href||!s||"map"!==o.nodeName.toLowerCase())&&(r=e("img[usemap='#"+s+"']"),r.length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(n=!t.disabled)&&(i=e(t).closest("fieldset")[0])&&(n=!i.disabled):n="a"===l?t.href||a:a,(n=n||e(t).is("[contenteditable]"))&&e(t).is(":visible"))},t=function(){function t(t,a){this._container=t,this._target=a,this._container=e(this._container),this._target=e(this._target).addClass("pastable"),this._container.on("paste",function(e){return function(t){var a,i,n,r,o,s,l,p,d,u,c,h,g;if(t.currentTarget!==t.target)return t.preventDefault();if(e._paste_event_fired=!0,null!=(null!=(d=t.originalEvent)?d.clipboardData:void 0))if(a=t.originalEvent.clipboardData,a.items)for(u=a.items,r=0,s=u.length;r<s;r++){if(n=u[r],n.type.match(/^image\//)){p=new FileReader,p.onload=function(t){return e._handleImage(t.target.result)};try{p.readAsDataURL(n.getAsFile())}catch(e){}t.preventDefault();break}"text/plain"===n.type&&n.getAsString(function(t){return e._target.trigger("pasteText",{text:t})})}else-1!==Array.prototype.indexOf.call(a.types,"text/plain")&&(g=a.getData("Text"),setTimeout(function(){return e._target.trigger("pasteText",{text:g})},1)),e._checkImagesInContainer(function(t){return e._handleImage(t)});if(a=window.clipboardData)if(null!=(c=g=a.getData("Text"))?c.length:void 0)setTimeout(function(){return e._target.trigger("pasteText",{text:g}),e._target.trigger("_pasteCheckContainerDone")},1);else{for(h=a.files,o=0,l=h.length;o<l;o++)i=h[o],e._handleImage(URL.createObjectURL(i));e._checkImagesInContainer(function(e){})}return null}}(this))}return t.prototype._target=null,t.prototype._container=null,t.mountNonInputable=function(i){var r;return r=new t(a().appendTo(i),i),e(i).on("click",function(e){return function(e){if(!n(e.target,!1))return r._container.focus()}}()),r._container.on("focus",function(t){return function(){return e(i).addClass("pastable-focus")}}()),r._container.on("blur",function(t){return function(){return e(i).removeClass("pastable-focus")}}())},t.mountTextarea=function(i){var n,r,o,s;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(o=Object.getOwnPropertyDescriptor)&&null!=(s=o.call(Object,DataTransfer.prototype,"items"))?s.get:void 0)?this.mountContenteditable(i):(r=new t(a().insertBefore(i),i),n=!1,e(i).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(n=!1),null}),e(i).on("keydown",function(t){var a;return 17!==(a=t.keyCode)&&224!==a||(n=!0),null!=t.ctrlKey&&null!=t.metaKey&&(n=t.ctrlKey||t.metaKey),n&&86===t.keyCode&&(r._textarea_focus_stolen=!0,r._container.focus(),r._paste_event_fired=!1,setTimeout(function(t){return function(){if(!r._paste_event_fired)return e(i).focus(),r._textarea_focus_stolen=!1}}(),1)),null}),e(i).on("paste",function(e){return function(){}}()),e(i).on("focus",function(t){return function(){if(!r._textarea_focus_stolen)return e(i).addClass("pastable-focus")}}()),e(i).on("blur",function(t){return function(){if(!r._textarea_focus_stolen)return e(i).removeClass("pastable-focus")}}()),e(r._target).on("_pasteCheckContainerDone",function(t){return function(){return e(i).focus(),r._textarea_focus_stolen=!1}}()),e(r._target).on("pasteText",function(t){return function(t,a){var n,r,o;return o=e(i).prop("selectionStart"),r=e(i).prop("selectionEnd"),n=e(i).val(),e(i).val(""+n.slice(0,o)+a.text+n.slice(r)),e(i)[0].setSelectionRange(o+a.text.length,o+a.text.length),e(i).trigger("change")}}()))},t.mountContenteditable=function(a){return new t(a,a),e(a).on("focus",function(t){return function(){return e(a).addClass("pastable-focus")}}()),e(a).on("blur",function(t){return function(){return e(a).removeClass("pastable-focus")}}())},t.prototype._handleImage=function(e){var t;return e.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),t=new Image,t.crossOrigin="anonymous",t.onload=function(e){return function(){var a,n,r,o;n=document.createElement("canvas"),n.width=t.width,n.height=t.height,r=n.getContext("2d"),r.drawImage(t,0,0,n.width,n.height),o=null;try{o=n.toDataURL("image/png"),a=i(o)}catch(e){}return o&&e._target.trigger("pasteImage",{blob:a,dataURL:o,width:t.width,height:t.height}),e._target.trigger("pasteImageEnd")}}(this),t.onerror=function(t){return function(){return t._target.trigger("pasteImageError",{message:"Failed to get image from: "+e,url:e}),t._target.trigger("pasteImageEnd")}}(this),t.src=e)},t.prototype._checkImagesInContainer=function(t){var a,i,n,r,o;for(o=Math.floor(1e3*Math.random()),r=this._container.find("img"),i=0,n=r.length;i<n;i++)a=r[i],a["_paste_marked_"+o]=!0;return setTimeout(function(i){return function(){var n,r,s;for(s=i._container.find("img"),n=0,r=s.length;n<r;n++)a=s[n],a["_paste_marked_"+o]||(t(a.src),e(a).remove());return i._target.trigger("_pasteCheckContainerDone")}}(this),1)},t}()}).call(this),function(e,t){var a=(navigator.userAgent.indexOf("Chrome"),0);thepaste=t.thepaste=e.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"==typeof window.onpaste||"onpaste"in document.createElement("DIV")},view:{},insertImage:function(e,t,i){var n="__thepaste_img_"+a++,r='<img id="'+n+'" class="alignnone size-full" src="'+e+'" />';return i.insertContent(r),i.$("#"+n)[0]},uploadImage:function(t,i){var n,r,s,l=t.src,p=function(n){var p="__thepaste_box_"+a++,d=n.match(/^data\:([^\;]+)\;/)[1];file=new o.Blob(null,{data:n}),suffix=thepaste.options.mime_types.convert[d],"undefined"==typeof suffix&&console.trace("bad type: "+d),e(t).wrap('<div id="'+p+'" data-progress="0" class="thepaste-image-placeholder" contenteditable="false"></div>'),s=i.$("#"+p),file.name=thepaste.l10n.pasted+"."+suffix,file.type=d;var u=function(){r.uploader.uploader.uploader.addFile(file)};r?(r.state().reset(),u()):(r=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1}),r.close(),r.uploader.uploader&&r.uploader.uploader.ready?u():r.on("uploader:ready",u)),r.uploader.uploader.uploader.bind("UploadProgress",function(e){s.attr("data-progress",e.total.percent)}),r.uploader.uploader.uploader.bind("FileUploaded",function(t,a){var n='<img class="alignnone wp-image-'+a.attachment.id+' size-full" src="'+a.attachment.changed.url+'" />';s.replaceWith(n),i.$('img[src="'+l+'"]').each(function(){e(this).replaceWith(n)})}),r.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})};"blob:"===l.substr(0,5)?(n=new XMLHttpRequest,n.responseType="blob",n.onreadystatechange=function(){var e;4==n.readyState&&(e=new FileReader,e.onload=function(){p(e.result)},e.readAsDataURL(new Blob([n.response],{type:"image/png"})))},n.open("GET",l),n.send(null)):"data:"===l.substr(0,5)&&p(l)},clipboardHasImage:function(t){var a=!1;return t.items?(e.each(t.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return a=!0,!1}),a):t.types?(e.each(thepaste.options.mime_types.paste,function(e,i){if(t.types.indexOf(e)>-1)return a=!0,!1}),a):null}},thepaste)}(jQuery,wp.media),function(e,t){var a=wp.media.thepaste.l10n;e.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:a.copy_paste,priority:35}})},bindPasteHandlers:function(){var e=!1;this.on("content:render close",function(t){e&&"function"==typeof e.dismiss&&e.dismiss(),void 0!==t&&(e=t)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),frame=this},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:a.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.thepasteOpen(a.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteUploaded:function(e){this.thepaste.active.grabber.dismiss(),this.thepaste.modal.close(),this.thepasteClose()},thepasteError:function(e){console.log("error",e)},thepasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose.apply(t),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage",this.thepasteUploaded),this.listenTo(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage",this.thepasteError)},thepasteClose:function(){this.controller.deactivateMode(this.thepaste.active.mode).activateMode("edit"),this.stopListening(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage"),this.stopListening(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage")}})}(jQuery,window),function(e,t,a){var i=wp.media.thepaste,n=(wp.media.view.Button,wp.media.view.Modal,i.l10n);wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:n.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(e){var t=this.$imageContainer.html("").get(0),n=this,r=e.match(/data:(image\/(\w+));/)[1];return i.options.mime_types.convert[r]||(r=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new a.Image,this.image.onload=function(){var e=n.getUploader().getOption("resize"),a=Math.max(e.width/this.width,e.height/this.height);!!e&&a<1&&this.downsize(this.width*a,this.height*a),this.embed(t)},this.image.load(e),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+r+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var e=this.$('[data-setting="format"] :checked').val(),t=i.options.mime_types.convert[e],a=this.$('input[data-setting="title"]').val()+"."+t,n=this.image.getAsBlob(e,i.options.jpeg_quality);this.bindUploaderEvents(),n.detach(n.getSource()),n.name=a,n.type=e,this.getUploader().addFile(n,a),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(e){this.$discardBtn.prop("disabled",e),this.$uploadBtn.prop("disabled",e)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(){this.trigger("error:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var e=this;return wp.media.View.prototype.render.apply(this,arguments),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){e.show_message("")}),this},start:function(){var t,a=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(e){t=wp.media.thepaste.clipboardHasImage(e.originalEvent.clipboardData)}).on("pasteText",function(i,r){t||a.imagePasted||(a.show_message(n.paste_error_no_image),e(this).html(""))}).on("pasteImage",function(e,t){a.imagePasted||(a.trigger("action:create:dataimage",this,t.dataURL),a.imagePasted=!0)}).on("pasteImageError",function(t,i){a.show_message(n.paste_error),e(this).html("")}),setTimeout(function(){a.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(e){this.$message.text(e)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var e=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:n.pasted,defaultFileFormat:"image/png",title:n.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),e},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(e,t){this.grabber.stop().hide(),this.uploader.show().setImageData(t)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})}(jQuery,window,mOxie);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZS1wYXN0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiUGFzdGUiLCJjcmVhdGVIaWRkZW5FZGl0YWJsZSIsImRhdGFVUkx0b0Jsb2IiLCJpc0ZvY3VzYWJsZSIsIndpbmRvdyIsImpRdWVyeSIsInBhc3RlIiwicGFzdGVDb250YWluZXIiLCJwbSIsImNvbnNvbGUiLCJsb2ciLCJtb3VudE5vbklucHV0YWJsZSIsIl9jb250YWluZXIiLCJmbiIsInBhc3RhYmxlTm9uSW5wdXRhYmxlIiwiZWwiLCJqIiwibGVuIiwicmVmIiwidGhpcyIsImxlbmd0aCIsIl9wYXN0YWJsZSIsImlzIiwicGFzdGFibGVUZXh0YXJlYSIsIm1vdW50VGV4dGFyZWEiLCJwYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSIsIm1vdW50Q29udGVudGVkaXRhYmxlIiwiZGF0YVVSTCIsInNsaWNlU2l6ZSIsImI2NERhdGEiLCJieXRlQXJyYXkiLCJieXRlQXJyYXlzIiwiYnl0ZUNoYXJhY3RlcnMiLCJieXRlTnVtYmVycyIsImNvbnRlbnRUeXBlIiwiaSIsIm0iLCJvZmZzZXQiLCJzbGljZSIsIm1hdGNoIiwiYXRvYiIsIkFycmF5IiwiY2hhckNvZGVBdCIsIlVpbnQ4QXJyYXkiLCJwdXNoIiwiQmxvYiIsInR5cGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyIiwiY3NzIiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbiIsImxlZnQiLCJvdmVyZmxvdyIsImVsZW1lbnQiLCJoYXNUYWJpbmRleCIsImZpZWxkc2V0IiwiZm9jdXNhYmxlSWZWaXNpYmxlIiwiaW1nIiwibWFwIiwibWFwTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJwYXJlbnROb2RlIiwibmFtZSIsImhyZWYiLCJ0ZXN0IiwiZGlzYWJsZWQiLCJjbG9zZXN0IiwiX3RhcmdldCIsImFkZENsYXNzIiwib24iLCJfdGhpcyIsImV2IiwiY2xpcGJvYXJkRGF0YSIsImZpbGUiLCJpdGVtIiwiayIsImxlbjEiLCJyZWFkZXIiLCJyZWYxIiwicmVmMiIsInJlZjMiLCJ0ZXh0IiwiY3VycmVudFRhcmdldCIsInRhcmdldCIsInByZXZlbnREZWZhdWx0IiwiX3Bhc3RlX2V2ZW50X2ZpcmVkIiwib3JpZ2luYWxFdmVudCIsIml0ZW1zIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwiX2hhbmRsZUltYWdlIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImdldEFzRmlsZSIsImVycm9yIiwiZ2V0QXNTdHJpbmciLCJzdHJpbmciLCJ0cmlnZ2VyIiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJ0eXBlcyIsImdldERhdGEiLCJzZXRUaW1lb3V0IiwiX2NoZWNrSW1hZ2VzSW5Db250YWluZXIiLCJzcmMiLCJmaWxlcyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIm5vbklucHV0YWJsZSIsImFwcGVuZFRvIiwiZm9jdXMiLCJyZW1vdmVDbGFzcyIsInRleHRhcmVhIiwiY3RsRG93biIsIkRhdGFUcmFuc2ZlciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsImluc2VydEJlZm9yZSIsImtleUNvZGUiLCJjdHJsS2V5IiwibWV0YUtleSIsIl90ZXh0YXJlYV9mb2N1c19zdG9sZW4iLCJkYXRhIiwiY29udGVudCIsImN1ckVuZCIsImN1clN0YXJ0IiwicHJvcCIsInZhbCIsInNldFNlbGVjdGlvblJhbmdlIiwiY29udGVudGVkaXRhYmxlIiwibG9hZGVyIiwibWVzc2FnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJibG9iIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsIm9uZXJyb3IiLCJ1cmwiLCJjYiIsInRpbWVzcGFuIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZmluZCIsInJlbW92ZSIsImV4cG9ydHMiLCJjb3VudGVyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidGhlcGFzdGUiLCJleHRlbmQiLCJzdXBwb3J0cyIsInZpZXciLCJpbnNlcnRJbWFnZSIsImVkaXRvciIsImlkIiwiaW1hZ2VIdG1sIiwiaW5zZXJ0Q29udGVudCIsInVwbG9hZEltYWdlIiwiaW1hZ2UiLCJ4aHIiLCJ3b3JrZmxvdyIsIiRjb250YWluZXIiLCJ1cGxvYWQiLCJvIiwic3VmZml4Iiwib3B0aW9ucyIsIm1pbWVfdHlwZXMiLCJjb252ZXJ0IiwidHJhY2UiLCJ3cmFwIiwibDEwbiIsInBhc3RlZCIsImFkZEZpbGUiLCJ1cGxvYWRlciIsInN0YXRlIiwicmVzZXQiLCJ3cCIsIm1lZGlhIiwib3BlbiIsIndwQWN0aXZlRWRpdG9yIiwiZnJhbWUiLCJ0aXRsZSIsImNvcHlfcGFzdGUiLCJtdWx0aXBsZSIsImNsb3NlIiwicmVhZHkiLCJiaW5kIiwiZSIsInRvdGFsIiwicGVyY2VudCIsInVwIiwiYXJncyIsImltZ0hUTUwiLCJhdHRhY2htZW50IiwiY2hhbmdlZCIsInJlcGxhY2VXaXRoIiwiZWFjaCIsInN1YnN0ciIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInJlc3BvbnNlIiwic2VuZCIsImNsaXBib2FyZEhhc0ltYWdlIiwiaGFzSW1hZ2UiLCJleHQiLCJVcGxvYWRlciIsInN1Y2Nlc3MiLCJmaWxlX2F0dGFjaG1lbnQiLCJfIiwiTWVkaWFGcmFtZSIsIlNlbGVjdCIsIl9wYXJlbnRJbml0aWFsaXplIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiYmluZFBhc3RlSGFuZGxlcnMiLCJfcGFyZW50QnJvd3NlUm91dGVyIiwiYnJvd3NlUm91dGVyIiwic2V0IiwicGFzdGVib2FyZCIsInByaW9yaXR5IiwicHJldmlvdXNDb250ZW50IiwiZGlzbWlzcyIsImNvbnRlbnRDcmVhdGVQYXN0ZWJvYXJkIiwiY29udGVudFJlbmRlckdyYWJiZXIiLCJjdXJyZW50UGFzdGVWaWV3IiwiRGF0YVNvdXJjZUltYWdlR3JhYmJlciIsImNvbnRyb2xsZXIiLCJncmFiYmVyIiwiUGFzdGVib2FyZCIsImxpc3RlblRvIiwidXBsb2FkZWREYXRhSW1hZ2UiLCJzdGFydEdyYWJiaW5nIiwic3RvcExpc3RlbmluZyIsIm9iaiIsImJyb3dzZUNvbnRlbnQiLCJyb3V0ZXIiLCJzZWxlY3QiLCJBdHRhY2htZW50c0Jyb3dzZXIiLCJwYXN0ZUJ0biIsInNlbGYiLCJtb2RhbCIsIm1vZGUiLCJjdXJyZW50IiwiQnV0dG9uIiwiY2xhc3NOYW1lIiwiY2xpY2siLCJhY3RpdmUiLCJ0aGVwYXN0ZU9wZW4iLCJ3cHVwbG9hZGVyIiwidG9vbGJhciIsInJlbmRlciIsInRoZXBhc3RlVXBsb2FkZWQiLCJ0aGVwYXN0ZUNsb3NlIiwidGhlcGFzdGVFcnJvciIsIk1vZGFsIiwic3RvcEdyYWJiaW5nIiwiZGVhY3RpdmF0ZU1vZGUiLCJhY3RpdmF0ZU1vZGUiLCJEYXRhU291cmNlSW1hZ2VVcGxvYWRlciIsIlZpZXciLCJ0ZW1wbGF0ZSIsIiRkaXNjYXJkQnRuIiwiJHVwbG9hZEJ0biIsImV2ZW50cyIsImNsaWNrIFtkYXRhLWFjdGlvbj1cInVwbG9hZFwiXSIsImNsaWNrIFtkYXRhLWFjdGlvbj1cImRpc2NhcmRcIl0iLCJkZWZhdWx0cyIsImRlZmF1bHRGaWxlTmFtZSIsInRhZ05hbWUiLCJ1cGxvZGVyIiwic2V0SW1hZ2VEYXRhIiwiY29udGFpbmVyIiwiJGltYWdlQ29udGFpbmVyIiwiaHRtbCIsImZvcm1hdCIsImRlZmF1bHRGaWxlRm9ybWF0IiwiZGVzdHJveSIsIm9wdHMiLCJnZXRVcGxvYWRlciIsImdldE9wdGlvbiIsInNjYWxlIiwibWF4IiwiZG93bnNpemUiLCJlbWJlZCIsImxvYWQiLCJhcHBlbmQiLCJkaXNjYXJkSW1hZ2UiLCJ1bmJpbmRVcGxvYWRlckV2ZW50cyIsImdldEFzQmxvYiIsImpwZWdfcXVhbGl0eSIsImJpbmRVcGxvYWRlckV2ZW50cyIsImRldGFjaCIsImdldFNvdXJjZSIsInNob3ciLCIkZWwiLCJoaWRlIiwiX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyIiwiX3VwbG9hZEVycm9ySGFuZGxlciIsInVuYmluZCIsImFjdGlvbiIsIiRwYXN0ZWJvYXJkIiwiJG1lc3NhZ2UiLCJzaG93X21lc3NhZ2UiLCJzdGFydCIsImltYWdlUGFzdGVkIiwicGFzdGVfZXJyb3Jfbm9faW1hZ2UiLCJwYXN0ZV9lcnJvciIsInN0b3AiLCJvZmYiLCJtc2ciLCJyZXQiLCJpbWFnZUNyZWF0ZWQiLCJpbWFnZURhdGEiLCJnZXRBY3Rpb24iLCJtT3hpZSJdLCJtYXBwaW5ncyI6IkNBUUEsV0FDRSxHQUFJQSxHQUFHQyxFQUFPQyxFQUFzQkMsRUFBZUMsQ0FFbkRKLEdBQUlLLE9BQU9DLE9BRVhOLEVBQUVPLE1BQVEsU0FBU0MsR0FDakIsR0FBSUMsRUFLSixPQUp1QixtQkFBWkMsVUFBdUMsT0FBWkEsU0FDcENBLFFBQVFDLElBQUksMEZBRWRGLEVBQUtSLEVBQU1XLGtCQUFrQkosR0FDdEJDLEVBQUdJLFlBR1piLEVBQUVjLEdBQUdDLHFCQUF1QixXQUMxQixHQUFJQyxHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDRCxFQUFLRyxFQUFJRixHQUNMRCxFQUFHTSxXQUFhdEIsRUFBRWdCLEdBQUlPLEdBQUcsNkNBRzdCdEIsRUFBTVcsa0JBQWtCSSxHQUN4QkEsRUFBR00sV0FBWSxFQUVqQixPQUFPRixPQUdUcEIsRUFBRWMsR0FBR1UsaUJBQW1CLFdBQ3RCLEdBQUlSLEdBQUlDLEVBQUdDLEVBQUtDLENBRWhCLEtBREFBLEVBQU1DLEtBQ0RILEVBQUksRUFBR0MsRUFBTUMsRUFBSUUsT0FBUUosRUFBSUMsRUFBS0QsSUFDckNELEVBQUtHLEVBQUlGLEdBQ0xELEVBQUdNLFdBQWF0QixFQUFFZ0IsR0FBSU8sR0FBRyxnQ0FHN0J0QixFQUFNd0IsY0FBY1QsR0FDcEJBLEVBQUdNLFdBQVksRUFFakIsT0FBT0YsT0FHVHBCLEVBQUVjLEdBQUdZLHdCQUEwQixXQUM3QixHQUFJVixHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDRCxFQUFLRyxFQUFJRixHQUNMRCxFQUFHTSxXQUFhdEIsRUFBRWdCLEdBQUlPLEdBQUcsNkJBRzdCdEIsRUFBTTBCLHFCQUFxQlgsR0FDM0JBLEVBQUdNLFdBQVksRUFFakIsT0FBT0YsT0FHVGpCLEVBQWdCLFNBQVN5QixFQUFTQyxHQUNoQyxHQUFJQyxHQUFTQyxFQUFXQyxFQUFZQyxFQUFnQkMsRUFBYUMsRUFBYUMsRUFBR0MsRUFBR0MsRUFBUW5CLEVBQUtvQixDQUlqRyxJQUhpQixNQUFiVixJQUNGQSxFQUFZLE9BRVJRLEVBQUlULEVBQVFZLE1BQU0sbUNBQ3RCLE1BQU8sS0FNVCxLQUpBckIsRUFBTWtCLEVBQUdBLEVBQUlsQixFQUFJLEdBQUlnQixFQUFjaEIsRUFBSSxHQUFJVyxFQUFVWCxFQUFJLEdBQ3pEYyxFQUFpQlEsS0FBS1gsR0FDdEJFLEtBQ0FNLEVBQVMsRUFDRkEsRUFBU0wsRUFBZVosUUFBUSxDQUlyQyxJQUhBa0IsRUFBUU4sRUFBZU0sTUFBTUQsRUFBUUEsRUFBU1QsR0FDOUNLLEVBQWMsR0FBSVEsT0FBTUgsRUFBTWxCLFFBQzlCZSxFQUFJLEVBQ0dBLEVBQUlHLEVBQU1sQixRQUNmYSxFQUFZRSxHQUFLRyxFQUFNSSxXQUFXUCxHQUNsQ0EsR0FFRkwsR0FBWSxHQUFJYSxZQUFXVixHQUMzQkYsRUFBV2EsS0FBS2QsR0FDaEJPLEdBQVVULEVBRVosTUFBTyxJQUFJaUIsTUFBS2QsR0FDZGUsS0FBTVosS0FJVmpDLEVBQXVCLFdBQ3JCLE1BQU9GLEdBQUVnRCxTQUFTQyxjQUFjLFFBQVFDLEtBQUssbUJBQW1CLEdBQU1BLEtBQUssZUFBZSxHQUFNQSxLQUFLLFlBQWEsR0FBR0MsS0FDbkhDLE1BQU8sRUFDUEMsT0FBUSxFQUNSQyxTQUFVLFFBQ1ZDLE1BQU8sSUFDUEMsU0FBVSxZQUlkcEQsRUFBYyxTQUFTcUQsRUFBU0MsR0FDOUIsR0FBSUMsR0FBVUMsRUFBb0JDLEVBQUtDLEVBQUtDLEVBQVNDLENBT3JELE9BTkFGLE9BQU0sR0FDTkMsTUFBVSxHQUNWRixNQUFNLEdBQ05ELE1BQXFCLEdBQ3JCRCxNQUFXLEdBRVAsVUFESkssRUFBV1AsRUFBUU8sU0FBU0MsZ0JBRTFCSCxFQUFNTCxFQUFRUyxXQUNkSCxFQUFVRCxFQUFJSyxRQUNUVixFQUFRVyxPQUFTTCxHQUEwQyxRQUEvQkQsRUFBSUUsU0FBU0MsaUJBRzlDSixFQUFNN0QsRUFBRSxnQkFBbUIrRCxFQUFVLE1BQzlCRixFQUFJeEMsT0FBUyxHQUFLd0MsRUFBSXRDLEdBQUcsZUFFOUIsMENBQTBDOEMsS0FBS0wsSUFDakRKLEdBQXNCSCxFQUFRYSxZQUU1QlgsRUFBVzNELEVBQUV5RCxHQUFTYyxRQUFRLFlBQVksTUFFeENYLEdBQXNCRCxFQUFTVyxVQUluQ1YsRUFEUyxNQUFRSSxFQUNJUCxFQUFRVyxNQUFRVixFQUVoQkEsR0FFdkJFLEVBQXFCQSxHQUFzQjVELEVBQUV5RCxHQUFTbEMsR0FBRyx1QkFDNUJ2QixFQUFFeUQsR0FBU2xDLEdBQUcsY0FHN0N0QixFQUFRLFdBbUhOLFFBQVNBLEdBQU1ZLEVBQVkyRCxHQUN6QnBELEtBQUtQLFdBQWFBLEVBQ2xCTyxLQUFLb0QsUUFBVUEsRUFDZnBELEtBQUtQLFdBQWFiLEVBQUVvQixLQUFLUCxZQUN6Qk8sS0FBS29ELFFBQVV4RSxFQUFFb0IsS0FBS29ELFNBQVNDLFNBQVMsWUFDeENyRCxLQUFLUCxXQUFXNkQsR0FBRyxRQUFTLFNBQVVDLEdBQ3BDLE1BQU8sVUFBU0MsR0FDZCxHQUFJQyxHQUFlQyxFQUFNQyxFQUFNOUQsRUFBRytELEVBQUc5RCxFQUFLK0QsRUFBTUMsRUFBUS9ELEVBQUtnRSxFQUFNQyxFQUFNQyxFQUFNQyxDQUMvRSxJQUFJVixFQUFHVyxnQkFBa0JYLEVBQUdZLE9BQzFCLE1BQU9aLEdBQUdhLGdCQUdaLElBREFkLEVBQU1lLG9CQUFxQixFQUM0QyxPQUF0QyxPQUEzQnZFLEVBQU15RCxFQUFHZSxlQUF5QnhFLEVBQUkwRCxrQkFBZ0IsSUFFMUQsR0FEQUEsRUFBZ0JELEVBQUdlLGNBQWNkLGNBQzdCQSxFQUFjZSxNQUVoQixJQURBVCxFQUFPTixFQUFjZSxNQUNoQjNFLEVBQUksRUFBR0MsRUFBTWlFLEVBQUs5RCxPQUFRSixFQUFJQyxFQUFLRCxJQUFLLENBRTNDLEdBREE4RCxFQUFPSSxFQUFLbEUsR0FDUjhELEVBQUtoQyxLQUFLUCxNQUFNLFlBQWEsQ0FDL0IwQyxFQUFTLEdBQUlXLFlBQ2JYLEVBQU9ZLE9BQVMsU0FBU0MsR0FDdkIsTUFBT3BCLEdBQU1xQixhQUFhRCxFQUFNUCxPQUFPUyxRQUV6QyxLQUNFZixFQUFPZ0IsY0FBY25CLEVBQUtvQixhQUMxQixNQUFPQyxJQUNUeEIsRUFBR2EsZ0JBQ0gsT0FFZ0IsZUFBZFYsRUFBS2hDLE1BQ1BnQyxFQUFLc0IsWUFBWSxTQUFTQyxHQUN4QixNQUFPM0IsR0FBTUgsUUFBUStCLFFBQVEsYUFDM0JqQixLQUFNZ0IsV0FNVCxJQUFNNUQsTUFBTThELFVBQVVDLFFBQVFDLEtBQUs3QixFQUFjOEIsTUFBTyxnQkFDM0RyQixFQUFPVCxFQUFjK0IsUUFBUSxRQUM3QkMsV0FBVyxXQUNULE1BQU9sQyxHQUFNSCxRQUFRK0IsUUFBUSxhQUMzQmpCLEtBQU1BLEtBRVAsSUFFTFgsRUFBTW1DLHdCQUF3QixTQUFTQyxHQUNyQyxNQUFPcEMsR0FBTXFCLGFBQWFlLElBSWhDLElBQUlsQyxFQUFnQnhFLE9BQU93RSxjQUN6QixHQUF1RCxPQUFsRE8sRUFBUUUsRUFBT1QsRUFBYytCLFFBQVEsU0FBb0J4QixFQUFLL0QsV0FBUyxHQUMxRXdGLFdBQVcsV0FJVCxNQUhBbEMsR0FBTUgsUUFBUStCLFFBQVEsYUFDcEJqQixLQUFNQSxJQUVEWCxFQUFNSCxRQUFRK0IsUUFBUSw2QkFDNUIsT0FDRSxDQUVMLElBREFsQixFQUFPUixFQUFjbUMsTUFDaEJoQyxFQUFJLEVBQUdDLEVBQU9JLEVBQUtoRSxPQUFRMkQsRUFBSUMsRUFBTUQsSUFDeENGLEVBQU9PLEVBQUtMLEdBQ1pMLEVBQU1xQixhQUFhaUIsSUFBSUMsZ0JBQWdCcEMsR0FFekNILEdBQU1tQyx3QkFBd0IsU0FBU0MsTUFHM0MsTUFBTyxRQUVSM0YsT0F5RUwsTUFqUUFuQixHQUFNdUcsVUFBVWhDLFFBQVUsS0FFMUJ2RSxFQUFNdUcsVUFBVTNGLFdBQWEsS0FFN0JaLEVBQU1XLGtCQUFvQixTQUFTdUcsR0FDakMsR0FBSTVHLEVBY0osT0FiQUEsR0FBUSxHQUFJTixHQUFNQyxJQUF1QmtILFNBQVNELEdBQWVBLEdBQ2pFbkgsRUFBRW1ILEdBQWN6QyxHQUFHLFFBQVMsU0FBVUMsR0FDcEMsTUFBTyxVQUFTQyxHQUNkLElBQUt4RSxFQUFZd0UsRUFBR1ksUUFBUSxHQUMxQixNQUFPakYsR0FBTU0sV0FBV3dHLGFBSTlCOUcsRUFBTU0sV0FBVzZELEdBQUcsUUFBUyxTQUFVQyxHQUNyQyxNQUFPLFlBQ0wsTUFBTzNFLEdBQUVtSCxHQUFjMUMsU0FBUyx1QkFHN0JsRSxFQUFNTSxXQUFXNkQsR0FBRyxPQUFRLFNBQVVDLEdBQzNDLE1BQU8sWUFDTCxNQUFPM0UsR0FBRW1ILEdBQWNHLFlBQVksd0JBS3pDckgsRUFBTXdCLGNBQWdCLFNBQVM4RixHQUM3QixHQUFJQyxHQUFTakgsRUFBT1ksRUFBS2dFLENBQ3pCLFFBQTZCLG1CQUFqQnNDLGVBQWlELE9BQWpCQSxhQUF3QkEsYUFBYWpCLGNBQVksTUFBdUQsT0FBMUNyRixFQUFNdUcsT0FBT0MsMkJBQWtHLE9BQTdEeEMsRUFBT2hFLEVBQUl1RixLQUFLZ0IsT0FBUUQsYUFBYWpCLFVBQVcsVUFBb0JyQixFQUFLeUMsUUFBZSxJQUMzT3hHLEtBQUtPLHFCQUFxQjRGLElBRW5DaEgsRUFBUSxHQUFJTixHQUFNQyxJQUF1QjJILGFBQWFOLEdBQVdBLEdBQ2pFQyxHQUFVLEVBQ1Z4SCxFQUFFdUgsR0FBVTdDLEdBQUcsUUFBUyxTQUFTRSxHQUMvQixHQUFJUSxFQUlKLE9BSDRCLE9BQXZCQSxFQUFPUixFQUFHa0QsVUFBNEIsTUFBVDFDLElBQ2hDb0MsR0FBVSxHQUVMLE9BRVR4SCxFQUFFdUgsR0FBVTdDLEdBQUcsVUFBVyxTQUFTRSxHQUNqQyxHQUFJUSxFQW9CSixPQW5CNEIsT0FBdkJBLEVBQU9SLEVBQUdrRCxVQUE0QixNQUFUMUMsSUFDaENvQyxHQUFVLEdBRU8sTUFBZDVDLEVBQUdtRCxTQUFtQyxNQUFkbkQsRUFBR29ELFVBQzlCUixFQUFVNUMsRUFBR21ELFNBQVduRCxFQUFHb0QsU0FFekJSLEdBQTBCLEtBQWY1QyxFQUFHa0QsVUFDaEJ2SCxFQUFNMEgsd0JBQXlCLEVBQy9CMUgsRUFBTU0sV0FBV3dHLFFBQ2pCOUcsRUFBTW1GLG9CQUFxQixFQUMzQm1CLFdBQVcsU0FBVWxDLEdBQ25CLE1BQU8sWUFDTCxJQUFLcEUsRUFBTW1GLG1CQUVULE1BREExRixHQUFFdUgsR0FBVUYsUUFDTDlHLEVBQU0wSCx3QkFBeUIsTUFHbEMsSUFFTCxPQUVUakksRUFBRXVILEdBQVU3QyxHQUFHLFFBQVMsU0FBVUMsR0FDaEMsTUFBTyxrQkFFVDNFLEVBQUV1SCxHQUFVN0MsR0FBRyxRQUFTLFNBQVVDLEdBQ2hDLE1BQU8sWUFDTCxJQUFLcEUsRUFBTTBILHVCQUNULE1BQU9qSSxHQUFFdUgsR0FBVTlDLFNBQVMsdUJBSWxDekUsRUFBRXVILEdBQVU3QyxHQUFHLE9BQVEsU0FBVUMsR0FDL0IsTUFBTyxZQUNMLElBQUtwRSxFQUFNMEgsdUJBQ1QsTUFBT2pJLEdBQUV1SCxHQUFVRCxZQUFZLHVCQUlyQ3RILEVBQUVPLEVBQU1pRSxTQUFTRSxHQUFHLDJCQUE0QixTQUFVQyxHQUN4RCxNQUFPLFlBRUwsTUFEQTNFLEdBQUV1SCxHQUFVRixRQUNMOUcsRUFBTTBILHdCQUF5QixPQUduQ2pJLEVBQUVPLEVBQU1pRSxTQUFTRSxHQUFHLFlBQWEsU0FBVUMsR0FDaEQsTUFBTyxVQUFTQyxFQUFJc0QsR0FDbEIsR0FBSUMsR0FBU0MsRUFBUUMsQ0FNckIsT0FMQUEsR0FBV3JJLEVBQUV1SCxHQUFVZSxLQUFLLGtCQUM1QkYsRUFBU3BJLEVBQUV1SCxHQUFVZSxLQUFLLGdCQUMxQkgsRUFBVW5JLEVBQUV1SCxHQUFVZ0IsTUFDdEJ2SSxFQUFFdUgsR0FBVWdCLElBQUksR0FBS0osRUFBUTVGLE1BQU0sRUFBRzhGLEdBQVlILEVBQUs1QyxLQUFPNkMsRUFBUTVGLE1BQU02RixJQUM1RXBJLEVBQUV1SCxHQUFVLEdBQUdpQixrQkFBa0JILEVBQVdILEVBQUs1QyxLQUFLakUsT0FBUWdILEVBQVdILEVBQUs1QyxLQUFLakUsUUFDNUVyQixFQUFFdUgsR0FBVWhCLFFBQVEsaUJBS2pDdEcsRUFBTTBCLHFCQUF1QixTQUFTOEcsR0FRcEMsTUFOUSxJQUFJeEksR0FBTXdJLEVBQWlCQSxHQUNuQ3pJLEVBQUV5SSxHQUFpQi9ELEdBQUcsUUFBUyxTQUFVQyxHQUN2QyxNQUFPLFlBQ0wsTUFBTzNFLEdBQUV5SSxHQUFpQmhFLFNBQVMsdUJBR2hDekUsRUFBRXlJLEdBQWlCL0QsR0FBRyxPQUFRLFNBQVVDLEdBQzdDLE1BQU8sWUFDTCxNQUFPM0UsR0FBRXlJLEdBQWlCbkIsWUFBWSx3QkE4RTVDckgsRUFBTXVHLFVBQVVSLGFBQWUsU0FBU2UsR0FDdEMsR0FBSTJCLEVBQ0osT0FBSTNCLEdBQUl2RSxNQUFNLDRCQUNMcEIsS0FBS29ELFFBQVErQixRQUFRLG1CQUMxQm9DLFFBQVMsNEZBR2J2SCxLQUFLb0QsUUFBUStCLFFBQVEsbUJBQ3JCbUMsRUFBUyxHQUFJRSxPQUNiRixFQUFPRyxZQUFjLFlBQ3JCSCxFQUFPNUMsT0FBUyxTQUFVbkIsR0FDeEIsTUFBTyxZQUNMLEdBQUltRSxHQUFNQyxFQUFRQyxFQUFLcEgsQ0FDdkJtSCxHQUFTL0YsU0FBU0MsY0FBYyxVQUNoQzhGLEVBQU8zRixNQUFRc0YsRUFBT3RGLE1BQ3RCMkYsRUFBTzFGLE9BQVNxRixFQUFPckYsT0FDdkIyRixFQUFNRCxFQUFPRSxXQUFXLE1BQ3hCRCxFQUFJRSxVQUFVUixFQUFRLEVBQUcsRUFBR0ssRUFBTzNGLE1BQU8yRixFQUFPMUYsUUFDakR6QixFQUFVLElBQ1YsS0FDRUEsRUFBVW1ILEVBQU9JLFVBQVUsYUFDM0JMLEVBQU8zSSxFQUFjeUIsR0FDckIsTUFBT3dFLElBU1QsTUFSSXhFLElBQ0YrQyxFQUFNSCxRQUFRK0IsUUFBUSxjQUNwQnVDLEtBQU1BLEVBQ05sSCxRQUFTQSxFQUNUd0IsTUFBT3NGLEVBQU90RixNQUNkQyxPQUFRcUYsRUFBT3JGLFNBR1pzQixFQUFNSCxRQUFRK0IsUUFBUSxtQkFFOUJuRixNQUNIc0gsRUFBT1UsUUFBVSxTQUFVekUsR0FDekIsTUFBTyxZQUtMLE1BSkFBLEdBQU1ILFFBQVErQixRQUFRLG1CQUNwQm9DLFFBQVMsNkJBQStCNUIsRUFDeENzQyxJQUFLdEMsSUFFQXBDLEVBQU1ILFFBQVErQixRQUFRLG1CQUU5Qm5GLE1BQ0lzSCxFQUFPM0IsSUFBTUEsSUFHdEI5RyxFQUFNdUcsVUFBVU0sd0JBQTBCLFNBQVN3QyxHQUNqRCxHQUFJekYsR0FBSzVDLEVBQUdDLEVBQUtDLEVBQUtvSSxDQUd0QixLQUZBQSxFQUFXQyxLQUFLQyxNQUFNLElBQU9ELEtBQUtFLFVBQ2xDdkksRUFBTUMsS0FBS1AsV0FBVzhJLEtBQUssT0FDdEIxSSxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDNEMsRUFBTTFDLEVBQUlGLEdBQ1Y0QyxFQUFJLGlCQUFtQjBGLElBQVksQ0FFckMsT0FBTzFDLFlBQVcsU0FBVWxDLEdBQzFCLE1BQU8sWUFDTCxHQUFJSyxHQUFHQyxFQUFNRSxDQUViLEtBREFBLEVBQU9SLEVBQU05RCxXQUFXOEksS0FBSyxPQUN4QjNFLEVBQUksRUFBR0MsRUFBT0UsRUFBSzlELE9BQVEyRCxFQUFJQyxFQUFNRCxJQUN4Q25CLEVBQU1zQixFQUFLSCxHQUNObkIsRUFBSSxpQkFBbUIwRixLQUMxQkQsRUFBR3pGLEVBQUlrRCxLQUNQL0csRUFBRTZELEdBQUsrRixTQUdYLE9BQU9qRixHQUFNSCxRQUFRK0IsUUFBUSw4QkFFOUJuRixNQUFPLElBR0xuQixPQUlSeUcsS0FBS3RGLE1BRVIsU0FBVXBCLEVBQUU2SixHQUVYLEdBQ0NDLElBRGVDLFVBQVVDLFVBQVV2RCxRQUFRLFVBQ2pDLEVBR1h3RCxVQUFXSixFQUFRSSxTQUFXakssRUFBRWtLLFFBQy9CQyxVQUNDNUosTUFBVSxTQUFXeUMsV0FBYyxXQUFhQSxXQUF3QyxnQkFBcEIzQyxRQUFjLFNBQW9CLFdBQWEyQyxVQUFTQyxjQUFjLFFBRTNJbUgsUUFFQUMsWUFBWSxTQUFVekksRUFBU21CLEVBQU11SCxHQUNwQyxHQUFJQyxHQUFLLGtCQUFtQlQsSUFDM0JVLEVBQVksWUFBWUQsRUFBRyxzQ0FBc0MzSSxFQUFRLE1BTTFFLE9BRkEwSSxHQUFPRyxjQUFlRCxHQUVmRixFQUFPdEssRUFBRSxJQUFJdUssR0FBSSxJQUd6QkcsWUFBYSxTQUFVQyxFQUFPTCxHQUU3QixHQUFJTSxHQUNIQyxFQUNBQyxFQUNBL0QsRUFBTTRELEVBQU01RCxJQUNaZ0UsRUFBUyxTQUFVbkosR0FDbEIsR0FBSTJJLEdBQUssa0JBQW1CVCxJQUMzQi9HLEVBQU9uQixFQUFRWSxNQUFNLHFCQUFxQixFQUMxQ3NDLE1BQU8sR0FBSWtHLEdBQUVsSSxLQUFNLE1BQVFvRixLQUFNdEcsSUFDakNxSixPQUFTaEIsU0FBU2lCLFFBQVFDLFdBQVdDLFFBQVNySSxHQUMxQyxtQkFBdUJrSSxTQUMzQnZLLFFBQVEySyxNQUFPLGFBQWV0SSxHQUUvQi9DLEVBQUUySyxHQUFPVyxLQUFLLFlBQVlmLEVBQUcseUZBQzdCTyxFQUFhUixFQUFPdEssRUFBRSxJQUFJdUssR0FFMUJ6RixLQUFLWCxLQUFPOEYsU0FBU3NCLEtBQUtDLE9BQVMsSUFBTVAsT0FDekNuRyxLQUFLL0IsS0FBT0EsQ0FFWixJQUFJMEksR0FBVSxXQUNiWixFQUFTYSxTQUFTQSxTQUFTQSxTQUFTRCxRQUFTM0csTUFFdkMrRixJQWdCTkEsRUFBU2MsUUFBUUMsUUFDakJILE1BaEJBWixFQUFXZ0IsR0FBR0MsTUFBTXhCLE9BQU95QixLQUFNMUwsT0FBTzJMLGdCQUN2Q0MsTUFBUSxPQUNSTixNQUFRLFNBQ1JPLE1BQVFqQyxTQUFTc0IsS0FBS1ksV0FDdEJDLFVBQVUsSUFHWHZCLEVBQVN3QixRQUVKeEIsRUFBU2EsU0FBU0EsVUFBWWIsRUFBU2EsU0FBU0EsU0FBU1ksTUFDN0RiLElBRUFaLEVBQVNuRyxHQUFJLGlCQUFrQitHLElBTWpDWixFQUFTYSxTQUFTQSxTQUFTQSxTQUFTYSxLQUFLLGlCQUFpQixTQUFVQyxHQUNuRTFCLEVBQVc1SCxLQUFLLGdCQUFnQnNKLEVBQUVDLE1BQU1DLFdBRXpDN0IsRUFBU2EsU0FBU0EsU0FBU0EsU0FBU2EsS0FBSyxlQUFlLFNBQVVJLEVBQUlDLEdBQ3JFLEdBQUlDLEdBQVUsa0NBQWtDRCxFQUFLRSxXQUFXdkMsR0FBRyxvQkFBb0JxQyxFQUFLRSxXQUFXQyxRQUFRMUQsSUFBSSxNQUVuSHlCLEdBQVdrQyxZQUFhSCxHQUV4QnZDLEVBQU90SyxFQUFFLFlBQVkrRyxFQUFJLE1BQU1rRyxLQUFLLFdBQ25Dak4sRUFBRW9CLE1BQU00TCxZQUFhSCxPQUd2QmhDLEVBQVNhLFNBQVNBLFNBQVNBLFNBQVNhLEtBQUssUUFBUSxTQUFVSSxFQUFJQyxHQUM5RGxNLFFBQVFDLElBQUlnTSxFQUFHQyxLQUlPLFdBQXBCN0YsRUFBSW1HLE9BQU8sRUFBRSxJQUVqQnRDLEVBQU0sR0FBSXVDLGdCQUNWdkMsRUFBSXdDLGFBQWUsT0FDbkJ4QyxFQUFJeUMsbUJBQXFCLFdBQ3hCLEdBQUluSSxFQUNtQixJQUFsQjBGLEVBQUkwQyxhQUNScEksRUFBUyxHQUFJVyxZQUNiWCxFQUFPWSxPQUFTLFdBQ2ZpRixFQUFRN0YsRUFBT2UsU0FFaEJmLEVBQU9nQixjQUFlLEdBQUlwRCxPQUFROEgsRUFBSTJDLFdBQWN4SyxLQUFNLGlCQUc1RDZILEVBQUltQixLQUFNLE1BQU9oRixHQUNqQjZELEVBQUk0QyxLQUFNLE9BRXFCLFVBQXBCekcsRUFBSW1HLE9BQU8sRUFBRSxJQUN4Qm5DLEVBQVFoRSxJQVFWMEcsa0JBQWtCLFNBQVU1SSxHQUMzQixHQUFJNkksSUFBVyxDQUNmLE9BQUs3SSxHQUFjZSxPQUNsQjVGLEVBQUVpTixLQUFNcEksRUFBY2UsTUFBTyxTQUFTeEQsRUFBRTJDLEdBQ3ZDLEdBQUtBLEVBQUtoQyxPQUFRa0gsVUFBU2lCLFFBQVFDLFdBQVc1SyxNQUU3QyxNQURBbU4sSUFBVyxHQUNKLElBR0ZBLEdBR0g3SSxFQUFjOEIsT0FDbEIzRyxFQUFFaU4sS0FBTWhELFNBQVNpQixRQUFRQyxXQUFXNUssTUFBTyxTQUFTd0MsRUFBSzRLLEdBQ3hELEdBQUs5SSxFQUFjOEIsTUFBTUYsUUFBUTFELElBQVMsRUFFekMsTUFEQTJLLElBQVcsR0FDSixJQUdGQSxHQUVELE9BSU56RCxXQUVBM0osT0FBUXVMLEdBQUdDLE9BRWYsU0FBVTlMLEVBQUU2SixHQUVYLEdBQ0MwQixHQUFPTSxHQUFHQyxNQUFNN0IsU0FBU3NCLElBRTFCdkwsR0FBRWtLLE9BQVEyQixHQUFHK0IsU0FBU3BILFdBQ3JCcUgsUUFBVSxTQUFVQyxPQVNyQkMsRUFBRTdELE9BQVEyQixHQUFHQyxNQUFNMUIsS0FBSzRELFdBQVdDLE9BQU96SCxXQUN6QzBILGtCQUFtQnJDLEdBQUdDLE1BQU0xQixLQUFLNEQsV0FBV0MsT0FBT3pILFVBQVUySCxXQUM3REEsV0FBWSxXQUNYL00sS0FBSzhNLGtCQUFrQkUsTUFBT2hOLEtBQU1pTixXQUNwQ2pOLEtBQUtrTixxQkFFTkMsb0JBQXFCMUMsR0FBR0MsTUFBTTFCLEtBQUs0RCxXQUFXQyxPQUFPekgsVUFBVWdJLGFBQy9EQSxhQUFlLFNBQVVwRSxHQUN4QmhKLEtBQUttTixvQkFBb0JILE1BQU1oTixLQUFLaU4sV0FFL0J4QyxHQUFHQyxNQUFNN0IsU0FBU0UsU0FBUzVKLE9BQy9CNkosRUFBS3FFLEtBQUtDLFlBQ1RwSixLQUFVaUcsRUFBS1ksV0FDZndDLFNBQVUsT0FLYkwsa0JBQW1CLFdBQ2xCLEdBQUlNLElBQWtCLENBR3RCeE4sTUFBS3NELEdBQUksdUJBQXlCLFNBQVN5RCxHQUNyQ3lHLEdBQW1CLGtCQUFzQkEsR0FBZ0JDLFNBQzdERCxFQUFnQkMsY0FFWixLQUF1QjFHLElBQzNCeUcsRUFBa0J6RyxJQUNoQi9HLE1BRUpBLEtBQUtzRCxHQUFJLDRCQUE2QnRELEtBQUswTix3QkFBeUIxTixNQUNwRUEsS0FBS3NELEdBQUksNEJBQTZCdEQsS0FBSzJOLHFCQUFzQjNOLE1BRWpFNkssTUFBUTdLLE1BR1QwTix3QkFBeUIsU0FBVTNHLEdBQ3RCL0csS0FBS3VLLE9BRWpCdkssTUFBSzROLGlCQUFtQjdHLEVBQVFpQyxLQUFPLEdBQUl5QixJQUFHQyxNQUFNN0IsU0FBU0csS0FBSzZFLHdCQUNqRUMsV0FBYTlOLEtBQ2IrTixRQUFXdEQsR0FBR0MsTUFBTTdCLFNBQVNHLEtBQUtnRixhQUVuQ2hPLEtBQUtpTyxTQUFVak8sS0FBSzROLGlCQUFpQnRELFNBQVUsNEJBQTZCdEssS0FBS2tPLG9CQUVsRlAscUJBQXNCLFNBQVU1RyxHQUMvQkEsRUFBUW9ILGlCQUVURCxrQkFBbUIsU0FBVW5ILEdBQzVCL0csS0FBS29PLGNBQWVwTyxLQUFLNE4saUJBQWlCdEQsU0FBVSw0QkFDcEQsSUFBSStELElBQVFyRixLQUFNLEtBQ2xCaEosTUFBS3NPLGNBQWNELEdBQ25Cck8sS0FBSytHLFFBQVFzRyxJQUFLZ0IsRUFBSXJGLE1BQ3RCaEosS0FBS3VPLE9BQU8vSCxNQUFNZ0ksT0FBTyxhQVMzQjdCLEVBQUU3RCxPQUFRMkIsR0FBR0MsTUFBTTFCLEtBQUt5RixtQkFBbUJySixXQUMxQzBILGtCQUFtQnJDLEdBQUdDLE1BQU0xQixLQUFLeUYsbUJBQW1CckosVUFBVTJILFdBQzlEQSxXQUFZLFdBQ1gsR0FDQzJCLEdBREdDLEVBQU8zTyxJQUdYQSxNQUFLOE0sa0JBQWtCRSxNQUFNaE4sS0FBS2lOLFdBRWxDak4sS0FBSzZJLFVBQ0oxSixPQUVDNE8sU0FBVSxFQUNWYSxPQUFRLEVBQ1JDLEtBQU8sU0FFUkMsU0FBVyxHQUdIOU8sS0FBSzhOLHFCQUFzQnJELElBQUdDLE1BQU0xQixLQUFLNEQsV0FBV0MsUUFFdkRwQyxHQUFHQyxNQUFNN0IsU0FBU0UsU0FBUzVKLFFBRS9CdVAsRUFBVyxHQUFJakUsSUFBR0MsTUFBTTFCLEtBQUsrRixRQUM1QjdLLEtBQVFpRyxFQUFLWSxXQUNiaUUsVUFBWSxpQkFDWnpCLFVBQVksR0FDWjBCLE1BQU8sV0FDTk4sRUFBSzlGLFNBQVNxRyxPQUFTUCxFQUFLOUYsU0FBUzFKLE1BQ3JDd1AsRUFBS1EsYUFBY2hGLEVBQUtZLGVBRzFCL0ssS0FBSzZJLFNBQVMxSixNQUFNNE8sUUFBVSxHQUFJdEQsSUFBR0MsTUFBTTdCLFNBQVNHLEtBQUs2RSx3QkFDeERDLFdBQWE5TixLQUFLOE4sV0FDbEJDLFFBQVd0RCxHQUFHQyxNQUFNN0IsU0FBU0csS0FBS2dGLFdBQ2xDb0IsV0FBYXBQLEtBQUs4TixXQUFXeEQsU0FBU0EsU0FBU0EsV0FHaER0SyxLQUFLcVAsUUFBUWhDLElBQUssa0JBQW1CcUIsRUFBU1ksWUFJakRDLGlCQUFrQixTQUFVbkUsR0FDM0JwTCxLQUFLNkksU0FBU3FHLE9BQU9uQixRQUFRTixVQUM3QnpOLEtBQUs2SSxTQUFTK0YsTUFBTTNELFFBQ3BCakwsS0FBS3dQLGlCQUVOQyxjQUFlLFNBQVVyRSxHQUN4QjlMLFFBQVFDLElBQUssUUFBUzZMLElBRXZCK0QsYUFBYyxTQUFVckUsR0FDdkIsR0FBSTZELEdBQU8zTyxJQUVYQSxNQUFLNkksU0FBUytGLE1BQVUsR0FBSW5FLElBQUdDLE1BQU0xQixLQUFLMEcsT0FDekM1QixXQUFhOU4sS0FDYjhLLE1BQWFBLElBRWQ5SyxLQUFLNkksU0FBUytGLE1BQU03SCxRQUFTL0csS0FBSzZJLFNBQVNxRyxPQUFPbkIsU0FDbEQvTixLQUFLNkksU0FBUytGLE1BQU1qRSxPQUVwQjNLLEtBQUs2SSxTQUFTK0YsTUFBTXRMLEdBQUksUUFBUyxXQUNoQ3FMLEVBQUthLGNBQWN4QyxNQUFNMkIsR0FDekJBLEVBQUs5RixTQUFTcUcsT0FBT25CLFFBQVE0QixpQkFHOUIzUCxLQUFLNkksU0FBU3FHLE9BQU9uQixRQUFRSSxnQkFFN0JuTyxLQUFLaU8sU0FBVWpPLEtBQUs2SSxTQUFTcUcsT0FBT25CLFFBQVF6RCxTQUFVLDRCQUE2QnRLLEtBQUt1UCxrQkFDeEZ2UCxLQUFLaU8sU0FBVWpPLEtBQUs2SSxTQUFTcUcsT0FBT25CLFFBQVF6RCxTQUFVLDJCQUE0QnRLLEtBQUt5UCxnQkFFeEZELGNBQWUsV0FFZHhQLEtBQUs4TixXQUFXOEIsZUFBZ0I1UCxLQUFLNkksU0FBU3FHLE9BQU9MLE1BQU9nQixhQUFjLFFBRTFFN1AsS0FBS29PLGNBQWVwTyxLQUFLNkksU0FBU3FHLE9BQU9uQixRQUFRekQsU0FBVSw2QkFDM0R0SyxLQUFLb08sY0FBZXBPLEtBQUs2SSxTQUFTcUcsT0FBT25CLFFBQVF6RCxTQUFVLGdDQUkzRHBMLE9BQU9ELFFBRVYsU0FBVUwsRUFBRUssRUFBTzJLLEdBQ2xCLEdBQUlmLEdBQVc0QixHQUFHQyxNQUFNN0IsU0FHdkJzQixHQUZTTSxHQUFHQyxNQUFNMUIsS0FBSytGLE9BQ2R0RSxHQUFHQyxNQUFNMUIsS0FBSzBHLE1BQ2Q3RyxFQUFTc0IsS0FHbkJNLElBQUdDLE1BQU03QixTQUFTRyxLQUFLOEcsd0JBQTBCckYsR0FBR0MsTUFBTXFGLEtBQUtqSCxRQUM5RGtILFNBQVV2RixHQUFHdUYsU0FBUyxxQkFDdEJoQixVQUFXLG9CQUNYbEIsV0FBVyxLQUNYdkUsTUFBUSxLQUNSMEcsWUFBYyxLQUNkQyxXQUFhLEtBRWI1RixTQUFXLEtBRVg2RixRQUNDQywrQkFBaUMsY0FDakNDLGdDQUFrQyxnQkFFbkN0RCxXQUFhLFdBRVp0QyxHQUFHQyxNQUFNcUYsS0FBSzNLLFVBQVUySCxXQUFXQyxNQUFPaE4sS0FBTWlOLFdBRWhETixFQUFFMkQsU0FBVXRRLEtBQUs4SixTQUNoQnlHLGdCQUFrQnBHLEVBQUtaLE9BR2YsSUFBSWtCLElBQUdDLE1BQU1xRixNQUNyQlMsUUFBYSxNQUNieEIsVUFBYSxjQUNibEIsV0FBYTlOLEtBQUs4TixZQUduQjlOLE1BQUtzSyxTQUFXdEssS0FBSzhKLFFBQVEyRyxTQUU5QkMsYUFBZSxTQUFVNUosR0FDeEIsR0FBSTZKLEdBQVkzUSxLQUFLNFEsZ0JBQWdCQyxLQUFLLElBQUlySyxJQUFJLEdBQ2pEbUksRUFBTzNPLEtBQ1A4USxFQUFTaEssRUFBSzFGLE1BQU0sd0JBQXdCLEVBNEI3QyxPQTFCT3lILEdBQVNpQixRQUFRQyxXQUFXQyxRQUFROEcsS0FDMUNBLEVBQVM5USxLQUFLOEosUUFBUWlILG1CQUdsQi9RLEtBQUt1SixPQUNUdkosS0FBS3VKLE1BQU15SCxVQUdaaFIsS0FBS3VKLE1BQVEsR0FBSUssR0FBRXBDLE1BQ25CeEgsS0FBS3VKLE1BQU03RSxPQUFTLFdBQ25CLEdBQUl1TSxHQUFPdEMsRUFBS3VDLGNBQWNDLFVBQVUsVUFDdkNDLEVBQVFoSixLQUFLaUosSUFBS0osRUFBS2pQLE1BQVFoQyxLQUFLZ0MsTUFBT2lQLEVBQUtoUCxPQUFTakMsS0FBS2lDLFVBRTdEZ1AsR0FBU0csRUFBUSxHQUFNcFIsS0FBS3NSLFNBQVV0UixLQUFLZ0MsTUFBTW9QLEVBQU9wUixLQUFLaUMsT0FBT21QLEdBRXRFcFIsS0FBS3VSLE1BQU9aLElBR2IzUSxLQUFLdUosTUFBTWlJLEtBQU0xSyxHQUNaOUcsS0FBSzRRLGlCQUNUNVEsS0FBSzRRLGdCQUFnQmEsT0FBT3pSLEtBQUt1SixPQUVsQ3ZKLEtBQUtwQixFQUFFLHdDQUF3Q2tTLEVBQU8sTUFBTTVKLEtBQU0sV0FBVyxHQUc3RWxILEtBQUtrRCxVQUFTLEdBQ1BsRCxNQUVSc1AsT0FBUyxXQU1SLE1BTEE3RSxJQUFHQyxNQUFNcUYsS0FBSzNLLFVBQVVrSyxPQUFPdEMsTUFBTWhOLEtBQUtpTixXQUMxQ2pOLEtBQUs0USxnQkFBa0I1USxLQUFLcEIsRUFBRSxvQkFDOUJvQixLQUFLaVEsWUFBY2pRLEtBQUtwQixFQUFFLDJCQUMxQm9CLEtBQUtrUSxXQUFhbFEsS0FBS3BCLEVBQUUsMEJBQ3pCb0IsS0FBS3BCLEVBQUUsMEJBQTBCdUksSUFBS25ILEtBQUs4SixRQUFReUcsaUJBQzVDdlEsTUFFUjBSLGFBQWUsV0FDZDFSLEtBQUttRixRQUFTLDJCQUE2Qm5GLE1BQzNDQSxLQUFLMlIsd0JBRU5ySSxZQUFjLFdBRWIsR0FBSTNILEdBQU8zQixLQUFLcEIsRUFBRSxvQ0FBb0N1SSxNQUNyRDBDLEVBQVNoQixFQUFTaUIsUUFBUUMsV0FBV0MsUUFBU3JJLEdBQzlDb0IsRUFBTy9DLEtBQUtwQixFQUFFLCtCQUErQnVJLE1BQVEsSUFBTTBDLEVBQzNEbkMsRUFBTzFILEtBQUt1SixNQUFNcUksVUFBV2pRLEVBQU1rSCxFQUFTaUIsUUFBUStILGFBRXJEN1IsTUFBSzhSLHFCQUVMcEssRUFBS3FLLE9BQVFySyxFQUFLc0ssYUFDbEJ0SyxFQUFLM0UsS0FBT0EsRUFDWjJFLEVBQUsvRixLQUFPQSxFQUNaM0IsS0FBS2tSLGNBQWM3RyxRQUFTM0MsRUFBTzNFLEdBRW5DL0MsS0FBS2tELFVBQVUsR0FFZmxELEtBQUttRixRQUFTLDBCQUE0Qm5GLE9BRTNDaVMsS0FBSyxXQUVKLE1BREFqUyxNQUFLa1MsSUFBSUQsT0FDRmpTLE1BRVJtUyxLQUFLLFdBRUosTUFEQW5TLE1BQUtrUyxJQUFJQyxPQUNGblMsTUFFUmtELFNBQVcsU0FBVUEsR0FDcEJsRCxLQUFLaVEsWUFBWS9JLEtBQU0sV0FBWWhFLEdBQ25DbEQsS0FBS2tRLFdBQVdoSixLQUFNLFdBQVloRSxJQUVuQ2tQLHNCQUF3QixXQUN2QnBTLEtBQUttRixRQUFTLDZCQUNkbkYsS0FBS2tELFVBQVMsR0FDZGxELEtBQUsyUix3QkFFTlUsb0JBQXNCLFdBQ3JCclMsS0FBS21GLFFBQVMsNEJBQ2RuRixLQUFLa0QsVUFBUyxHQUNkbEQsS0FBSzJSLHdCQUVORyxtQkFBcUIsV0FDcEI5UixLQUFLa1IsY0FBYy9GLEtBQU0sZUFBZ0JuTCxLQUFLb1Msc0JBQXVCcFMsTUFDckVBLEtBQUtrUixjQUFjL0YsS0FBTSxRQUFXbkwsS0FBS3FTLG9CQUFxQnJTLE9BRS9EMlIscUJBQXVCLFdBQ3RCM1IsS0FBS2tSLGNBQWNvQixPQUFRLGVBQWdCdFMsS0FBS29TLHNCQUF1QnBTLE1BQ3ZFQSxLQUFLa1IsY0FBY29CLE9BQVEsUUFBV3RTLEtBQUtxUyxvQkFBcUJyUyxPQUVqRWtSLFlBQWEsV0FDWixNQUFPbFIsTUFBSzhOLFdBQVd4RCxTQUFTQSxTQUFTQSxZQUszQ0csR0FBR0MsTUFBTTdCLFNBQVNHLEtBQUtnRixXQUFhdkQsR0FBR0MsTUFBTXFGLEtBQUtqSCxRQUNqRGtILFNBQVV2RixHQUFHdUYsU0FBUyx1QkFDdEJoQixVQUFXLHNCQUNYbEIsV0FBVyxLQUNYeUUsT0FBTyxRQUNQQyxZQUFjLEtBRWRsRCxPQUFRLFdBQ1AsR0FBSVgsR0FBTzNPLElBT1gsT0FOQXlLLElBQUdDLE1BQU1xRixLQUFLM0ssVUFBVWtLLE9BQU90QyxNQUFNaE4sS0FBS2lOLFdBQzFDak4sS0FBS3dTLFlBQWN4UyxLQUFLcEIsRUFBRyxhQUFjMEIsMEJBQ3pDTixLQUFLeVMsU0FBV3pTLEtBQUtwQixFQUFHLFlBQ3hCb0IsS0FBS3dTLFlBQVlsUCxHQUFHLFFBQVMsV0FDNUJxTCxFQUFLK0QsYUFBYSxNQUVaMVMsTUFFUjJTLE1BQVEsV0FDUCxHQUNDdEcsR0FER3NDLEVBQU8zTyxJQWtDWCxPQS9CQUEsTUFBSzRTLGFBQWMsRUFFbkI1UyxLQUFLd1MsWUFDSGxQLEdBQUcsUUFBUSxTQUFTOEgsR0FDcEJpQixFQUFvQjVCLEdBQUdDLE1BQU03QixTQUFTd0Qsa0JBQWtCakIsRUFBRTdHLGNBQWNkLGlCQUV4RUgsR0FBRyxZQUFjLFNBQVU4SCxFQUFHdEUsR0FFekJ1RixHQUFxQnNDLEVBQUtpRSxjQUcvQmpFLEVBQUsrRCxhQUFjdkksRUFBSzBJLHNCQUN4QmpVLEVBQUdvQixNQUFPNlEsS0FBSyxPQUVmdk4sR0FBRyxhQUFlLFNBQVU4SCxFQUFHdEUsR0FDMUI2SCxFQUFLaUUsY0FHVmpFLEVBQUt4SixRQUFTLDBCQUEyQm5GLEtBQU84RyxFQUFLdEcsU0FDckRtTyxFQUFLaUUsYUFBYyxLQUVuQnRQLEdBQUcsa0JBQW9CLFNBQVU4SCxFQUFHdEUsR0FDcEM2SCxFQUFLK0QsYUFBY3ZJLEVBQUsySSxhQUN4QmxVLEVBQUdvQixNQUFPNlEsS0FBSyxNQUlqQnBMLFdBQVcsV0FDVmtKLEVBQUs2RCxZQUFZaE0sSUFBSSxHQUFHUCxTQUN2QixHQUVLakcsTUFFUitTLEtBQU8sV0FLTixNQUpBL1MsTUFBS3dTLFlBQ0hRLElBQUksY0FDSkEsSUFBSSxtQkFDSkEsSUFBSSxhQUNDaFQsTUFFUmlTLEtBQUssV0FFSixNQURBalMsTUFBS2tTLElBQUlELE9BQ0ZqUyxNQUVSbVMsS0FBSyxXQUVKLE1BREFuUyxNQUFLa1MsSUFBSUMsT0FDRm5TLE1BRVIwUyxhQUFhLFNBQVVPLEdBQ3RCalQsS0FBS3lTLFNBQVN2TyxLQUFNK08sTUFJdEJ4SSxHQUFHQyxNQUFNN0IsU0FBU0csS0FBSzZFLHVCQUF5QnBELEdBQUdDLE1BQU1xRixLQUFLakgsUUFFN0RrSCxTQUFVdkYsR0FBR3VGLFNBQVMsb0JBQ3RCaEIsVUFBWSxtQkFFWmpCLFFBQVUsS0FDVnpELFNBQVcsS0FFWHlDLFdBQWEsV0FDWixHQUFJbUcsR0FBTXpJLEdBQUdDLE1BQU1xRixLQUFLM0ssVUFBVTJILFdBQVdDLE1BQU9oTixLQUFNaU4sVUFzQjFELE9BcEJBTixHQUFFMkQsU0FBVXRRLEtBQUs4SixTQUNoQnNGLFdBQWMsS0FDZG1CLGdCQUFrQnBHLEVBQUtDLE9BQ3ZCMkcsa0JBQW9CLFlBQ3BCakcsTUFBVVgsRUFBS1ksYUFHaEIvSyxLQUFLK04sUUFBVyxHQUFJL04sTUFBSzhKLFFBQVFpRSxTQUFXRCxXQUFhOU4sS0FBSzhOLGFBRTlEOU4sS0FBS3NLLFNBQVcsR0FBSUcsSUFBR0MsTUFBTTdCLFNBQVNHLEtBQUs4Ryx5QkFDckNoQyxXQUFlOU4sS0FBSzhOLFdBQ3BCMkMsUUFBYXpRLEtBQUs4SixRQUFRc0YsV0FDMUJtQixnQkFBbUJ2USxLQUFLOEosUUFBUXlHLGdCQUNoQ1Esa0JBQW9CL1EsS0FBSzhKLFFBQVFpSCxvQkFFdkMvUSxLQUFLc1AsU0FFTHRQLEtBQUtpTyxTQUFVak8sS0FBSytOLFFBQVMsMEJBQTJCL04sS0FBS21ULGNBQzdEblQsS0FBS2lPLFNBQVVqTyxLQUFLc0ssU0FBVSwyQkFBNEJ0SyxLQUFLbU8sZUFFeEQrRSxHQUVSNUQsT0FBTyxXQVNOLE1BTkE3RSxJQUFHQyxNQUFNcUYsS0FBSzNLLFVBQVVrSyxPQUFPdEMsTUFBT2hOLEtBQU1pTixXQUU1Q2pOLEtBQUtwQixFQUFFLFlBQ0w2UyxPQUFRelIsS0FBSytOLFFBQVF1QixTQUFTNEMsS0FDOUJULE9BQVF6UixLQUFLc0ssU0FBU2dGLFNBQVM0QyxLQUUxQmxTLE1BRVJtVCxhQUFlLFNBQVVwRixFQUFVcUYsR0FDbENwVCxLQUFLK04sUUFBUWdGLE9BQU9aLE9BQ3BCblMsS0FBS3NLLFNBQVMySCxPQUFPdkIsYUFBYzBDLElBRXBDakYsY0FBYyxXQUdiLE1BRkFuTyxNQUFLc0ssU0FBUzZILE9BQ2RuUyxLQUFLK04sUUFBUWtFLE9BQU9VLFFBQ2IzUyxNQUVSMlAsYUFBYSxXQUVaLE1BREEzUCxNQUFLK04sUUFBUWdGLE9BQ04vUyxNQUVScVQsVUFBWSxXQUNYLE1BQU9yVCxNQUFLK04sUUFBUXdFLFFBRXJCOUUsUUFBUSxXQUVQLE1BREF6TixNQUFLK04sUUFBUWdGLE9BQ04vUyxTQUlQZCxPQUFPRCxPQUFPcVUiLCJmaWxlIjoidGhlLXBhc3RlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIi8vIEdlbmVyYXRlZCBieSBDb2ZmZWVTY3JpcHQgMS4xMi43XG5cbi8qXG5wYXN0ZS5qcyBpcyBhbiBpbnRlcmZhY2UgdG8gcmVhZCBkYXRhICggdGV4dCAvIGltYWdlICkgZnJvbSBjbGlwYm9hcmQgaW4gZGlmZmVyZW50IGJyb3dzZXJzLiBJdCBhbHNvIGNvbnRhaW5zIHNldmVyYWwgaGFja3MuXG5cbmh0dHBzOi8vZ2l0aHViLmNvbS9sYXllcnNzc3MvcGFzdGUuanNcbiAqL1xuXG4oZnVuY3Rpb24oKSB7XG4gIHZhciAkLCBQYXN0ZSwgY3JlYXRlSGlkZGVuRWRpdGFibGUsIGRhdGFVUkx0b0Jsb2IsIGlzRm9jdXNhYmxlO1xuXG4gICQgPSB3aW5kb3cualF1ZXJ5O1xuXG4gICQucGFzdGUgPSBmdW5jdGlvbihwYXN0ZUNvbnRhaW5lcikge1xuICAgIHZhciBwbTtcbiAgICBpZiAodHlwZW9mIGNvbnNvbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgY29uc29sZSAhPT0gbnVsbCkge1xuICAgICAgY29uc29sZS5sb2coXCJERVBSRUNBVEVEOiBUaGlzIG1ldGhvZCBpcyBkZXByZWNhdGVkLiBQbGVhc2UgdXNlICQuZm4ucGFzdGFibGVOb25JbnB1dGFibGUoKSBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgcG0gPSBQYXN0ZS5tb3VudE5vbklucHV0YWJsZShwYXN0ZUNvbnRhaW5lcik7XG4gICAgcmV0dXJuIHBtLl9jb250YWluZXI7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZU5vbklucHV0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygndGV4dGFyZWEsIGlucHV0OnRleHQsIFtjb250ZW50ZWRpdGFibGVdJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudE5vbklucHV0YWJsZShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlVGV4dGFyZWEgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJzpub3QodGV4dGFyZWEsIGlucHV0OnRleHQpJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudFRleHRhcmVhKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVDb250ZW50ZWRpdGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJzpub3QoW2NvbnRlbnRlZGl0YWJsZV0pJykpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBQYXN0ZS5tb3VudENvbnRlbnRlZGl0YWJsZShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICBkYXRhVVJMdG9CbG9iID0gZnVuY3Rpb24oZGF0YVVSTCwgc2xpY2VTaXplKSB7XG4gICAgdmFyIGI2NERhdGEsIGJ5dGVBcnJheSwgYnl0ZUFycmF5cywgYnl0ZUNoYXJhY3RlcnMsIGJ5dGVOdW1iZXJzLCBjb250ZW50VHlwZSwgaSwgbSwgb2Zmc2V0LCByZWYsIHNsaWNlO1xuICAgIGlmIChzbGljZVNpemUgPT0gbnVsbCkge1xuICAgICAgc2xpY2VTaXplID0gNTEyO1xuICAgIH1cbiAgICBpZiAoIShtID0gZGF0YVVSTC5tYXRjaCgvXmRhdGFcXDooW15cXDtdKylcXDtiYXNlNjRcXCwoLispJC8pKSkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIHJlZiA9IG0sIG0gPSByZWZbMF0sIGNvbnRlbnRUeXBlID0gcmVmWzFdLCBiNjREYXRhID0gcmVmWzJdO1xuICAgIGJ5dGVDaGFyYWN0ZXJzID0gYXRvYihiNjREYXRhKTtcbiAgICBieXRlQXJyYXlzID0gW107XG4gICAgb2Zmc2V0ID0gMDtcbiAgICB3aGlsZSAob2Zmc2V0IDwgYnl0ZUNoYXJhY3RlcnMubGVuZ3RoKSB7XG4gICAgICBzbGljZSA9IGJ5dGVDaGFyYWN0ZXJzLnNsaWNlKG9mZnNldCwgb2Zmc2V0ICsgc2xpY2VTaXplKTtcbiAgICAgIGJ5dGVOdW1iZXJzID0gbmV3IEFycmF5KHNsaWNlLmxlbmd0aCk7XG4gICAgICBpID0gMDtcbiAgICAgIHdoaWxlIChpIDwgc2xpY2UubGVuZ3RoKSB7XG4gICAgICAgIGJ5dGVOdW1iZXJzW2ldID0gc2xpY2UuY2hhckNvZGVBdChpKTtcbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgYnl0ZUFycmF5ID0gbmV3IFVpbnQ4QXJyYXkoYnl0ZU51bWJlcnMpO1xuICAgICAgYnl0ZUFycmF5cy5wdXNoKGJ5dGVBcnJheSk7XG4gICAgICBvZmZzZXQgKz0gc2xpY2VTaXplO1xuICAgIH1cbiAgICByZXR1cm4gbmV3IEJsb2IoYnl0ZUFycmF5cywge1xuICAgICAgdHlwZTogY29udGVudFR5cGVcbiAgICB9KTtcbiAgfTtcblxuICBjcmVhdGVIaWRkZW5FZGl0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAkKGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpKS5hdHRyKCdjb250ZW50ZWRpdGFibGUnLCB0cnVlKS5hdHRyKCdhcmlhLWhpZGRlbicsIHRydWUpLmF0dHIoJ3RhYmluZGV4JywgLTEpLmNzcyh7XG4gICAgICB3aWR0aDogMSxcbiAgICAgIGhlaWdodDogMSxcbiAgICAgIHBvc2l0aW9uOiAnZml4ZWQnLFxuICAgICAgbGVmdDogLTEwMCxcbiAgICAgIG92ZXJmbG93OiAnaGlkZGVuJ1xuICAgIH0pO1xuICB9O1xuXG4gIGlzRm9jdXNhYmxlID0gZnVuY3Rpb24oZWxlbWVudCwgaGFzVGFiaW5kZXgpIHtcbiAgICB2YXIgZmllbGRzZXQsIGZvY3VzYWJsZUlmVmlzaWJsZSwgaW1nLCBtYXAsIG1hcE5hbWUsIG5vZGVOYW1lO1xuICAgIG1hcCA9IHZvaWQgMDtcbiAgICBtYXBOYW1lID0gdm9pZCAwO1xuICAgIGltZyA9IHZvaWQgMDtcbiAgICBmb2N1c2FibGVJZlZpc2libGUgPSB2b2lkIDA7XG4gICAgZmllbGRzZXQgPSB2b2lkIDA7XG4gICAgbm9kZU5hbWUgPSBlbGVtZW50Lm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XG4gICAgaWYgKCdhcmVhJyA9PT0gbm9kZU5hbWUpIHtcbiAgICAgIG1hcCA9IGVsZW1lbnQucGFyZW50Tm9kZTtcbiAgICAgIG1hcE5hbWUgPSBtYXAubmFtZTtcbiAgICAgIGlmICghZWxlbWVudC5ocmVmIHx8ICFtYXBOYW1lIHx8IG1hcC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpICE9PSAnbWFwJykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpbWcgPSAkKCdpbWdbdXNlbWFwPVxcJyMnICsgbWFwTmFtZSArICdcXCddJyk7XG4gICAgICByZXR1cm4gaW1nLmxlbmd0aCA+IDAgJiYgaW1nLmlzKCc6dmlzaWJsZScpO1xuICAgIH1cbiAgICBpZiAoL14oaW5wdXR8c2VsZWN0fHRleHRhcmVhfGJ1dHRvbnxvYmplY3QpJC8udGVzdChub2RlTmFtZSkpIHtcbiAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9ICFlbGVtZW50LmRpc2FibGVkO1xuICAgICAgaWYgKGZvY3VzYWJsZUlmVmlzaWJsZSkge1xuICAgICAgICBmaWVsZHNldCA9ICQoZWxlbWVudCkuY2xvc2VzdCgnZmllbGRzZXQnKVswXTtcbiAgICAgICAgaWYgKGZpZWxkc2V0KSB7XG4gICAgICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gIWZpZWxkc2V0LmRpc2FibGVkO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmICgnYScgPT09IG5vZGVOYW1lKSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSBlbGVtZW50LmhyZWYgfHwgaGFzVGFiaW5kZXg7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IGhhc1RhYmluZGV4O1xuICAgIH1cbiAgICBmb2N1c2FibGVJZlZpc2libGUgPSBmb2N1c2FibGVJZlZpc2libGUgfHwgJChlbGVtZW50KS5pcygnW2NvbnRlbnRlZGl0YWJsZV0nKTtcbiAgICByZXR1cm4gZm9jdXNhYmxlSWZWaXNpYmxlICYmICQoZWxlbWVudCkuaXMoJzp2aXNpYmxlJyk7XG4gIH07XG5cbiAgUGFzdGUgPSAoZnVuY3Rpb24oKSB7XG4gICAgUGFzdGUucHJvdG90eXBlLl90YXJnZXQgPSBudWxsO1xuXG4gICAgUGFzdGUucHJvdG90eXBlLl9jb250YWluZXIgPSBudWxsO1xuXG4gICAgUGFzdGUubW91bnROb25JbnB1dGFibGUgPSBmdW5jdGlvbihub25JbnB1dGFibGUpIHtcbiAgICAgIHZhciBwYXN0ZTtcbiAgICAgIHBhc3RlID0gbmV3IFBhc3RlKGNyZWF0ZUhpZGRlbkVkaXRhYmxlKCkuYXBwZW5kVG8obm9uSW5wdXRhYmxlKSwgbm9uSW5wdXRhYmxlKTtcbiAgICAgICQobm9uSW5wdXRhYmxlKS5vbignY2xpY2snLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgaWYgKCFpc0ZvY3VzYWJsZShldi50YXJnZXQsIGZhbHNlKSkge1xuICAgICAgICAgICAgcmV0dXJuIHBhc3RlLl9jb250YWluZXIuZm9jdXMoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICBwYXN0ZS5fY29udGFpbmVyLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQobm9uSW5wdXRhYmxlKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiBwYXN0ZS5fY29udGFpbmVyLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChub25JbnB1dGFibGUpLnJlbW92ZUNsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBQYXN0ZS5tb3VudFRleHRhcmVhID0gZnVuY3Rpb24odGV4dGFyZWEpIHtcbiAgICAgIHZhciBjdGxEb3duLCBwYXN0ZSwgcmVmLCByZWYxO1xuICAgICAgaWYgKCh0eXBlb2YgRGF0YVRyYW5zZmVyICE9PSBcInVuZGVmaW5lZFwiICYmIERhdGFUcmFuc2ZlciAhPT0gbnVsbCA/IERhdGFUcmFuc2Zlci5wcm90b3R5cGUgOiB2b2lkIDApICYmICgocmVmID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcikgIT0gbnVsbCA/IChyZWYxID0gcmVmLmNhbGwoT2JqZWN0LCBEYXRhVHJhbnNmZXIucHJvdG90eXBlLCAnaXRlbXMnKSkgIT0gbnVsbCA/IHJlZjEuZ2V0IDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5tb3VudENvbnRlbnRlZGl0YWJsZSh0ZXh0YXJlYSk7XG4gICAgICB9XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjcmVhdGVIaWRkZW5FZGl0YWJsZSgpLmluc2VydEJlZm9yZSh0ZXh0YXJlYSksIHRleHRhcmVhKTtcbiAgICAgIGN0bERvd24gPSBmYWxzZTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdrZXl1cCcsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciByZWYyO1xuICAgICAgICBpZiAoKHJlZjIgPSBldi5rZXlDb2RlKSA9PT0gMTcgfHwgcmVmMiA9PT0gMjI0KSB7XG4gICAgICAgICAgY3RsRG93biA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgICAkKHRleHRhcmVhKS5vbigna2V5ZG93bicsIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgIHZhciByZWYyO1xuICAgICAgICBpZiAoKHJlZjIgPSBldi5rZXlDb2RlKSA9PT0gMTcgfHwgcmVmMiA9PT0gMjI0KSB7XG4gICAgICAgICAgY3RsRG93biA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChldi5jdHJsS2V5ICE9IG51bGwpICYmIChldi5tZXRhS2V5ICE9IG51bGwpKSB7XG4gICAgICAgICAgY3RsRG93biA9IGV2LmN0cmxLZXkgfHwgZXYubWV0YUtleTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3RsRG93biAmJiBldi5rZXlDb2RlID09PSA4Nikge1xuICAgICAgICAgIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSB0cnVlO1xuICAgICAgICAgIHBhc3RlLl9jb250YWluZXIuZm9jdXMoKTtcbiAgICAgICAgICBwYXN0ZS5fcGFzdGVfZXZlbnRfZmlyZWQgPSBmYWxzZTtcbiAgICAgICAgICBzZXRUaW1lb3V0KChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICBpZiAoIXBhc3RlLl9wYXN0ZV9ldmVudF9maXJlZCkge1xuICAgICAgICAgICAgICAgICQodGV4dGFyZWEpLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSBmYWxzZTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9KSh0aGlzKSwgMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdwYXN0ZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7fTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gJCh0ZXh0YXJlYSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLnJlbW92ZUNsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQocGFzdGUuX3RhcmdldCkub24oJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgJCh0ZXh0YXJlYSkuZm9jdXMoKTtcbiAgICAgICAgICByZXR1cm4gcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiA9IGZhbHNlO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuICQocGFzdGUuX3RhcmdldCkub24oJ3Bhc3RlVGV4dCcsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYsIGRhdGEpIHtcbiAgICAgICAgICB2YXIgY29udGVudCwgY3VyRW5kLCBjdXJTdGFydDtcbiAgICAgICAgICBjdXJTdGFydCA9ICQodGV4dGFyZWEpLnByb3AoJ3NlbGVjdGlvblN0YXJ0Jyk7XG4gICAgICAgICAgY3VyRW5kID0gJCh0ZXh0YXJlYSkucHJvcCgnc2VsZWN0aW9uRW5kJyk7XG4gICAgICAgICAgY29udGVudCA9ICQodGV4dGFyZWEpLnZhbCgpO1xuICAgICAgICAgICQodGV4dGFyZWEpLnZhbChcIlwiICsgY29udGVudC5zbGljZSgwLCBjdXJTdGFydCkgKyBkYXRhLnRleHQgKyBjb250ZW50LnNsaWNlKGN1ckVuZCkpO1xuICAgICAgICAgICQodGV4dGFyZWEpWzBdLnNldFNlbGVjdGlvblJhbmdlKGN1clN0YXJ0ICsgZGF0YS50ZXh0Lmxlbmd0aCwgY3VyU3RhcnQgKyBkYXRhLnRleHQubGVuZ3RoKTtcbiAgICAgICAgICByZXR1cm4gJCh0ZXh0YXJlYSkudHJpZ2dlcignY2hhbmdlJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFBhc3RlLm1vdW50Q29udGVudGVkaXRhYmxlID0gZnVuY3Rpb24oY29udGVudGVkaXRhYmxlKSB7XG4gICAgICB2YXIgcGFzdGU7XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjb250ZW50ZWRpdGFibGUsIGNvbnRlbnRlZGl0YWJsZSk7XG4gICAgICAkKGNvbnRlbnRlZGl0YWJsZSkub24oJ2ZvY3VzJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChjb250ZW50ZWRpdGFibGUpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgZnVuY3Rpb24gUGFzdGUoX2NvbnRhaW5lciwgX3RhcmdldCkge1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gX2NvbnRhaW5lcjtcbiAgICAgIHRoaXMuX3RhcmdldCA9IF90YXJnZXQ7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSAkKHRoaXMuX2NvbnRhaW5lcik7XG4gICAgICB0aGlzLl90YXJnZXQgPSAkKHRoaXMuX3RhcmdldCkuYWRkQ2xhc3MoJ3Bhc3RhYmxlJyk7XG4gICAgICB0aGlzLl9jb250YWluZXIub24oJ3Bhc3RlJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIHZhciBjbGlwYm9hcmREYXRhLCBmaWxlLCBpdGVtLCBqLCBrLCBsZW4sIGxlbjEsIHJlYWRlciwgcmVmLCByZWYxLCByZWYyLCByZWYzLCB0ZXh0O1xuICAgICAgICAgIGlmIChldi5jdXJyZW50VGFyZ2V0ICE9PSBldi50YXJnZXQpIHtcbiAgICAgICAgICAgIHJldHVybiBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdGhpcy5fcGFzdGVfZXZlbnRfZmlyZWQgPSB0cnVlO1xuICAgICAgICAgIGlmICgoKHJlZiA9IGV2Lm9yaWdpbmFsRXZlbnQpICE9IG51bGwgPyByZWYuY2xpcGJvYXJkRGF0YSA6IHZvaWQgMCkgIT0gbnVsbCkge1xuICAgICAgICAgICAgY2xpcGJvYXJkRGF0YSA9IGV2Lm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YTtcbiAgICAgICAgICAgIGlmIChjbGlwYm9hcmREYXRhLml0ZW1zKSB7XG4gICAgICAgICAgICAgIHJlZjEgPSBjbGlwYm9hcmREYXRhLml0ZW1zO1xuICAgICAgICAgICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYxLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgICAgICAgICAgaXRlbSA9IHJlZjFbal07XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZS5tYXRjaCgvXmltYWdlXFwvLykpIHtcbiAgICAgICAgICAgICAgICAgIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XG4gICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZXZlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVJbWFnZShldmVudC50YXJnZXQucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpdGVtLmdldEFzRmlsZSgpKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgICAgICAgICAgICAgICAgZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlID09PSAndGV4dC9wbGFpbicpIHtcbiAgICAgICAgICAgICAgICAgIGl0ZW0uZ2V0QXNTdHJpbmcoZnVuY3Rpb24oc3RyaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dCcsIHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBzdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgtMSAhPT0gQXJyYXkucHJvdG90eXBlLmluZGV4T2YuY2FsbChjbGlwYm9hcmREYXRhLnR5cGVzLCAndGV4dC9wbGFpbicpKSB7XG4gICAgICAgICAgICAgICAgdGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpO1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90aGlzLl9jaGVja0ltYWdlc0luQ29udGFpbmVyKGZ1bmN0aW9uKHNyYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlSW1hZ2Uoc3JjKTtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChjbGlwYm9hcmREYXRhID0gd2luZG93LmNsaXBib2FyZERhdGEpIHtcbiAgICAgICAgICAgIGlmICgocmVmMiA9ICh0ZXh0ID0gY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0JykpKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dCcsIHtcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHRleHRcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnKTtcbiAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZWYzID0gY2xpcGJvYXJkRGF0YS5maWxlcztcbiAgICAgICAgICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHJlZjMubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7XG4gICAgICAgICAgICAgICAgZmlsZSA9IHJlZjNba107XG4gICAgICAgICAgICAgICAgX3RoaXMuX2hhbmRsZUltYWdlKFVSTC5jcmVhdGVPYmplY3RVUkwoZmlsZSkpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90aGlzLl9jaGVja0ltYWdlc0luQ29udGFpbmVyKGZ1bmN0aW9uKHNyYykge30pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9XG5cbiAgICBQYXN0ZS5wcm90b3R5cGUuX2hhbmRsZUltYWdlID0gZnVuY3Rpb24oc3JjKSB7XG4gICAgICB2YXIgbG9hZGVyO1xuICAgICAgaWYgKHNyYy5tYXRjaCgvXndlYmtpdFxcLWZha2VcXC11cmxcXDpcXC9cXC8vKSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFcnJvcicsIHtcbiAgICAgICAgICBtZXNzYWdlOiBcIllvdSBhcmUgdHJ5aW5nIHRvIHBhc3RlIGFuIGltYWdlIGluIFNhZmFyaSwgaG93ZXZlciB3ZSBhcmUgdW5hYmxlIHRvIHJldGlldmUgaXRzIGRhdGEuXCJcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZVN0YXJ0Jyk7XG4gICAgICBsb2FkZXIgPSBuZXcgSW1hZ2UoKTtcbiAgICAgIGxvYWRlci5jcm9zc09yaWdpbiA9IFwiYW5vbnltb3VzXCI7XG4gICAgICBsb2FkZXIub25sb2FkID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgYmxvYiwgY2FudmFzLCBjdHgsIGRhdGFVUkw7XG4gICAgICAgICAgY2FudmFzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnY2FudmFzJyk7XG4gICAgICAgICAgY2FudmFzLndpZHRoID0gbG9hZGVyLndpZHRoO1xuICAgICAgICAgIGNhbnZhcy5oZWlnaHQgPSBsb2FkZXIuaGVpZ2h0O1xuICAgICAgICAgIGN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xuICAgICAgICAgIGN0eC5kcmF3SW1hZ2UobG9hZGVyLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpO1xuICAgICAgICAgIGRhdGFVUkwgPSBudWxsO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBkYXRhVVJMID0gY2FudmFzLnRvRGF0YVVSTCgnaW1hZ2UvcG5nJyk7XG4gICAgICAgICAgICBibG9iID0gZGF0YVVSTHRvQmxvYihkYXRhVVJMKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgICBpZiAoZGF0YVVSTCkge1xuICAgICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlJywge1xuICAgICAgICAgICAgICBibG9iOiBibG9iLFxuICAgICAgICAgICAgICBkYXRhVVJMOiBkYXRhVVJMLFxuICAgICAgICAgICAgICB3aWR0aDogbG9hZGVyLndpZHRoLFxuICAgICAgICAgICAgICBoZWlnaHQ6IGxvYWRlci5oZWlnaHRcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRW5kJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIGxvYWRlci5vbmVycm9yID0gKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFcnJvcicsIHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIGdldCBpbWFnZSBmcm9tOiBcIiArIHNyYyxcbiAgICAgICAgICAgIHVybDogc3JjXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVuZCcpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICByZXR1cm4gbG9hZGVyLnNyYyA9IHNyYztcbiAgICB9O1xuXG4gICAgUGFzdGUucHJvdG90eXBlLl9jaGVja0ltYWdlc0luQ29udGFpbmVyID0gZnVuY3Rpb24oY2IpIHtcbiAgICAgIHZhciBpbWcsIGosIGxlbiwgcmVmLCB0aW1lc3BhbjtcbiAgICAgIHRpbWVzcGFuID0gTWF0aC5mbG9vcigxMDAwICogTWF0aC5yYW5kb20oKSk7XG4gICAgICByZWYgPSB0aGlzLl9jb250YWluZXIuZmluZCgnaW1nJyk7XG4gICAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgaW1nID0gcmVmW2pdO1xuICAgICAgICBpbWdbXCJfcGFzdGVfbWFya2VkX1wiICsgdGltZXNwYW5dID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZXRUaW1lb3V0KChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGssIGxlbjEsIHJlZjE7XG4gICAgICAgICAgcmVmMSA9IF90aGlzLl9jb250YWluZXIuZmluZCgnaW1nJyk7XG4gICAgICAgICAgZm9yIChrID0gMCwgbGVuMSA9IHJlZjEubGVuZ3RoOyBrIDwgbGVuMTsgaysrKSB7XG4gICAgICAgICAgICBpbWcgPSByZWYxW2tdO1xuICAgICAgICAgICAgaWYgKCFpbWdbXCJfcGFzdGVfbWFya2VkX1wiICsgdGltZXNwYW5dKSB7XG4gICAgICAgICAgICAgIGNiKGltZy5zcmMpO1xuICAgICAgICAgICAgICAkKGltZykucmVtb3ZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyksIDEpO1xuICAgIH07XG5cbiAgICByZXR1cm4gUGFzdGU7XG5cbiAgfSkoKTtcblxufSkuY2FsbCh0aGlzKTtcblxuKGZ1bmN0aW9uKCQsZXhwb3J0cyl7XG5cblx0dmFyIGlzX2Nocm9tZVx0PSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEsXG5cdFx0Y291bnRlciA9IDAsXG5cdFx0d29ya2Zsb3c7XG5cblx0dGhlcGFzdGUgPSBleHBvcnRzLnRoZXBhc3RlID0gJC5leHRlbmQoIHtcblx0XHRzdXBwb3J0cyA6IHtcblx0XHRcdHBhc3RlOiAoICgncGFzdGUnIGluIGRvY3VtZW50KSB8fCAoJ29ucGFzdGUnIGluIGRvY3VtZW50KSB8fCB0eXBlb2Yod2luZG93Lm9ucGFzdGUpID09PSAnb2JqZWN0JyB8fCAoICdvbnBhc3RlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKSApICksIC8vIGJyb3dzZXJcblx0XHR9LFxuXHRcdHZpZXc6e30sXG5cblx0XHRpbnNlcnRJbWFnZTpmdW5jdGlvbiggZGF0YVVSTCwgdHlwZSwgZWRpdG9yICkge1xuXHRcdFx0dmFyIGlkID0gJ19fdGhlcGFzdGVfaW1nXycrKGNvdW50ZXIrKyksXG5cdFx0XHRcdGltYWdlSHRtbCA9ICc8aW1nIGlkPVwiJytpZCsnXCIgY2xhc3M9XCJhbGlnbm5vbmUgc2l6ZS1mdWxsXCIgc3JjPVwiJytkYXRhVVJMKydcIiAvPicsXG5cdFx0XHRcdCRjb250YWluZXI7XG5cblxuXHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoIGltYWdlSHRtbCApO1xuXG5cdFx0XHRyZXR1cm4gZWRpdG9yLiQoJyMnK2lkKVswXTtcblx0XHR9LFxuXG5cdFx0dXBsb2FkSW1hZ2U6IGZ1bmN0aW9uKCBpbWFnZSwgZWRpdG9yICkge1xuXG5cdFx0XHR2YXIgeGhyLFxuXHRcdFx0XHR3b3JrZmxvdyxcblx0XHRcdFx0JGNvbnRhaW5lcixcblx0XHRcdFx0c3JjID0gaW1hZ2Uuc3JjLFxuXHRcdFx0XHR1cGxvYWQgPSBmdW5jdGlvbiggZGF0YVVSTCApe1xuXHRcdFx0XHRcdHZhciBpZCA9ICdfX3RoZXBhc3RlX2JveF8nKyhjb3VudGVyKyspLFxuXHRcdFx0XHRcdFx0dHlwZSA9IGRhdGFVUkwubWF0Y2goL15kYXRhXFw6KFteXFw7XSspXFw7LylbMV1cblx0XHRcdFx0XHRcdGZpbGUgPSBuZXcgby5CbG9iKCBudWxsLCB7IGRhdGE6IGRhdGFVUkwgfSApXG5cdFx0XHRcdFx0XHRzdWZmaXggPSB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFsgdHlwZSBdO1xuXHRcdFx0XHRcdGlmICggJ3VuZGVmaW5lZCcgPT09IHR5cGVvZiBzdWZmaXggKSB7XG5cdFx0XHRcdFx0XHRjb25zb2xlLnRyYWNlKCAnYmFkIHR5cGU6ICcgKyB0eXBlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdCQoaW1hZ2UpLndyYXAoJzxkaXYgaWQ9XCInK2lkKydcIiBkYXRhLXByb2dyZXNzPVwiMFwiIGNsYXNzPVwidGhlcGFzdGUtaW1hZ2UtcGxhY2Vob2xkZXJcIiBjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiPjwvZGl2PicpO1xuXHRcdFx0XHRcdCRjb250YWluZXIgPSBlZGl0b3IuJCgnIycraWQpO1xuXG5cdFx0XHRcdFx0ZmlsZS5uYW1lID0gdGhlcGFzdGUubDEwbi5wYXN0ZWQgKyAnLicgKyBzdWZmaXg7XG5cdFx0XHRcdFx0ZmlsZS50eXBlID0gdHlwZTtcblxuXHRcdFx0XHRcdHZhciBhZGRGaWxlID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmFkZEZpbGUoIGZpbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCAhIHdvcmtmbG93ICkge1xuXHRcdFx0XHRcdFx0d29ya2Zsb3cgPSB3cC5tZWRpYS5lZGl0b3Iub3Blbiggd2luZG93LndwQWN0aXZlRWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdGZyYW1lOlx0XHQncG9zdCcsXG5cdFx0XHRcdFx0XHRcdHN0YXRlOlx0XHQnaW5zZXJ0Jyxcblx0XHRcdFx0XHRcdFx0dGl0bGU6XHRcdHRoZXBhc3RlLmwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRcdFx0bXVsdGlwbGU6XHRmYWxzZVxuXHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5jbG9zZSgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyICYmIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnJlYWR5ICkge1xuXHRcdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3b3JrZmxvdy5vbiggJ3VwbG9hZGVyOnJlYWR5JywgYWRkRmlsZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5zdGF0ZSgpLnJlc2V0KCk7XG5cdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ1VwbG9hZFByb2dyZXNzJyxmdW5jdGlvbiggZSApe1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5hdHRyKCdkYXRhLXByb2dyZXNzJyxlLnRvdGFsLnBlcmNlbnQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0ZpbGVVcGxvYWRlZCcsZnVuY3Rpb24oIHVwLCBhcmdzICl7XG5cdFx0XHRcdFx0XHR2YXIgaW1nSFRNTCA9ICc8aW1nIGNsYXNzPVwiYWxpZ25ub25lIHdwLWltYWdlLScrYXJncy5hdHRhY2htZW50LmlkKycgc2l6ZS1mdWxsXCIgc3JjPVwiJythcmdzLmF0dGFjaG1lbnQuY2hhbmdlZC51cmwrJ1wiIC8+Jztcblx0XHRcdFx0XHRcdC8vIHJlcGxhY2UgaW1hZ2Vcblx0XHRcdFx0XHRcdCRjb250YWluZXIucmVwbGFjZVdpdGgoIGltZ0hUTUwgKTtcblx0XHRcdFx0XHRcdC8vIHJlcGxhY2Ugb3RoZXIgaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRlZGl0b3IuJCgnaW1nW3NyYz1cIicrc3JjKydcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdCQodGhpcykucmVwbGFjZVdpdGgoIGltZ0hUTUwgKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0Vycm9yJyxmdW5jdGlvbiggdXAsIGFyZ3MgKXtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHVwLGFyZ3MpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRpZiAoIHNyYy5zdWJzdHIoMCw1KSA9PT0gJ2Jsb2I6JyApIHtcblxuXHRcdFx0XHR4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcblx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0dmFyIHJlYWRlcjtcblx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09IDQgKSB7XG5cdFx0XHRcdFx0XHRyZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHR1cGxvYWQoIHJlYWRlci5yZXN1bHQgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHRcdHJlYWRlci5yZWFkQXNEYXRhVVJMKCBuZXcgQmxvYiggWyB4aHIucmVzcG9uc2UgXSwgeyB0eXBlOiAnaW1hZ2UvcG5nJyB9ICkgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdFx0eGhyLm9wZW4oICdHRVQnLCBzcmMgKTtcblx0XHRcdFx0eGhyLnNlbmQoIG51bGwgKTtcblxuXHRcdFx0fSBlbHNlIGlmICggc3JjLnN1YnN0cigwLDUpID09PSAnZGF0YTonICkge1xuXHRcdFx0XHR1cGxvYWQoIHNyYyApO1xuXHRcdFx0fVxuXG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqXHRAcmV0dXJuOiBudWxsfHRydWV8ZmFsc2Vcblx0XHQgKi9cblx0XHRjbGlwYm9hcmRIYXNJbWFnZTpmdW5jdGlvbiggY2xpcGJvYXJkRGF0YSApIHtcblx0XHRcdHZhciBoYXNJbWFnZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLml0ZW1zICkge1xuXHRcdFx0XHQkLmVhY2goIGNsaXBib2FyZERhdGEuaXRlbXMsIGZ1bmN0aW9uKGksaXRlbSl7XG5cdFx0XHRcdFx0aWYgKCBpdGVtLnR5cGUgaW4gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS50eXBlcyApIHtcblx0XHRcdFx0JC5lYWNoKCB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMucGFzdGUsIGZ1bmN0aW9uKHR5cGUsZXh0KXtcblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMuaW5kZXhPZih0eXBlKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblxuXHR9LCB0aGVwYXN0ZSApO1xuXG59KSggalF1ZXJ5LCB3cC5tZWRpYSApO1xuXG4oZnVuY3Rpb24oJCxleHBvcnRzKXtcblxuXHR2YXIgY291bnRlciAgICAgID0gMCxcblx0XHRsMTBuID0gd3AubWVkaWEudGhlcGFzdGUubDEwbjtcblxuXHQkLmV4dGVuZCggd3AuVXBsb2FkZXIucHJvdG90eXBlLCB7XG5cdFx0c3VjY2VzcyA6IGZ1bmN0aW9uKCBmaWxlX2F0dGFjaG1lbnQgKXtcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRJbnRlZ3JhdGUgaW50byBtZWRpYSBsaWJyYXJ5IG1vZGFsXG5cdCAqL1xuXHQvLyBhZGQgc3RhdGVzIHRvIGJyb3dzZSByb3V0ZXJcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudEluaXRpYWxpemU6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRJbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuYmluZFBhc3RlSGFuZGxlcnMoKTtcblx0XHR9LFxuXHRcdF9wYXJlbnRCcm93c2VSb3V0ZXI6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmJyb3dzZVJvdXRlcixcblx0XHRicm93c2VSb3V0ZXIgOiBmdW5jdGlvbiggdmlldyApIHtcblx0XHRcdHRoaXMuX3BhcmVudEJyb3dzZVJvdXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggd3AubWVkaWEudGhlcGFzdGUuc3VwcG9ydHMucGFzdGUgKSB7XG5cdFx0XHRcdHZpZXcuc2V0KHtwYXN0ZWJvYXJkOntcblx0XHRcdFx0XHR0ZXh0OiAgICAgbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdHByaW9yaXR5OiAzNVxuXHRcdFx0XHR9fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJpbmRQYXN0ZUhhbmRsZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcmV2aW91c0NvbnRlbnQgPSBmYWxzZTtcblx0XHRcblx0XHRcdC8vIGRpc21pc3MgY29udGVudCBvbiBjbG9zZVxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6cmVuZGVyIGNsb3NlJyAsIGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIHByZXZpb3VzQ29udGVudCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgcHJldmlvdXNDb250ZW50LmRpc21pc3MgKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50LmRpc21pc3MoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29udGVudCApXG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50ID0gY29udGVudDtcblx0XHRcdH0gLCB0aGlzICk7XG5cdFx0XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpjcmVhdGU6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudENyZWF0ZVBhc3RlYm9hcmQsIHRoaXMgKTtcblx0XHRcdHRoaXMub24oICdjb250ZW50OnJlbmRlcjpwYXN0ZWJvYXJkJywgdGhpcy5jb250ZW50UmVuZGVyR3JhYmJlciwgdGhpcyApO1xuXG5cdFx0XHRmcmFtZSA9IHRoaXM7XG5cdFx0fSxcblx0XHQvLyBhZGQgaGFuZGxlcnNcblx0XHRjb250ZW50Q3JlYXRlUGFzdGVib2FyZDogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHR2YXIgc3RhdGUgPSB0aGlzLnN0YXRlKCk7XG5cblx0XHRcdHRoaXMuY3VycmVudFBhc3RlVmlldyA9IGNvbnRlbnQudmlldyA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHsgXG5cdFx0XHRcdGNvbnRyb2xsZXJcdDogdGhpcywgXG5cdFx0XHRcdGdyYWJiZXJcdFx0OiB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmRcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudXBsb2FkZWREYXRhSW1hZ2UgKTtcblx0XHR9LFxuXHRcdGNvbnRlbnRSZW5kZXJHcmFiYmVyOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQuc3RhcnRHcmFiYmluZygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkZWREYXRhSW1hZ2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLmN1cnJlbnRQYXN0ZVZpZXcudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dmFyIG9iaiA9IHsgdmlldzogbnVsbCB9O1xuXHRcdFx0dGhpcy5icm93c2VDb250ZW50KG9iaik7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBvYmoudmlldyApO1xuXHRcdFx0dGhpcy5yb3V0ZXIuZ2V0KCkuc2VsZWN0KCdicm93c2UnKVxuXHRcdH1cblx0fSk7XG5cdFxuXG5cblx0LyoqXG5cdCAqXHRBZGQgcGFzdGUgYnV0dG9uIHRvIHRvb2xiYXIgb24gdXBsb2FkLnBocFxuXHQgKi9cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOlx0d3AubWVkaWEudmlldy5BdHRhY2htZW50c0Jyb3dzZXIucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTpcdGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwYXN0ZUJ0bjtcblxuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRcblx0XHRcdHRoaXMudGhlcGFzdGUgPSB7XG5cdFx0XHRcdHBhc3RlXHQ6IHtcbi8vXHRcdFx0XHRcdGJ1dHRvblx0OiBmYWxzZSxcblx0XHRcdFx0XHRncmFiYmVyXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGFsXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGVcdDogJ3Bhc3RlJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3VycmVudFx0XHQ6IGZhbHNlXG5cdFx0XHR9XG5cblx0XHRcdGlmICggISAoIHRoaXMuY29udHJvbGxlciBpbnN0YW5jZW9mIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QgKSApIHtcblxuXHRcdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXG5cdFx0XHRcdFx0cGFzdGVCdG4gPSBuZXcgd3AubWVkaWEudmlldy5CdXR0b24oIHtcblx0XHRcdFx0XHRcdHRleHRcdFx0OiBsMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6ICAnZ3JhYmJlci1idXR0b24nLFxuXHRcdFx0XHRcdFx0cHJpb3JpdHlcdDogLTY0LFxuXHRcdFx0XHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZSA9IHNlbGYudGhlcGFzdGUucGFzdGU7XG5cdFx0XHRcdFx0XHRcdHNlbGYudGhlcGFzdGVPcGVuKCBsMTBuLmNvcHlfcGFzdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0dGhpcy50aGVwYXN0ZS5wYXN0ZS5ncmFiYmVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlcigge1xuXHRcdFx0XHRcdFx0Y29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkLFxuXHRcdFx0XHRcdFx0d3B1cGxvYWRlclx0OiB0aGlzLmNvbnRyb2xsZXIudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXJcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHR0aGlzLnRvb2xiYXIuc2V0KCAncGFzdGVNb2RlQnV0dG9uJywgcGFzdGVCdG4ucmVuZGVyKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlcGFzdGVVcGxvYWRlZDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLmRpc21pc3MoKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY2xvc2UoKTtcblx0XHRcdHRoaXMudGhlcGFzdGVDbG9zZSgpO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVFcnJvcjogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRjb25zb2xlLmxvZyggJ2Vycm9yJywgZSApO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVPcGVuOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwgID0gIG5ldyB3cC5tZWRpYS52aWV3Lk1vZGFsKCB7XG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLFxuXHRcdFx0XHR0aXRsZSAgICAgIDogdGl0bGVcblx0XHRcdH0gKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY29udGVudCggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlciApO1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5vcGVuKCk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub24oICdjbG9zZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlQ2xvc2UuYXBwbHkoc2VsZik7XG5cdFx0XHRcdHNlbGYudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RvcEdyYWJiaW5nKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5zdGFydEdyYWJiaW5nKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZVVwbG9hZGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnZXJyb3I6dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZUVycm9yICk7XG5cdFx0fSxcblx0XHR0aGVwYXN0ZUNsb3NlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dGhpcy5jb250cm9sbGVyLmRlYWN0aXZhdGVNb2RlKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5tb2RlICkuYWN0aXZhdGVNb2RlKCAnZWRpdCcgKTtcblxuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHR9XG5cdH0pO1xuXHRcbn0pKGpRdWVyeSx3aW5kb3cpO1xuXG4oZnVuY3Rpb24oJCx3aW5kb3csbyl7XG5cdHZhciB0aGVwYXN0ZSA9IHdwLm1lZGlhLnRoZXBhc3RlLFxuXHRcdEJ1dHRvbiA9IHdwLm1lZGlhLnZpZXcuQnV0dG9uLFxuXHRcdE1vZGFsICA9IHdwLm1lZGlhLnZpZXcuTW9kYWwsXG5cdFx0bDEwbiAgID0gdGhlcGFzdGUubDEwbjtcblxuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS11cGxvYWRlcicpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXVwbG9hZGVyJyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0aW1hZ2UgOiBudWxsLFxuXHRcdCRkaXNjYXJkQnRuIDogbnVsbCxcblx0XHQkdXBsb2FkQnRuIDogbnVsbCxcblx0XHRcblx0XHR1cGxvYWRlciA6IG51bGwsXG5cdFx0XG5cdFx0ZXZlbnRzIDoge1xuXHRcdFx0J2NsaWNrIFtkYXRhLWFjdGlvbj1cInVwbG9hZFwiXSdcdDogJ3VwbG9hZEltYWdlJyxcblx0XHRcdCdjbGljayBbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdJ1x0OiAnZGlzY2FyZEltYWdlJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemUgOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHRkZWZhdWx0RmlsZU5hbWUgOiBsMTBuLmltYWdlXG5cdFx0XHR9KTtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0aW5zdHIgPSBuZXcgd3AubWVkaWEuVmlldyh7XG5cdFx0XHRcdHRhZ05hbWUgICAgOiAnZGl2Jyxcblx0XHRcdFx0Y2xhc3NOYW1lICA6ICdpbnN0cnVtZW50cycsXG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLmNvbnRyb2xsZXJcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gdGhpcy5vcHRpb25zLnVwbG9kZXI7XG5cdFx0fSxcblx0XHRzZXRJbWFnZURhdGEgOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdHZhciBjb250YWluZXIgPSB0aGlzLiRpbWFnZUNvbnRhaW5lci5odG1sKCcnKS5nZXQoMCksXG5cdFx0XHRcdHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRmb3JtYXQgPSBkYXRhLm1hdGNoKC9kYXRhOihpbWFnZVxcLyhcXHcrKSk7LylbMV07XG5cblx0XHRcdGlmICggISB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFtmb3JtYXRdICkge1xuXHRcdFx0XHRmb3JtYXQgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXQ7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICggdGhpcy5pbWFnZSApIHtcblx0XHRcdFx0dGhpcy5pbWFnZS5kZXN0cm95KCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW1hZ2UgPSBuZXcgby5JbWFnZSgpO1xuXHRcdFx0dGhpcy5pbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG9wdHMgPSBzZWxmLmdldFVwbG9hZGVyKCkuZ2V0T3B0aW9uKCdyZXNpemUnKSxcblx0XHRcdFx0XHRzY2FsZSA9IE1hdGgubWF4KCBvcHRzLndpZHRoIC8gdGhpcy53aWR0aCwgb3B0cy5oZWlnaHQgLyB0aGlzLmhlaWdodCApO1xuXG5cdFx0XHRcdCEhb3B0cyAmJiAoc2NhbGUgPCAxKSAmJiB0aGlzLmRvd25zaXplKCB0aGlzLndpZHRoKnNjYWxlLCB0aGlzLmhlaWdodCpzY2FsZSApO1xuXG5cdFx0XHRcdHRoaXMuZW1iZWQoIGNvbnRhaW5lciApO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmltYWdlLmxvYWQoIGRhdGEgKTtcblx0XHRcdGlmICggdGhpcy4kaW1hZ2VDb250YWluZXIgKSB7XG5cdFx0XHRcdHRoaXMuJGltYWdlQ29udGFpbmVyLmFwcGVuZCh0aGlzLmltYWdlKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cImZvcm1hdFwiXSBpbnB1dFt2YWx1ZT1cIicrZm9ybWF0KydcIl0nKS5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblxuXG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVuZGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaW1hZ2VDb250YWluZXIgPSB0aGlzLiQoJy5pbWFnZS1jb250YWluZXInKTtcblx0XHRcdHRoaXMuJGRpc2NhcmRCdG4gPSB0aGlzLiQoJ1tkYXRhLWFjdGlvbj1cImRpc2NhcmRcIl0nKTtcblx0XHRcdHRoaXMuJHVwbG9hZEJ0biA9IHRoaXMuJCgnW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdJyk7XG5cdFx0XHR0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJ0aXRsZVwiXScpLnZhbCggdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlTmFtZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkaXNjYXJkSW1hZ2UgOiBmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyAsIHRoaXMgKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdHVwbG9hZEltYWdlIDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB0eXBlID0gdGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwiZm9ybWF0XCJdIDpjaGVja2VkJykudmFsKCksXG5cdFx0XHRcdHN1ZmZpeCA9IHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0WyB0eXBlIF0sXG5cdFx0XHRcdG5hbWUgPSB0aGlzLiQoJ2lucHV0W2RhdGEtc2V0dGluZz1cInRpdGxlXCJdJykudmFsKCkgKyAnLicgKyBzdWZmaXgsXG5cdFx0XHRcdGJsb2IgPSB0aGlzLmltYWdlLmdldEFzQmxvYiggdHlwZSwgdGhlcGFzdGUub3B0aW9ucy5qcGVnX3F1YWxpdHkgKTtcblxuXHRcdFx0dGhpcy5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblxuXHRcdFx0YmxvYi5kZXRhY2goIGJsb2IuZ2V0U291cmNlKCkgKTtcblx0XHRcdGJsb2IubmFtZSA9IG5hbWU7XG5cdFx0XHRibG9iLnR5cGUgPSB0eXBlO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmFkZEZpbGUoIGJsb2IgLCBuYW1lICk7XG5cblx0XHRcdHRoaXMuZGlzYWJsZWQoIHRydWUgKTtcblxuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOnVwbG9hZDpkYXRhaW1hZ2UnICwgdGhpcyApO1xuXHRcdH0sXG5cdFx0c2hvdzpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy4kZWwuc2hvdygpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRoaWRlOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRpc2FibGVkIDogZnVuY3Rpb24oIGRpc2FibGVkICkge1xuXHRcdFx0dGhpcy4kZGlzY2FyZEJ0bi5wcm9wKCAnZGlzYWJsZWQnLCBkaXNhYmxlZCApO1xuXHRcdFx0dGhpcy4kdXBsb2FkQnRuLnByb3AoICdkaXNhYmxlZCcsIGRpc2FibGVkICk7XG5cdFx0fSxcblx0XHRfdXBsb2FkU3VjY2Vzc0hhbmRsZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdF91cGxvYWRFcnJvckhhbmRsZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0YmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5iaW5kKCAnRXJyb3InLFx0XHRcdHRoaXMuX3VwbG9hZEVycm9ySGFuZGxlcixcdHRoaXMgKTtcblx0XHR9LFxuXHRcdHVuYmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkudW5iaW5kKCAnRmlsZVVwbG9hZGVkJyxcdHRoaXMuX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyLFx0dGhpcyApO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHRnZXRVcGxvYWRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250cm9sbGVyLnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyO1xuXHRcdH1cblx0fSk7XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmQgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1wYXN0ZWJvYXJkJyksXG5cdFx0Y2xhc3NOYW1lOiAndGhlcGFzdGUtcGFzdGVib2FyZCcsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGFjdGlvbjoncGFzdGUnLFxuXHRcdCRwYXN0ZWJvYXJkIDogbnVsbCxcblxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZCA9IHRoaXMuJCggJy5pbmplY3RvcicgKS5wYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSgpO1xuXHRcdFx0dGhpcy4kbWVzc2FnZSA9IHRoaXMuJCggJy5tZXNzYWdlJyApO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSgnJyk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHN0YXJ0IDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGNsaXBib2FyZEhhc0ltYWdlO1xuXG5cdFx0XHR0aGlzLmltYWdlUGFzdGVkID0gZmFsc2U7XG5cblx0XHRcdHRoaXMuJHBhc3RlYm9hcmRcblx0XHRcdFx0Lm9uKCdwYXN0ZScsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0Y2xpcGJvYXJkSGFzSW1hZ2UgPSB3cC5tZWRpYS50aGVwYXN0ZS5jbGlwYm9hcmRIYXNJbWFnZShlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vbigncGFzdGVUZXh0JyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjbGlwYm9hcmRIYXNJbWFnZSB8fCBzZWxmLmltYWdlUGFzdGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSggbDEwbi5wYXN0ZV9lcnJvcl9ub19pbWFnZSApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5odG1sKCcnKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5vbigncGFzdGVJbWFnZScgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlciggJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJywgdGhpcyAsIGRhdGEuZGF0YVVSTCApO1xuXHRcdFx0XHRcdHNlbGYuaW1hZ2VQYXN0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlRXJyb3InICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cdFx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoIGwxMG4ucGFzdGVfZXJyb3IgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuaHRtbCgnJyk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQ7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi4kcGFzdGVib2FyZC5nZXQoMCkuZm9jdXMoKTtcblx0XHRcdH0sMSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlJylcblx0XHRcdFx0Lm9mZigncGFzdGVJbWFnZUVycm9yJylcblx0XHRcdFx0Lm9mZigncGFzdGVUZXh0Jyk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3dfbWVzc2FnZTpmdW5jdGlvbiggbXNnICkge1xuXHRcdFx0dGhpcy4kbWVzc2FnZS50ZXh0KCBtc2cgKTtcblx0XHR9XG5cdH0pO1xuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlciA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcbi8vXHRcdHRhZ05hbWU6ICAgJ2RpdicsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1ncmFiYmVyJyksXG5cdFx0Y2xhc3NOYW1lIDogJ3RoZXBhc3RlLWdyYWJiZXInLFxuXHRcdFxuXHRcdGdyYWJiZXIgOiBudWxsLFxuXHRcdHVwbG9hZGVyIDogbnVsbCxcblx0XHRcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gd3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR3cHVwbG9hZGVyXHRcdDogbnVsbCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lXHQ6IGwxMG4ucGFzdGVkLFxuXHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdCA6ICdpbWFnZS9wbmcnLFxuXHRcdFx0XHR0aXRsZVx0XHRcdDogbDEwbi5jb3B5X3Bhc3RlIFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZ3JhYmJlciAgPSBuZXcgdGhpcy5vcHRpb25zLmdyYWJiZXIoIHsgY29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIgfSApO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIoIHtcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlclx0XHRcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBsb2Rlclx0XHRcdFx0OiB0aGlzLm9wdGlvbnMud3B1cGxvYWRlcixcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0XHQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZ3JhYmJlciwgJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJyxcdHRoaXMuaW1hZ2VDcmVhdGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnVwbG9hZGVyLCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyxcdHRoaXMuc3RhcnRHcmFiYmluZyApO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0cmVuZGVyOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuJCgnLmNvbnRlbnQnKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLmdyYWJiZXIucmVuZGVyKCkuJGVsIClcblx0XHRcdFx0LmFwcGVuZCggdGhpcy51cGxvYWRlci5yZW5kZXIoKS4kZWwgKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRpbWFnZUNyZWF0ZWQgOiBmdW5jdGlvbiggZ3JhYmJlciAsIGltYWdlRGF0YSApIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCkuaGlkZSgpO1xuXHRcdFx0dGhpcy51cGxvYWRlci5zaG93KCkuc2V0SW1hZ2VEYXRhKCBpbWFnZURhdGEgKTtcblx0XHR9LFxuXHRcdHN0YXJ0R3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLmhpZGUoKTtcblx0XHRcdHRoaXMuZ3JhYmJlci5zaG93KCkuc3RhcnQoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcEdyYWJiaW5nOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0QWN0aW9uIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ncmFiYmVyLmFjdGlvbjtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxufSkoalF1ZXJ5LHdpbmRvdyxtT3hpZSk7XG4iXX0=
