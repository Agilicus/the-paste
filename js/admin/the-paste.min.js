!function(e,t){var a=(navigator.userAgent.indexOf("Chrome"),0);thepaste=t.thepaste=e.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"==typeof window.onpaste||"onpaste"in document.createElement("DIV")},view:{},insertImage:function(e,t,i){var s="__thepaste_img_"+a++,o='<img id="'+s+'" class="alignnone size-full" src="'+e+'" />';return i.insertContent(o),i.$("#"+s)[0]},uploadImage:function(t,i){var s,r,n,p=t.src,d=function(s){var d="__thepaste_box_"+a++,l=s.match(/^data\:([^\;]+)\;/)[1];file=new o.Blob(null,{data:s}),suffix=thepaste.options.mime_types.convert[l],"undefined"==typeof suffix&&console.trace("bad type: "+l),e(t).wrap('<div id="'+d+'" data-progress="0" class="thepaste-image-placeholder" contenteditable="false"></div>'),n=i.$("#"+d),file.name=thepaste.l10n.pasted+"."+suffix,file.type=l;var h=function(){r.uploader.uploader.uploader.addFile(file)};r?(r.state().reset(),h()):(r=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1}),r.close(),r.uploader.uploader&&r.uploader.uploader.ready?h():r.on("uploader:ready",h)),r.uploader.uploader.uploader.bind("UploadProgress",function(e){n.attr("data-progress",e.total.percent)}),r.uploader.uploader.uploader.bind("FileUploaded",function(t,a){var s='<img class="alignnone wp-image-'+a.attachment.id+' size-full" src="'+a.attachment.changed.url+'" />';n.replaceWith(s),i.$('img[src="'+p+'"]').each(function(){e(this).replaceWith(s)})}),r.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})};"blob:"===p.substr(0,5)?(s=new XMLHttpRequest,s.responseType="blob",s.onreadystatechange=function(){var e;4==s.readyState&&(e=new FileReader,e.onload=function(){d(e.result)},e.readAsDataURL(new Blob([s.response],{type:"image/png"})))},s.open("GET",p),s.send(null)):"data:"===p.substr(0,5)&&d(p)},clipboardHasImage:function(t){var a=!1;return t.items?(e.each(t.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return a=!0,!1}),a):t.types?(e.each(thepaste.options.mime_types.paste,function(e,i){if(t.types.indexOf(e)>-1)return a=!0,!1}),a):null}},thepaste)}(jQuery,wp.media),function(e,t){var a=wp.media.thepaste.l10n;e.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:a.copy_paste,priority:35}})},bindPasteHandlers:function(){var e=!1;this.on("content:render close",function(t){e&&"function"==typeof e.dismiss&&e.dismiss(),void 0!==t&&(e=t)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),frame=this},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:a.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.thepasteOpen(a.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteUploaded:function(e){this.thepaste.active.grabber.dismiss(),this.thepaste.modal.close(),this.thepasteClose()},thepasteError:function(e){console.log("error",e)},thepasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose.apply(t),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage",this.thepasteUploaded),this.listenTo(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage",this.thepasteError)},thepasteClose:function(){this.controller.deactivateMode(this.thepaste.active.mode).activateMode("edit"),this.stopListening(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage"),this.stopListening(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage")}})}(jQuery,window),function(e,t,a){var i=wp.media.thepaste,s=(wp.media.view.Button,wp.media.view.Modal,i.l10n);wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:s.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(e){var t=this.$imageContainer.html("").get(0),s=this,o=e.match(/data:(image\/(\w+));/)[1];return i.options.mime_types.convert[o]||(o=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new a.Image,this.image.onload=function(){var e=s.getUploader().getOption("resize"),a=Math.max(e.width/this.width,e.height/this.height);!!e&&a<1&&this.downsize(this.width*a,this.height*a),this.embed(t)},this.image.load(e),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+o+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var e=this.$('[data-setting="format"] :checked').val(),t=i.options.mime_types.convert[e],a=this.$('input[data-setting="title"]').val()+"."+t,s=this.image.getAsBlob(e,i.options.jpeg_quality);this.bindUploaderEvents(),s.detach(s.getSource()),s.name=a,s.type=e,this.getUploader().addFile(s,a),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(e){this.$discardBtn.prop("disabled",e),this.$uploadBtn.prop("disabled",e)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(){this.trigger("error:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var e=this;return wp.media.View.prototype.render.apply(this,arguments),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){e.show_message("")}),this},start:function(){var t,a=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(e){t=wp.media.thepaste.clipboardHasImage(e.originalEvent.clipboardData)}).on("pasteText",function(i,o){t||a.imagePasted||(a.show_message(s.paste_error_no_image),e(this).html(""))}).on("pasteImage",function(e,t){a.imagePasted||(a.trigger("action:create:dataimage",this,t.dataURL),a.imagePasted=!0)}).on("pasteImageError",function(t,i){a.show_message(s.paste_error),e(this).html("")}),setTimeout(function(){a.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(e){this.$message.text(e)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var e=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:s.pasted,defaultFileFormat:"image/png",title:s.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),e},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(e,t){this.grabber.stop().hide(),this.uploader.show().setImageData(t)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})}(jQuery,window,mOxie);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZS1wYXN0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiZXhwb3J0cyIsImNvdW50ZXIiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJpbmRleE9mIiwidGhlcGFzdGUiLCJleHRlbmQiLCJzdXBwb3J0cyIsInBhc3RlIiwiZG9jdW1lbnQiLCJ3aW5kb3ciLCJjcmVhdGVFbGVtZW50IiwidmlldyIsImluc2VydEltYWdlIiwiZGF0YVVSTCIsInR5cGUiLCJlZGl0b3IiLCJpZCIsImltYWdlSHRtbCIsImluc2VydENvbnRlbnQiLCJ1cGxvYWRJbWFnZSIsImltYWdlIiwieGhyIiwid29ya2Zsb3ciLCIkY29udGFpbmVyIiwic3JjIiwidXBsb2FkIiwibWF0Y2giLCJmaWxlIiwibyIsIkJsb2IiLCJkYXRhIiwic3VmZml4Iiwib3B0aW9ucyIsIm1pbWVfdHlwZXMiLCJjb252ZXJ0IiwiY29uc29sZSIsInRyYWNlIiwid3JhcCIsIm5hbWUiLCJsMTBuIiwicGFzdGVkIiwiYWRkRmlsZSIsInVwbG9hZGVyIiwic3RhdGUiLCJyZXNldCIsIndwIiwibWVkaWEiLCJvcGVuIiwid3BBY3RpdmVFZGl0b3IiLCJmcmFtZSIsInRpdGxlIiwiY29weV9wYXN0ZSIsIm11bHRpcGxlIiwiY2xvc2UiLCJyZWFkeSIsIm9uIiwiYmluZCIsImUiLCJhdHRyIiwidG90YWwiLCJwZXJjZW50IiwidXAiLCJhcmdzIiwiaW1nSFRNTCIsImF0dGFjaG1lbnQiLCJjaGFuZ2VkIiwidXJsIiwicmVwbGFjZVdpdGgiLCJlYWNoIiwidGhpcyIsImxvZyIsInN1YnN0ciIsIlhNTEh0dHBSZXF1ZXN0IiwicmVzcG9uc2VUeXBlIiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZGVyIiwicmVhZHlTdGF0ZSIsIkZpbGVSZWFkZXIiLCJvbmxvYWQiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwicmVzcG9uc2UiLCJzZW5kIiwiY2xpcGJvYXJkSGFzSW1hZ2UiLCJjbGlwYm9hcmREYXRhIiwiaGFzSW1hZ2UiLCJpdGVtcyIsImkiLCJpdGVtIiwidHlwZXMiLCJleHQiLCJqUXVlcnkiLCJVcGxvYWRlciIsInByb3RvdHlwZSIsInN1Y2Nlc3MiLCJmaWxlX2F0dGFjaG1lbnQiLCJfIiwiTWVkaWFGcmFtZSIsIlNlbGVjdCIsIl9wYXJlbnRJbml0aWFsaXplIiwiaW5pdGlhbGl6ZSIsImFwcGx5IiwiYXJndW1lbnRzIiwiYmluZFBhc3RlSGFuZGxlcnMiLCJfcGFyZW50QnJvd3NlUm91dGVyIiwiYnJvd3NlUm91dGVyIiwic2V0IiwicGFzdGVib2FyZCIsInRleHQiLCJwcmlvcml0eSIsInByZXZpb3VzQ29udGVudCIsImNvbnRlbnQiLCJkaXNtaXNzIiwiY29udGVudENyZWF0ZVBhc3RlYm9hcmQiLCJjb250ZW50UmVuZGVyR3JhYmJlciIsImN1cnJlbnRQYXN0ZVZpZXciLCJEYXRhU291cmNlSW1hZ2VHcmFiYmVyIiwiY29udHJvbGxlciIsImdyYWJiZXIiLCJQYXN0ZWJvYXJkIiwibGlzdGVuVG8iLCJ1cGxvYWRlZERhdGFJbWFnZSIsInN0YXJ0R3JhYmJpbmciLCJzdG9wTGlzdGVuaW5nIiwib2JqIiwiYnJvd3NlQ29udGVudCIsInJvdXRlciIsImdldCIsInNlbGVjdCIsIkF0dGFjaG1lbnRzQnJvd3NlciIsInBhc3RlQnRuIiwic2VsZiIsIm1vZGFsIiwibW9kZSIsImN1cnJlbnQiLCJCdXR0b24iLCJjbGFzc05hbWUiLCJjbGljayIsImFjdGl2ZSIsInRoZXBhc3RlT3BlbiIsIndwdXBsb2FkZXIiLCJ0b29sYmFyIiwicmVuZGVyIiwidGhlcGFzdGVVcGxvYWRlZCIsInRoZXBhc3RlQ2xvc2UiLCJ0aGVwYXN0ZUVycm9yIiwiTW9kYWwiLCJzdG9wR3JhYmJpbmciLCJkZWFjdGl2YXRlTW9kZSIsImFjdGl2YXRlTW9kZSIsIkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyIiwiVmlldyIsInRlbXBsYXRlIiwiJGRpc2NhcmRCdG4iLCIkdXBsb2FkQnRuIiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSIsImRlZmF1bHRzIiwiZGVmYXVsdEZpbGVOYW1lIiwidGFnTmFtZSIsInVwbG9kZXIiLCJzZXRJbWFnZURhdGEiLCJjb250YWluZXIiLCIkaW1hZ2VDb250YWluZXIiLCJodG1sIiwiZm9ybWF0IiwiZGVmYXVsdEZpbGVGb3JtYXQiLCJkZXN0cm95IiwiSW1hZ2UiLCJvcHRzIiwiZ2V0VXBsb2FkZXIiLCJnZXRPcHRpb24iLCJzY2FsZSIsIk1hdGgiLCJtYXgiLCJ3aWR0aCIsImhlaWdodCIsImRvd25zaXplIiwiZW1iZWQiLCJsb2FkIiwiYXBwZW5kIiwicHJvcCIsImRpc2FibGVkIiwidmFsIiwiZGlzY2FyZEltYWdlIiwidHJpZ2dlciIsInVuYmluZFVwbG9hZGVyRXZlbnRzIiwiYmxvYiIsImdldEFzQmxvYiIsImpwZWdfcXVhbGl0eSIsImJpbmRVcGxvYWRlckV2ZW50cyIsImRldGFjaCIsImdldFNvdXJjZSIsInNob3ciLCIkZWwiLCJoaWRlIiwiX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyIiwiX3VwbG9hZEVycm9ySGFuZGxlciIsInVuYmluZCIsImFjdGlvbiIsIiRwYXN0ZWJvYXJkIiwicGFzdGFibGVDb250ZW50ZWRpdGFibGUiLCIkbWVzc2FnZSIsInNob3dfbWVzc2FnZSIsInN0YXJ0IiwiaW1hZ2VQYXN0ZWQiLCJvcmlnaW5hbEV2ZW50IiwicGFzdGVfZXJyb3Jfbm9faW1hZ2UiLCJwYXN0ZV9lcnJvciIsInNldFRpbWVvdXQiLCJmb2N1cyIsInN0b3AiLCJvZmYiLCJtc2ciLCJyZXQiLCJpbWFnZUNyZWF0ZWQiLCJpbWFnZURhdGEiLCJnZXRBY3Rpb24iLCJtT3hpZSJdLCJtYXBwaW5ncyI6IkNBQUEsU0FBVUEsRUFBRUMsR0FFWCxHQUNDQyxJQURlQyxVQUFVQyxVQUFVQyxRQUFRLFVBQ2pDLEVBR1hDLFVBQVdMLEVBQVFLLFNBQVdOLEVBQUVPLFFBQy9CQyxVQUNDQyxNQUFVLFNBQVdDLFdBQWMsV0FBYUEsV0FBd0MsZ0JBQXBCQyxRQUFjLFNBQW9CLFdBQWFELFVBQVNFLGNBQWMsUUFFM0lDLFFBRUFDLFlBQVksU0FBVUMsRUFBU0MsRUFBTUMsR0FDcEMsR0FBSUMsR0FBSyxrQkFBbUJoQixJQUMzQmlCLEVBQVksWUFBWUQsRUFBRyxzQ0FBc0NILEVBQVEsTUFNMUUsT0FGQUUsR0FBT0csY0FBZUQsR0FFZkYsRUFBT2pCLEVBQUUsSUFBSWtCLEdBQUksSUFHekJHLFlBQWEsU0FBVUMsRUFBT0wsR0FFN0IsR0FBSU0sR0FDSEMsRUFDQUMsRUFDQUMsRUFBTUosRUFBTUksSUFDWkMsRUFBUyxTQUFVWixHQUNsQixHQUFJRyxHQUFLLGtCQUFtQmhCLElBQzNCYyxFQUFPRCxFQUFRYSxNQUFNLHFCQUFxQixFQUMxQ0MsTUFBTyxHQUFJQyxHQUFFQyxLQUFNLE1BQVFDLEtBQU1qQixJQUNqQ2tCLE9BQVMzQixTQUFTNEIsUUFBUUMsV0FBV0MsUUFBU3BCLEdBQzFDLG1CQUF1QmlCLFNBQzNCSSxRQUFRQyxNQUFPLGFBQWV0QixHQUUvQmhCLEVBQUVzQixHQUFPaUIsS0FBSyxZQUFZckIsRUFBRyx5RkFDN0JPLEVBQWFSLEVBQU9qQixFQUFFLElBQUlrQixHQUUxQlcsS0FBS1csS0FBT2xDLFNBQVNtQyxLQUFLQyxPQUFTLElBQU1ULE9BQ3pDSixLQUFLYixLQUFPQSxDQUVaLElBQUkyQixHQUFVLFdBQ2JuQixFQUFTb0IsU0FBU0EsU0FBU0EsU0FBU0QsUUFBU2QsTUFFdkNMLElBZ0JOQSxFQUFTcUIsUUFBUUMsUUFDakJILE1BaEJBbkIsRUFBV3VCLEdBQUdDLE1BQU0vQixPQUFPZ0MsS0FBTXRDLE9BQU91QyxnQkFDdkNDLE1BQVEsT0FDUk4sTUFBUSxTQUNSTyxNQUFROUMsU0FBU21DLEtBQUtZLFdBQ3RCQyxVQUFVLElBR1g5QixFQUFTK0IsUUFFSi9CLEVBQVNvQixTQUFTQSxVQUFZcEIsRUFBU29CLFNBQVNBLFNBQVNZLE1BQzdEYixJQUVBbkIsRUFBU2lDLEdBQUksaUJBQWtCZCxJQU1qQ25CLEVBQVNvQixTQUFTQSxTQUFTQSxTQUFTYyxLQUFLLGlCQUFpQixTQUFVQyxHQUNuRWxDLEVBQVdtQyxLQUFLLGdCQUFnQkQsRUFBRUUsTUFBTUMsV0FFekN0QyxFQUFTb0IsU0FBU0EsU0FBU0EsU0FBU2MsS0FBSyxlQUFlLFNBQVVLLEVBQUlDLEdBQ3JFLEdBQUlDLEdBQVUsa0NBQWtDRCxFQUFLRSxXQUFXaEQsR0FBRyxvQkFBb0I4QyxFQUFLRSxXQUFXQyxRQUFRQyxJQUFJLE1BRW5IM0MsR0FBVzRDLFlBQWFKLEdBRXhCaEQsRUFBT2pCLEVBQUUsWUFBWTBCLEVBQUksTUFBTTRDLEtBQUssV0FDbkN0RSxFQUFFdUUsTUFBTUYsWUFBYUosT0FHdkJ6QyxFQUFTb0IsU0FBU0EsU0FBU0EsU0FBU2MsS0FBSyxRQUFRLFNBQVVLLEVBQUlDLEdBQzlEM0IsUUFBUW1DLElBQUlULEVBQUdDLEtBSU8sV0FBcEJ0QyxFQUFJK0MsT0FBTyxFQUFFLElBRWpCbEQsRUFBTSxHQUFJbUQsZ0JBQ1ZuRCxFQUFJb0QsYUFBZSxPQUNuQnBELEVBQUlxRCxtQkFBcUIsV0FDeEIsR0FBSUMsRUFDbUIsSUFBbEJ0RCxFQUFJdUQsYUFDUkQsRUFBUyxHQUFJRSxZQUNiRixFQUFPRyxPQUFTLFdBQ2ZyRCxFQUFRa0QsRUFBT0ksU0FFaEJKLEVBQU9LLGNBQWUsR0FBSW5ELE9BQVFSLEVBQUk0RCxXQUFjbkUsS0FBTSxpQkFHNURPLEVBQUkwQixLQUFNLE1BQU92QixHQUNqQkgsRUFBSTZELEtBQU0sT0FFcUIsVUFBcEIxRCxFQUFJK0MsT0FBTyxFQUFFLElBQ3hCOUMsRUFBUUQsSUFRVjJELGtCQUFrQixTQUFVQyxHQUMzQixHQUFJQyxJQUFXLENBQ2YsT0FBS0QsR0FBY0UsT0FDbEJ4RixFQUFFc0UsS0FBTWdCLEVBQWNFLE1BQU8sU0FBU0MsRUFBRUMsR0FDdkMsR0FBS0EsRUFBSzFFLE9BQVFWLFVBQVM0QixRQUFRQyxXQUFXMUIsTUFFN0MsTUFEQThFLElBQVcsR0FDSixJQUdGQSxHQUdIRCxFQUFjSyxPQUNsQjNGLEVBQUVzRSxLQUFNaEUsU0FBUzRCLFFBQVFDLFdBQVcxQixNQUFPLFNBQVNPLEVBQUs0RSxHQUN4RCxHQUFLTixFQUFjSyxNQUFNdEYsUUFBUVcsSUFBUyxFQUV6QyxNQURBdUUsSUFBVyxHQUNKLElBR0ZBLEdBRUQsT0FJTmpGLFdBRUF1RixPQUFROUMsR0FBR0MsT0FFZixTQUFVaEQsRUFBRUMsR0FFWCxHQUNDd0MsR0FBT00sR0FBR0MsTUFBTTFDLFNBQVNtQyxJQUUxQnpDLEdBQUVPLE9BQVF3QyxHQUFHK0MsU0FBU0MsV0FDckJDLFFBQVUsU0FBVUMsT0FTckJDLEVBQUUzRixPQUFRd0MsR0FBR0MsTUFBTW5DLEtBQUtzRixXQUFXQyxPQUFPTCxXQUN6Q00sa0JBQW1CdEQsR0FBR0MsTUFBTW5DLEtBQUtzRixXQUFXQyxPQUFPTCxVQUFVTyxXQUM3REEsV0FBWSxXQUNYL0IsS0FBSzhCLGtCQUFrQkUsTUFBT2hDLEtBQU1pQyxXQUNwQ2pDLEtBQUtrQyxxQkFFTkMsb0JBQXFCM0QsR0FBR0MsTUFBTW5DLEtBQUtzRixXQUFXQyxPQUFPTCxVQUFVWSxhQUMvREEsYUFBZSxTQUFVOUYsR0FDeEIwRCxLQUFLbUMsb0JBQW9CSCxNQUFNaEMsS0FBS2lDLFdBRS9CekQsR0FBR0MsTUFBTTFDLFNBQVNFLFNBQVNDLE9BQy9CSSxFQUFLK0YsS0FBS0MsWUFDVEMsS0FBVXJFLEVBQUtZLFdBQ2YwRCxTQUFVLE9BS2JOLGtCQUFtQixXQUNsQixHQUFJTyxJQUFrQixDQUd0QnpDLE1BQUtkLEdBQUksdUJBQXlCLFNBQVN3RCxHQUNyQ0QsR0FBbUIsa0JBQXNCQSxHQUFnQkUsU0FDN0RGLEVBQWdCRSxjQUVaLEtBQXVCRCxJQUMzQkQsRUFBa0JDLElBQ2hCMUMsTUFFSkEsS0FBS2QsR0FBSSw0QkFBNkJjLEtBQUs0Qyx3QkFBeUI1QyxNQUNwRUEsS0FBS2QsR0FBSSw0QkFBNkJjLEtBQUs2QyxxQkFBc0I3QyxNQUVqRXBCLE1BQVFvQixNQUdUNEMsd0JBQXlCLFNBQVVGLEdBQ3RCMUMsS0FBSzFCLE9BRWpCMEIsTUFBSzhDLGlCQUFtQkosRUFBUXBHLEtBQU8sR0FBSWtDLElBQUdDLE1BQU0xQyxTQUFTTyxLQUFLeUcsd0JBQ2pFQyxXQUFhaEQsS0FDYmlELFFBQVd6RSxHQUFHQyxNQUFNMUMsU0FBU08sS0FBSzRHLGFBRW5DbEQsS0FBS21ELFNBQVVuRCxLQUFLOEMsaUJBQWlCekUsU0FBVSw0QkFBNkIyQixLQUFLb0Qsb0JBRWxGUCxxQkFBc0IsU0FBVUgsR0FDL0JBLEVBQVFXLGlCQUVURCxrQkFBbUIsU0FBVVYsR0FDNUIxQyxLQUFLc0QsY0FBZXRELEtBQUs4QyxpQkFBaUJ6RSxTQUFVLDRCQUNwRCxJQUFJa0YsSUFBUWpILEtBQU0sS0FDbEIwRCxNQUFLd0QsY0FBY0QsR0FDbkJ2RCxLQUFLMEMsUUFBUUwsSUFBS2tCLEVBQUlqSCxNQUN0QjBELEtBQUt5RCxPQUFPQyxNQUFNQyxPQUFPLGFBUzNCaEMsRUFBRTNGLE9BQVF3QyxHQUFHQyxNQUFNbkMsS0FBS3NILG1CQUFtQnBDLFdBQzFDTSxrQkFBbUJ0RCxHQUFHQyxNQUFNbkMsS0FBS3NILG1CQUFtQnBDLFVBQVVPLFdBQzlEQSxXQUFZLFdBQ1gsR0FDQzhCLEdBREdDLEVBQU85RCxJQUdYQSxNQUFLOEIsa0JBQWtCRSxNQUFNaEMsS0FBS2lDLFdBRWxDakMsS0FBS2pFLFVBQ0pHLE9BRUMrRyxTQUFVLEVBQ1ZjLE9BQVEsRUFDUkMsS0FBTyxTQUVSQyxTQUFXLEdBR0hqRSxLQUFLZ0QscUJBQXNCeEUsSUFBR0MsTUFBTW5DLEtBQUtzRixXQUFXQyxRQUV2RHJELEdBQUdDLE1BQU0xQyxTQUFTRSxTQUFTQyxRQUUvQjJILEVBQVcsR0FBSXJGLElBQUdDLE1BQU1uQyxLQUFLNEgsUUFDNUIzQixLQUFRckUsRUFBS1ksV0FDYnFGLFVBQVksaUJBQ1ozQixVQUFZLEdBQ1o0QixNQUFPLFdBQ05OLEVBQUsvSCxTQUFTc0ksT0FBU1AsRUFBSy9ILFNBQVNHLE1BQ3JDNEgsRUFBS1EsYUFBY3BHLEVBQUtZLGVBRzFCa0IsS0FBS2pFLFNBQVNHLE1BQU0rRyxRQUFVLEdBQUl6RSxJQUFHQyxNQUFNMUMsU0FBU08sS0FBS3lHLHdCQUN4REMsV0FBYWhELEtBQUtnRCxXQUNsQkMsUUFBV3pFLEdBQUdDLE1BQU0xQyxTQUFTTyxLQUFLNEcsV0FDbENxQixXQUFhdkUsS0FBS2dELFdBQVczRSxTQUFTQSxTQUFTQSxXQUdoRDJCLEtBQUt3RSxRQUFRbkMsSUFBSyxrQkFBbUJ3QixFQUFTWSxZQUlqREMsaUJBQWtCLFNBQVV0RixHQUMzQlksS0FBS2pFLFNBQVNzSSxPQUFPcEIsUUFBUU4sVUFDN0IzQyxLQUFLakUsU0FBU2dJLE1BQU0vRSxRQUNwQmdCLEtBQUsyRSxpQkFFTkMsY0FBZSxTQUFVeEYsR0FDeEJ0QixRQUFRbUMsSUFBSyxRQUFTYixJQUV2QmtGLGFBQWMsU0FBVXpGLEdBQ3ZCLEdBQUlpRixHQUFPOUQsSUFFWEEsTUFBS2pFLFNBQVNnSSxNQUFVLEdBQUl2RixJQUFHQyxNQUFNbkMsS0FBS3VJLE9BQ3pDN0IsV0FBYWhELEtBQ2JuQixNQUFhQSxJQUVkbUIsS0FBS2pFLFNBQVNnSSxNQUFNckIsUUFBUzFDLEtBQUtqRSxTQUFTc0ksT0FBT3BCLFNBQ2xEakQsS0FBS2pFLFNBQVNnSSxNQUFNckYsT0FFcEJzQixLQUFLakUsU0FBU2dJLE1BQU03RSxHQUFJLFFBQVMsV0FDaEM0RSxFQUFLYSxjQUFjM0MsTUFBTThCLEdBQ3pCQSxFQUFLL0gsU0FBU3NJLE9BQU9wQixRQUFRNkIsaUJBRzlCOUUsS0FBS2pFLFNBQVNzSSxPQUFPcEIsUUFBUUksZ0JBRTdCckQsS0FBS21ELFNBQVVuRCxLQUFLakUsU0FBU3NJLE9BQU9wQixRQUFRNUUsU0FBVSw0QkFBNkIyQixLQUFLMEUsa0JBQ3hGMUUsS0FBS21ELFNBQVVuRCxLQUFLakUsU0FBU3NJLE9BQU9wQixRQUFRNUUsU0FBVSwyQkFBNEIyQixLQUFLNEUsZ0JBRXhGRCxjQUFlLFdBRWQzRSxLQUFLZ0QsV0FBVytCLGVBQWdCL0UsS0FBS2pFLFNBQVNzSSxPQUFPTCxNQUFPZ0IsYUFBYyxRQUUxRWhGLEtBQUtzRCxjQUFldEQsS0FBS2pFLFNBQVNzSSxPQUFPcEIsUUFBUTVFLFNBQVUsNkJBQzNEMkIsS0FBS3NELGNBQWV0RCxLQUFLakUsU0FBU3NJLE9BQU9wQixRQUFRNUUsU0FBVSxnQ0FJM0RpRCxPQUFPbEYsUUFFVixTQUFVWCxFQUFFVyxFQUFPbUIsR0FDbEIsR0FBSXhCLEdBQVd5QyxHQUFHQyxNQUFNMUMsU0FHdkJtQyxHQUZTTSxHQUFHQyxNQUFNbkMsS0FBSzRILE9BQ2QxRixHQUFHQyxNQUFNbkMsS0FBS3VJLE1BQ2Q5SSxFQUFTbUMsS0FHbkJNLElBQUdDLE1BQU0xQyxTQUFTTyxLQUFLMkksd0JBQTBCekcsR0FBR0MsTUFBTXlHLEtBQUtsSixRQUM5RG1KLFNBQVUzRyxHQUFHMkcsU0FBUyxxQkFDdEJoQixVQUFXLG9CQUNYbkIsV0FBVyxLQUNYakcsTUFBUSxLQUNScUksWUFBYyxLQUNkQyxXQUFhLEtBRWJoSCxTQUFXLEtBRVhpSCxRQUNDQywrQkFBaUMsY0FDakNDLGdDQUFrQyxnQkFFbkN6RCxXQUFhLFdBRVp2RCxHQUFHQyxNQUFNeUcsS0FBSzFELFVBQVVPLFdBQVdDLE1BQU9oQyxLQUFNaUMsV0FFaEROLEVBQUU4RCxTQUFVekYsS0FBS3JDLFNBQ2hCK0gsZ0JBQWtCeEgsRUFBS25CLE9BR2YsSUFBSXlCLElBQUdDLE1BQU15RyxNQUNyQlMsUUFBYSxNQUNieEIsVUFBYSxjQUNibkIsV0FBYWhELEtBQUtnRCxZQUduQmhELE1BQUszQixTQUFXMkIsS0FBS3JDLFFBQVFpSSxTQUU5QkMsYUFBZSxTQUFVcEksR0FDeEIsR0FBSXFJLEdBQVk5RixLQUFLK0YsZ0JBQWdCQyxLQUFLLElBQUl0QyxJQUFJLEdBQ2pESSxFQUFPOUQsS0FDUGlHLEVBQVN4SSxFQUFLSixNQUFNLHdCQUF3QixFQTRCN0MsT0ExQk90QixHQUFTNEIsUUFBUUMsV0FBV0MsUUFBUW9JLEtBQzFDQSxFQUFTakcsS0FBS3JDLFFBQVF1SSxtQkFHbEJsRyxLQUFLakQsT0FDVGlELEtBQUtqRCxNQUFNb0osVUFHWm5HLEtBQUtqRCxNQUFRLEdBQUlRLEdBQUU2SSxNQUNuQnBHLEtBQUtqRCxNQUFNMEQsT0FBUyxXQUNuQixHQUFJNEYsR0FBT3ZDLEVBQUt3QyxjQUFjQyxVQUFVLFVBQ3ZDQyxFQUFRQyxLQUFLQyxJQUFLTCxFQUFLTSxNQUFRM0csS0FBSzJHLE1BQU9OLEVBQUtPLE9BQVM1RyxLQUFLNEcsVUFFN0RQLEdBQVNHLEVBQVEsR0FBTXhHLEtBQUs2RyxTQUFVN0csS0FBSzJHLE1BQU1ILEVBQU94RyxLQUFLNEcsT0FBT0osR0FFdEV4RyxLQUFLOEcsTUFBT2hCLElBR2I5RixLQUFLakQsTUFBTWdLLEtBQU10SixHQUNadUMsS0FBSytGLGlCQUNUL0YsS0FBSytGLGdCQUFnQmlCLE9BQU9oSCxLQUFLakQsT0FFbENpRCxLQUFLdkUsRUFBRSx3Q0FBd0N3SyxFQUFPLE1BQU1nQixLQUFNLFdBQVcsR0FHN0VqSCxLQUFLa0gsVUFBUyxHQUNQbEgsTUFFUnlFLE9BQVMsV0FNUixNQUxBakcsSUFBR0MsTUFBTXlHLEtBQUsxRCxVQUFVaUQsT0FBT3pDLE1BQU1oQyxLQUFLaUMsV0FDMUNqQyxLQUFLK0YsZ0JBQWtCL0YsS0FBS3ZFLEVBQUUsb0JBQzlCdUUsS0FBS29GLFlBQWNwRixLQUFLdkUsRUFBRSwyQkFDMUJ1RSxLQUFLcUYsV0FBYXJGLEtBQUt2RSxFQUFFLDBCQUN6QnVFLEtBQUt2RSxFQUFFLDBCQUEwQjBMLElBQUtuSCxLQUFLckMsUUFBUStILGlCQUM1QzFGLE1BRVJvSCxhQUFlLFdBQ2RwSCxLQUFLcUgsUUFBUywyQkFBNkJySCxNQUMzQ0EsS0FBS3NILHdCQUVOeEssWUFBYyxXQUViLEdBQUlMLEdBQU91RCxLQUFLdkUsRUFBRSxvQ0FBb0MwTCxNQUNyRHpKLEVBQVMzQixFQUFTNEIsUUFBUUMsV0FBV0MsUUFBU3BCLEdBQzlDd0IsRUFBTytCLEtBQUt2RSxFQUFFLCtCQUErQjBMLE1BQVEsSUFBTXpKLEVBQzNENkosRUFBT3ZILEtBQUtqRCxNQUFNeUssVUFBVy9LLEVBQU1WLEVBQVM0QixRQUFROEosYUFFckR6SCxNQUFLMEgscUJBRUxILEVBQUtJLE9BQVFKLEVBQUtLLGFBQ2xCTCxFQUFLdEosS0FBT0EsRUFDWnNKLEVBQUs5SyxLQUFPQSxFQUNadUQsS0FBS3NHLGNBQWNsSSxRQUFTbUosRUFBT3RKLEdBRW5DK0IsS0FBS2tILFVBQVUsR0FFZmxILEtBQUtxSCxRQUFTLDBCQUE0QnJILE9BRTNDNkgsS0FBSyxXQUVKLE1BREE3SCxNQUFLOEgsSUFBSUQsT0FDRjdILE1BRVIrSCxLQUFLLFdBRUosTUFEQS9ILE1BQUs4SCxJQUFJQyxPQUNGL0gsTUFFUmtILFNBQVcsU0FBVUEsR0FDcEJsSCxLQUFLb0YsWUFBWTZCLEtBQU0sV0FBWUMsR0FDbkNsSCxLQUFLcUYsV0FBVzRCLEtBQU0sV0FBWUMsSUFFbkNjLHNCQUF3QixXQUN2QmhJLEtBQUtxSCxRQUFTLDZCQUNkckgsS0FBS2tILFVBQVMsR0FDZGxILEtBQUtzSCx3QkFFTlcsb0JBQXNCLFdBQ3JCakksS0FBS3FILFFBQVMsNEJBQ2RySCxLQUFLa0gsVUFBUyxHQUNkbEgsS0FBS3NILHdCQUVOSSxtQkFBcUIsV0FDcEIxSCxLQUFLc0csY0FBY25ILEtBQU0sZUFBZ0JhLEtBQUtnSSxzQkFBdUJoSSxNQUNyRUEsS0FBS3NHLGNBQWNuSCxLQUFNLFFBQVdhLEtBQUtpSSxvQkFBcUJqSSxPQUUvRHNILHFCQUF1QixXQUN0QnRILEtBQUtzRyxjQUFjNEIsT0FBUSxlQUFnQmxJLEtBQUtnSSxzQkFBdUJoSSxNQUN2RUEsS0FBS3NHLGNBQWM0QixPQUFRLFFBQVdsSSxLQUFLaUksb0JBQXFCakksT0FFakVzRyxZQUFhLFdBQ1osTUFBT3RHLE1BQUtnRCxXQUFXM0UsU0FBU0EsU0FBU0EsWUFLM0NHLEdBQUdDLE1BQU0xQyxTQUFTTyxLQUFLNEcsV0FBYTFFLEdBQUdDLE1BQU15RyxLQUFLbEosUUFDakRtSixTQUFVM0csR0FBRzJHLFNBQVMsdUJBQ3RCaEIsVUFBVyxzQkFDWG5CLFdBQVcsS0FDWG1GLE9BQU8sUUFDUEMsWUFBYyxLQUVkM0QsT0FBUSxXQUNQLEdBQUlYLEdBQU85RCxJQU9YLE9BTkF4QixJQUFHQyxNQUFNeUcsS0FBSzFELFVBQVVpRCxPQUFPekMsTUFBTWhDLEtBQUtpQyxXQUMxQ2pDLEtBQUtvSSxZQUFjcEksS0FBS3ZFLEVBQUcsYUFBYzRNLDBCQUN6Q3JJLEtBQUtzSSxTQUFXdEksS0FBS3ZFLEVBQUcsWUFDeEJ1RSxLQUFLb0ksWUFBWWxKLEdBQUcsUUFBUyxXQUM1QjRFLEVBQUt5RSxhQUFhLE1BRVp2SSxNQUVSd0ksTUFBUSxXQUNQLEdBQ0MxSCxHQURHZ0QsRUFBTzlELElBa0NYLE9BL0JBQSxNQUFLeUksYUFBYyxFQUVuQnpJLEtBQUtvSSxZQUNIbEosR0FBRyxRQUFRLFNBQVNFLEdBQ3BCMEIsRUFBb0J0QyxHQUFHQyxNQUFNMUMsU0FBUytFLGtCQUFrQjFCLEVBQUVzSixjQUFjM0gsaUJBRXhFN0IsR0FBRyxZQUFjLFNBQVVFLEVBQUczQixHQUV6QnFELEdBQXFCZ0QsRUFBSzJFLGNBRy9CM0UsRUFBS3lFLGFBQWNySyxFQUFLeUssc0JBQ3hCbE4sRUFBR3VFLE1BQU9nRyxLQUFLLE9BRWY5RyxHQUFHLGFBQWUsU0FBVUUsRUFBRzNCLEdBQzFCcUcsRUFBSzJFLGNBR1YzRSxFQUFLdUQsUUFBUywwQkFBMkJySCxLQUFPdkMsRUFBS2pCLFNBQ3JEc0gsRUFBSzJFLGFBQWMsS0FFbkJ2SixHQUFHLGtCQUFvQixTQUFVRSxFQUFHM0IsR0FDcENxRyxFQUFLeUUsYUFBY3JLLEVBQUswSyxhQUN4Qm5OLEVBQUd1RSxNQUFPZ0csS0FBSyxNQUlqQjZDLFdBQVcsV0FDVi9FLEVBQUtzRSxZQUFZMUUsSUFBSSxHQUFHb0YsU0FDdkIsR0FFSzlJLE1BRVIrSSxLQUFPLFdBS04sTUFKQS9JLE1BQUtvSSxZQUNIWSxJQUFJLGNBQ0pBLElBQUksbUJBQ0pBLElBQUksYUFDQ2hKLE1BRVI2SCxLQUFLLFdBRUosTUFEQTdILE1BQUs4SCxJQUFJRCxPQUNGN0gsTUFFUitILEtBQUssV0FFSixNQURBL0gsTUFBSzhILElBQUlDLE9BQ0YvSCxNQUVSdUksYUFBYSxTQUFVVSxHQUN0QmpKLEtBQUtzSSxTQUFTL0YsS0FBTTBHLE1BSXRCekssR0FBR0MsTUFBTTFDLFNBQVNPLEtBQUt5Ryx1QkFBeUJ2RSxHQUFHQyxNQUFNeUcsS0FBS2xKLFFBRTdEbUosU0FBVTNHLEdBQUcyRyxTQUFTLG9CQUN0QmhCLFVBQVksbUJBRVpsQixRQUFVLEtBQ1Y1RSxTQUFXLEtBRVgwRCxXQUFhLFdBQ1osR0FBSW1ILEdBQU0xSyxHQUFHQyxNQUFNeUcsS0FBSzFELFVBQVVPLFdBQVdDLE1BQU9oQyxLQUFNaUMsVUFzQjFELE9BcEJBTixHQUFFOEQsU0FBVXpGLEtBQUtyQyxTQUNoQjRHLFdBQWMsS0FDZG1CLGdCQUFrQnhILEVBQUtDLE9BQ3ZCK0gsa0JBQW9CLFlBQ3BCckgsTUFBVVgsRUFBS1ksYUFHaEJrQixLQUFLaUQsUUFBVyxHQUFJakQsTUFBS3JDLFFBQVFzRixTQUFXRCxXQUFhaEQsS0FBS2dELGFBRTlEaEQsS0FBSzNCLFNBQVcsR0FBSUcsSUFBR0MsTUFBTTFDLFNBQVNPLEtBQUsySSx5QkFDckNqQyxXQUFlaEQsS0FBS2dELFdBQ3BCNEMsUUFBYTVGLEtBQUtyQyxRQUFRNEcsV0FDMUJtQixnQkFBbUIxRixLQUFLckMsUUFBUStILGdCQUNoQ1Esa0JBQW9CbEcsS0FBS3JDLFFBQVF1SSxvQkFFdkNsRyxLQUFLeUUsU0FFTHpFLEtBQUttRCxTQUFVbkQsS0FBS2lELFFBQVMsMEJBQTJCakQsS0FBS21KLGNBQzdEbkosS0FBS21ELFNBQVVuRCxLQUFLM0IsU0FBVSwyQkFBNEIyQixLQUFLcUQsZUFFeEQ2RixHQUVSekUsT0FBTyxXQVNOLE1BTkFqRyxJQUFHQyxNQUFNeUcsS0FBSzFELFVBQVVpRCxPQUFPekMsTUFBT2hDLEtBQU1pQyxXQUU1Q2pDLEtBQUt2RSxFQUFFLFlBQ0x1TCxPQUFRaEgsS0FBS2lELFFBQVF3QixTQUFTcUQsS0FDOUJkLE9BQVFoSCxLQUFLM0IsU0FBU29HLFNBQVNxRCxLQUUxQjlILE1BRVJtSixhQUFlLFNBQVVsRyxFQUFVbUcsR0FDbENwSixLQUFLaUQsUUFBUThGLE9BQU9oQixPQUNwQi9ILEtBQUszQixTQUFTd0osT0FBT2hDLGFBQWN1RCxJQUVwQy9GLGNBQWMsV0FHYixNQUZBckQsTUFBSzNCLFNBQVMwSixPQUNkL0gsS0FBS2lELFFBQVE0RSxPQUFPVyxRQUNieEksTUFFUjhFLGFBQWEsV0FFWixNQURBOUUsTUFBS2lELFFBQVE4RixPQUNOL0ksTUFFUnFKLFVBQVksV0FDWCxNQUFPckosTUFBS2lELFFBQVFrRixRQUVyQnhGLFFBQVEsV0FFUCxNQURBM0MsTUFBS2lELFFBQVE4RixPQUNOL0ksU0FJUHNCLE9BQU9sRixPQUFPa04iLCJmaWxlIjoidGhlLXBhc3RlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbigkLGV4cG9ydHMpe1xuXG5cdHZhciBpc19jaHJvbWVcdD0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xLFxuXHRcdGNvdW50ZXIgPSAwLFxuXHRcdHdvcmtmbG93O1xuXG5cdHRoZXBhc3RlID0gZXhwb3J0cy50aGVwYXN0ZSA9ICQuZXh0ZW5kKCB7XG5cdFx0c3VwcG9ydHMgOiB7XG5cdFx0XHRwYXN0ZTogKCAoJ3Bhc3RlJyBpbiBkb2N1bWVudCkgfHwgKCdvbnBhc3RlJyBpbiBkb2N1bWVudCkgfHwgdHlwZW9mKHdpbmRvdy5vbnBhc3RlKSA9PT0gJ29iamVjdCcgfHwgKCAnb25wYXN0ZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJykgKSApLCAvLyBicm93c2VyXG5cdFx0fSxcblx0XHR2aWV3Ont9LFxuXG5cdFx0aW5zZXJ0SW1hZ2U6ZnVuY3Rpb24oIGRhdGFVUkwsIHR5cGUsIGVkaXRvciApIHtcblx0XHRcdHZhciBpZCA9ICdfX3RoZXBhc3RlX2ltZ18nKyhjb3VudGVyKyspLFxuXHRcdFx0XHRpbWFnZUh0bWwgPSAnPGltZyBpZD1cIicraWQrJ1wiIGNsYXNzPVwiYWxpZ25ub25lIHNpemUtZnVsbFwiIHNyYz1cIicrZGF0YVVSTCsnXCIgLz4nLFxuXHRcdFx0XHQkY29udGFpbmVyO1xuXG5cblx0XHRcdGVkaXRvci5pbnNlcnRDb250ZW50KCBpbWFnZUh0bWwgKTtcblxuXHRcdFx0cmV0dXJuIGVkaXRvci4kKCcjJytpZClbMF07XG5cdFx0fSxcblxuXHRcdHVwbG9hZEltYWdlOiBmdW5jdGlvbiggaW1hZ2UsIGVkaXRvciApIHtcblxuXHRcdFx0dmFyIHhocixcblx0XHRcdFx0d29ya2Zsb3csXG5cdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdHNyYyA9IGltYWdlLnNyYyxcblx0XHRcdFx0dXBsb2FkID0gZnVuY3Rpb24oIGRhdGFVUkwgKXtcblx0XHRcdFx0XHR2YXIgaWQgPSAnX190aGVwYXN0ZV9ib3hfJysoY291bnRlcisrKSxcblx0XHRcdFx0XHRcdHR5cGUgPSBkYXRhVVJMLm1hdGNoKC9eZGF0YVxcOihbXlxcO10rKVxcOy8pWzFdXG5cdFx0XHRcdFx0XHRmaWxlID0gbmV3IG8uQmxvYiggbnVsbCwgeyBkYXRhOiBkYXRhVVJMIH0gKVxuXHRcdFx0XHRcdFx0c3VmZml4ID0gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbIHR5cGUgXTtcblx0XHRcdFx0XHRpZiAoICd1bmRlZmluZWQnID09PSB0eXBlb2Ygc3VmZml4ICkge1xuXHRcdFx0XHRcdFx0Y29uc29sZS50cmFjZSggJ2JhZCB0eXBlOiAnICsgdHlwZSApO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHQkKGltYWdlKS53cmFwKCc8ZGl2IGlkPVwiJytpZCsnXCIgZGF0YS1wcm9ncmVzcz1cIjBcIiBjbGFzcz1cInRoZXBhc3RlLWltYWdlLXBsYWNlaG9sZGVyXCIgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIj48L2Rpdj4nKTtcblx0XHRcdFx0XHQkY29udGFpbmVyID0gZWRpdG9yLiQoJyMnK2lkKTtcblxuXHRcdFx0XHRcdGZpbGUubmFtZSA9IHRoZXBhc3RlLmwxMG4ucGFzdGVkICsgJy4nICsgc3VmZml4O1xuXHRcdFx0XHRcdGZpbGUudHlwZSA9IHR5cGU7XG5cblx0XHRcdFx0XHR2YXIgYWRkRmlsZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5hZGRGaWxlKCBmaWxlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGlmICggISB3b3JrZmxvdyApIHtcblx0XHRcdFx0XHRcdHdvcmtmbG93ID0gd3AubWVkaWEuZWRpdG9yLm9wZW4oIHdpbmRvdy53cEFjdGl2ZUVkaXRvciwge1xuXHRcdFx0XHRcdFx0XHRmcmFtZTpcdFx0J3Bvc3QnLFxuXHRcdFx0XHRcdFx0XHRzdGF0ZTpcdFx0J2luc2VydCcsXG5cdFx0XHRcdFx0XHRcdHRpdGxlOlx0XHR0aGVwYXN0ZS5sMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0XHRcdG11bHRpcGxlOlx0ZmFsc2Vcblx0XHRcdFx0XHRcdH0gKTtcblxuXHRcdFx0XHRcdFx0d29ya2Zsb3cuY2xvc2UoKTtcblxuXHRcdFx0XHRcdFx0aWYgKCB3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlciAmJiB3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci5yZWFkeSApIHtcblx0XHRcdFx0XHRcdFx0YWRkRmlsZSgpO1xuXHRcdFx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRcdFx0d29ya2Zsb3cub24oICd1cGxvYWRlcjpyZWFkeScsIGFkZEZpbGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0d29ya2Zsb3cuc3RhdGUoKS5yZXNldCgpO1xuXHRcdFx0XHRcdFx0YWRkRmlsZSgpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdVcGxvYWRQcm9ncmVzcycsZnVuY3Rpb24oIGUgKXtcblx0XHRcdFx0XHRcdCRjb250YWluZXIuYXR0cignZGF0YS1wcm9ncmVzcycsZS50b3RhbC5wZXJjZW50KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdGaWxlVXBsb2FkZWQnLGZ1bmN0aW9uKCB1cCwgYXJncyApe1xuXHRcdFx0XHRcdFx0dmFyIGltZ0hUTUwgPSAnPGltZyBjbGFzcz1cImFsaWdubm9uZSB3cC1pbWFnZS0nK2FyZ3MuYXR0YWNobWVudC5pZCsnIHNpemUtZnVsbFwiIHNyYz1cIicrYXJncy5hdHRhY2htZW50LmNoYW5nZWQudXJsKydcIiAvPic7XG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIGltYWdlXG5cdFx0XHRcdFx0XHQkY29udGFpbmVyLnJlcGxhY2VXaXRoKCBpbWdIVE1MICk7XG5cdFx0XHRcdFx0XHQvLyByZXBsYWNlIG90aGVyIGluc3RhbmNlc1xuXHRcdFx0XHRcdFx0ZWRpdG9yLiQoJ2ltZ1tzcmM9XCInK3NyYysnXCJdJykuZWFjaChmdW5jdGlvbigpe1xuXHRcdFx0XHRcdFx0XHQkKHRoaXMpLnJlcGxhY2VXaXRoKCBpbWdIVE1MICk7XG5cdFx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdFcnJvcicsZnVuY3Rpb24oIHVwLCBhcmdzICl7XG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh1cCxhcmdzKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fTtcblxuXHRcdFx0aWYgKCBzcmMuc3Vic3RyKDAsNSkgPT09ICdibG9iOicgKSB7XG5cblx0XHRcdFx0eGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG5cdFx0XHRcdHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYic7XG5cdFx0XHRcdHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbigpe1xuXHRcdFx0XHRcdHZhciByZWFkZXI7XG5cdFx0XHRcdFx0aWYgKCB4aHIucmVhZHlTdGF0ZSA9PSA0ICkge1xuXHRcdFx0XHRcdFx0cmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcblx0XHRcdFx0XHRcdHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0dXBsb2FkKCByZWFkZXIucmVzdWx0ICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTCggbmV3IEJsb2IoIFsgeGhyLnJlc3BvbnNlIF0sIHsgdHlwZTogJ2ltYWdlL3BuZycgfSApICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHhoci5vcGVuKCAnR0VUJywgc3JjICk7XG5cdFx0XHRcdHhoci5zZW5kKCBudWxsICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHNyYy5zdWJzdHIoMCw1KSA9PT0gJ2RhdGE6JyApIHtcblx0XHRcdFx0dXBsb2FkKCBzcmMgKTtcblx0XHRcdH1cblxuXHRcdH0sXG5cblx0XHQvKipcblx0XHQgKlx0QHJldHVybjogbnVsbHx0cnVlfGZhbHNlXG5cdFx0ICovXG5cdFx0Y2xpcGJvYXJkSGFzSW1hZ2U6ZnVuY3Rpb24oIGNsaXBib2FyZERhdGEgKSB7XG5cdFx0XHR2YXIgaGFzSW1hZ2UgPSBmYWxzZTtcblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS5pdGVtcyApIHtcblx0XHRcdFx0JC5lYWNoKCBjbGlwYm9hcmREYXRhLml0ZW1zLCBmdW5jdGlvbihpLGl0ZW0pe1xuXHRcdFx0XHRcdGlmICggaXRlbS50eXBlIGluIHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5wYXN0ZSApIHtcblx0XHRcdFx0XHRcdGhhc0ltYWdlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIGhhc0ltYWdlO1xuXHRcdFx0fVxuXG5cdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMgKSB7XG5cdFx0XHRcdCQuZWFjaCggdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlLCBmdW5jdGlvbih0eXBlLGV4dCl7XG5cdFx0XHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLnR5cGVzLmluZGV4T2YodHlwZSkgPiAtMSApIHtcblx0XHRcdFx0XHRcdGhhc0ltYWdlID0gdHJ1ZTtcblx0XHRcdFx0XHRcdHJldHVybiBmYWxzZTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0cmV0dXJuIGhhc0ltYWdlO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXG5cblx0fSwgdGhlcGFzdGUgKTtcblxufSkoIGpRdWVyeSwgd3AubWVkaWEgKTtcblxuKGZ1bmN0aW9uKCQsZXhwb3J0cyl7XG5cblx0dmFyIGNvdW50ZXIgICAgICA9IDAsXG5cdFx0bDEwbiA9IHdwLm1lZGlhLnRoZXBhc3RlLmwxMG47XG5cblx0JC5leHRlbmQoIHdwLlVwbG9hZGVyLnByb3RvdHlwZSwge1xuXHRcdHN1Y2Nlc3MgOiBmdW5jdGlvbiggZmlsZV9hdHRhY2htZW50ICl7XG5cdFx0fVxuXHR9KTtcblxuXG5cdC8qKlxuXHQgKlx0SW50ZWdyYXRlIGludG8gbWVkaWEgbGlicmFyeSBtb2RhbFxuXHQgKi9cblx0Ly8gYWRkIHN0YXRlcyB0byBicm93c2Ugcm91dGVyXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZS5pbml0aWFsaXplLFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmJpbmRQYXN0ZUhhbmRsZXJzKCk7XG5cdFx0fSxcblx0XHRfcGFyZW50QnJvd3NlUm91dGVyOiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZS5icm93c2VSb3V0ZXIsXG5cdFx0YnJvd3NlUm91dGVyIDogZnVuY3Rpb24oIHZpZXcgKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRCcm93c2VSb3V0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXHRcdFx0XHR2aWV3LnNldCh7cGFzdGVib2FyZDp7XG5cdFx0XHRcdFx0dGV4dDogICAgIGwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRwcmlvcml0eTogMzVcblx0XHRcdFx0fX0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiaW5kUGFzdGVIYW5kbGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcHJldmlvdXNDb250ZW50ID0gZmFsc2U7XG5cdFx0XG5cdFx0XHQvLyBkaXNtaXNzIGNvbnRlbnQgb24gY2xvc2Vcblx0XHRcdHRoaXMub24oICdjb250ZW50OnJlbmRlciBjbG9zZScgLCBmdW5jdGlvbihjb250ZW50KXtcblx0XHRcdFx0aWYgKCBwcmV2aW91c0NvbnRlbnQgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHByZXZpb3VzQ29udGVudC5kaXNtaXNzICkge1xuXHRcdFx0XHRcdHByZXZpb3VzQ29udGVudC5kaXNtaXNzKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbnRlbnQgKVxuXHRcdFx0XHRcdHByZXZpb3VzQ29udGVudCA9IGNvbnRlbnQ7XG5cdFx0XHR9ICwgdGhpcyApO1xuXHRcdFxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6Y3JlYXRlOnBhc3RlYm9hcmQnLCB0aGlzLmNvbnRlbnRDcmVhdGVQYXN0ZWJvYXJkLCB0aGlzICk7XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpyZW5kZXI6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudFJlbmRlckdyYWJiZXIsIHRoaXMgKTtcblxuXHRcdFx0ZnJhbWUgPSB0aGlzO1xuXHRcdH0sXG5cdFx0Ly8gYWRkIGhhbmRsZXJzXG5cdFx0Y29udGVudENyZWF0ZVBhc3RlYm9hcmQ6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dmFyIHN0YXRlID0gdGhpcy5zdGF0ZSgpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRQYXN0ZVZpZXcgPSBjb250ZW50LnZpZXcgPSBuZXcgd3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VHcmFiYmVyKCB7IFxuXHRcdFx0XHRjb250cm9sbGVyXHQ6IHRoaXMsIFxuXHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuY3VycmVudFBhc3RlVmlldy51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnLCB0aGlzLnVwbG9hZGVkRGF0YUltYWdlICk7XG5cdFx0fSxcblx0XHRjb250ZW50UmVuZGVyR3JhYmJlcjogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHRjb250ZW50LnN0YXJ0R3JhYmJpbmcoKTtcblx0XHR9LFxuXHRcdHVwbG9hZGVkRGF0YUltYWdlOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHZhciBvYmogPSB7IHZpZXc6IG51bGwgfTtcblx0XHRcdHRoaXMuYnJvd3NlQ29udGVudChvYmopO1xuXHRcdFx0dGhpcy5jb250ZW50LnNldCggb2JqLnZpZXcgKTtcblx0XHRcdHRoaXMucm91dGVyLmdldCgpLnNlbGVjdCgnYnJvd3NlJylcblx0XHR9XG5cdH0pO1xuXHRcblxuXG5cdC8qKlxuXHQgKlx0QWRkIHBhc3RlIGJ1dHRvbiB0byB0b29sYmFyIG9uIHVwbG9hZC5waHBcblx0ICovXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnRzQnJvd3Nlci5wcm90b3R5cGUsIHtcblx0XHRfcGFyZW50SW5pdGlhbGl6ZTpcdHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZS5pbml0aWFsaXplLFxuXHRcdGluaXRpYWxpemU6XHRmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0cGFzdGVCdG47XG5cblx0XHRcdHRoaXMuX3BhcmVudEluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0XG5cdFx0XHR0aGlzLnRoZXBhc3RlID0ge1xuXHRcdFx0XHRwYXN0ZVx0OiB7XG4vL1x0XHRcdFx0XHRidXR0b25cdDogZmFsc2UsXG5cdFx0XHRcdFx0Z3JhYmJlclx0OiBmYWxzZSxcblx0XHRcdFx0XHRtb2RhbFx0OiBmYWxzZSxcblx0XHRcdFx0XHRtb2RlXHQ6ICdwYXN0ZScsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGN1cnJlbnRcdFx0OiBmYWxzZVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgKCB0aGlzLmNvbnRyb2xsZXIgaW5zdGFuY2VvZiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0ICkgKSB7XG5cblx0XHRcdFx0aWYgKCB3cC5tZWRpYS50aGVwYXN0ZS5zdXBwb3J0cy5wYXN0ZSApIHtcblxuXHRcdFx0XHRcdHBhc3RlQnRuID0gbmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKCB7XG5cdFx0XHRcdFx0XHR0ZXh0XHRcdDogbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAgJ2dyYWJiZXItYnV0dG9uJyxcblx0XHRcdFx0XHRcdHByaW9yaXR5XHQ6IC02NCxcblx0XHRcdFx0XHRcdGNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi50aGVwYXN0ZS5hY3RpdmUgPSBzZWxmLnRoZXBhc3RlLnBhc3RlO1xuXHRcdFx0XHRcdFx0XHRzZWxmLnRoZXBhc3RlT3BlbiggbDEwbi5jb3B5X3Bhc3RlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdHRoaXMudGhlcGFzdGUucGFzdGUuZ3JhYmJlciA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHtcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0Z3JhYmJlclx0XHQ6IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuUGFzdGVib2FyZCxcblx0XHRcdFx0XHRcdHdwdXBsb2FkZXJcdDogdGhpcy5jb250cm9sbGVyLnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyXG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0dGhpcy50b29sYmFyLnNldCggJ3Bhc3RlTW9kZUJ1dHRvbicsIHBhc3RlQnRuLnJlbmRlcigpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHRoZXBhc3RlVXBsb2FkZWQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5kaXNtaXNzKCk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLmNsb3NlKCk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlQ2xvc2UoKTtcblx0XHR9LFxuXHRcdHRoZXBhc3RlRXJyb3I6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0Y29uc29sZS5sb2coICdlcnJvcicsIGUgKTtcblx0XHR9LFxuXHRcdHRoZXBhc3RlT3BlbjogZnVuY3Rpb24oIHRpdGxlICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsICA9ICBuZXcgd3AubWVkaWEudmlldy5Nb2RhbCgge1xuXHRcdFx0XHRjb250cm9sbGVyIDogdGhpcyxcblx0XHRcdFx0dGl0bGUgICAgICA6IHRpdGxlXG5cdFx0XHR9ICk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLmNvbnRlbnQoIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIgKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub3BlbigpO1xuXG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLm9uKCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi50aGVwYXN0ZUNsb3NlLmFwcGx5KHNlbGYpO1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnN0b3BHcmFiYmluZygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RhcnRHcmFiYmluZygpO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudGhlcGFzdGVVcGxvYWRlZCApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudGhlcGFzdGVFcnJvciApO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVDbG9zZTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHRoaXMuY29udHJvbGxlci5kZWFjdGl2YXRlTW9kZSggdGhpcy50aGVwYXN0ZS5hY3RpdmUubW9kZSApLmFjdGl2YXRlTW9kZSggJ2VkaXQnICk7XG5cblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLnN0b3BMaXN0ZW5pbmcoIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdlcnJvcjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0fVxuXHR9KTtcblx0XG59KShqUXVlcnksd2luZG93KTtcblxuKGZ1bmN0aW9uKCQsd2luZG93LG8pe1xuXHR2YXIgdGhlcGFzdGUgPSB3cC5tZWRpYS50aGVwYXN0ZSxcblx0XHRCdXR0b24gPSB3cC5tZWRpYS52aWV3LkJ1dHRvbixcblx0XHRNb2RhbCAgPSB3cC5tZWRpYS52aWV3Lk1vZGFsLFxuXHRcdGwxMG4gICA9IHRoZXBhc3RlLmwxMG47XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtdXBsb2FkZXInKSxcblx0XHRjbGFzc05hbWU6ICd0aGVwYXN0ZS11cGxvYWRlcicsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGltYWdlIDogbnVsbCxcblx0XHQkZGlzY2FyZEJ0biA6IG51bGwsXG5cdFx0JHVwbG9hZEJ0biA6IG51bGwsXG5cdFx0XG5cdFx0dXBsb2FkZXIgOiBudWxsLFxuXHRcdFxuXHRcdGV2ZW50cyA6IHtcblx0XHRcdCdjbGljayBbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0nXHQ6ICd1cGxvYWRJbWFnZScsXG5cdFx0XHQnY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSdcdDogJ2Rpc2NhcmRJbWFnZScsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lIDogbDEwbi5pbWFnZVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGluc3RyID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lICAgIDogJ2RpdicsXG5cdFx0XHRcdGNsYXNzTmFtZSAgOiAnaW5zdHJ1bWVudHMnLFxuXHRcdFx0XHRjb250cm9sbGVyIDogdGhpcy5jb250cm9sbGVyXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy51cGxvYWRlciA9IHRoaXMub3B0aW9ucy51cGxvZGVyO1xuXHRcdH0sXG5cdFx0c2V0SW1hZ2VEYXRhIDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHR2YXIgY29udGFpbmVyID0gdGhpcy4kaW1hZ2VDb250YWluZXIuaHRtbCgnJykuZ2V0KDApLFxuXHRcdFx0XHRzZWxmID0gdGhpcyxcblx0XHRcdFx0Zm9ybWF0ID0gZGF0YS5tYXRjaCgvZGF0YTooaW1hZ2VcXC8oXFx3KykpOy8pWzFdO1xuXG5cdFx0XHRpZiAoICEgdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbZm9ybWF0XSApIHtcblx0XHRcdFx0Zm9ybWF0ID0gdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlRm9ybWF0O1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoIHRoaXMuaW1hZ2UgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmltYWdlID0gbmV3IG8uSW1hZ2UoKTtcblx0XHRcdHRoaXMuaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBvcHRzID0gc2VsZi5nZXRVcGxvYWRlcigpLmdldE9wdGlvbigncmVzaXplJyksXG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLm1heCggb3B0cy53aWR0aCAvIHRoaXMud2lkdGgsIG9wdHMuaGVpZ2h0IC8gdGhpcy5oZWlnaHQgKTtcblxuXHRcdFx0XHQhIW9wdHMgJiYgKHNjYWxlIDwgMSkgJiYgdGhpcy5kb3duc2l6ZSggdGhpcy53aWR0aCpzY2FsZSwgdGhpcy5oZWlnaHQqc2NhbGUgKTtcblxuXHRcdFx0XHR0aGlzLmVtYmVkKCBjb250YWluZXIgKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5pbWFnZS5sb2FkKCBkYXRhICk7XG5cdFx0XHRpZiAoIHRoaXMuJGltYWdlQ29udGFpbmVyICkge1xuXHRcdFx0XHR0aGlzLiRpbWFnZUNvbnRhaW5lci5hcHBlbmQodGhpcy5pbWFnZSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJmb3JtYXRcIl0gaW5wdXRbdmFsdWU9XCInK2Zvcm1hdCsnXCJdJykucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cblxuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlbmRlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGltYWdlQ29udGFpbmVyID0gdGhpcy4kKCcuaW1hZ2UtY29udGFpbmVyJyk7XG5cdFx0XHR0aGlzLiRkaXNjYXJkQnRuID0gdGhpcy4kKCdbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdJyk7XG5cdFx0XHR0aGlzLiR1cGxvYWRCdG4gPSB0aGlzLiQoJ1tkYXRhLWFjdGlvbj1cInVwbG9hZFwiXScpO1xuXHRcdFx0dGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwidGl0bGVcIl0nKS52YWwoIHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZGlzY2FyZEltYWdlIDogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjpkaXNjYXJkOmRhdGFpbWFnZScgLCB0aGlzICk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHR1cGxvYWRJbWFnZSA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cImZvcm1hdFwiXSA6Y2hlY2tlZCcpLnZhbCgpLFxuXHRcdFx0XHRzdWZmaXggPSB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFsgdHlwZSBdLFxuXHRcdFx0XHRuYW1lID0gdGhpcy4kKCdpbnB1dFtkYXRhLXNldHRpbmc9XCJ0aXRsZVwiXScpLnZhbCgpICsgJy4nICsgc3VmZml4LFxuXHRcdFx0XHRibG9iID0gdGhpcy5pbWFnZS5nZXRBc0Jsb2IoIHR5cGUsIHRoZXBhc3RlLm9wdGlvbnMuanBlZ19xdWFsaXR5ICk7XG5cblx0XHRcdHRoaXMuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cblx0XHRcdGJsb2IuZGV0YWNoKCBibG9iLmdldFNvdXJjZSgpICk7XG5cdFx0XHRibG9iLm5hbWUgPSBuYW1lO1xuXHRcdFx0YmxvYi50eXBlID0gdHlwZTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5hZGRGaWxlKCBibG9iICwgbmFtZSApO1xuXG5cdFx0XHR0aGlzLmRpc2FibGVkKCB0cnVlICk7XG5cblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjp1cGxvYWQ6ZGF0YWltYWdlJyAsIHRoaXMgKTtcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJGVsLnNob3coKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aGlkZTpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy4kZWwuaGlkZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkaXNhYmxlZCA6IGZ1bmN0aW9uKCBkaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuJGRpc2NhcmRCdG4ucHJvcCggJ2Rpc2FibGVkJywgZGlzYWJsZWQgKTtcblx0XHRcdHRoaXMuJHVwbG9hZEJ0bi5wcm9wKCAnZGlzYWJsZWQnLCBkaXNhYmxlZCApO1xuXHRcdH0sXG5cdFx0X3VwbG9hZFN1Y2Nlc3NIYW5kbGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHRfdXBsb2FkRXJyb3JIYW5kbGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdlcnJvcjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdGJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmJpbmQoICdGaWxlVXBsb2FkZWQnLFx0dGhpcy5fdXBsb2FkU3VjY2Vzc0hhbmRsZXIsXHR0aGlzICk7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHR1bmJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS51bmJpbmQoICdFcnJvcicsXHRcdFx0dGhpcy5fdXBsb2FkRXJyb3JIYW5kbGVyLFx0dGhpcyApO1xuXHRcdH0sXG5cdFx0Z2V0VXBsb2FkZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udHJvbGxlci51cGxvYWRlci51cGxvYWRlci51cGxvYWRlcjtcblx0XHR9XG5cdH0pO1xuXG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtcGFzdGVib2FyZCcpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXBhc3RlYm9hcmQnLFxuXHRcdGNvbnRyb2xsZXI6bnVsbCxcblx0XHRhY3Rpb246J3Bhc3RlJyxcblx0XHQkcGFzdGVib2FyZCA6IG51bGwsXG5cblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJHBhc3RlYm9hcmQgPSB0aGlzLiQoICcuaW5qZWN0b3InICkucGFzdGFibGVDb250ZW50ZWRpdGFibGUoKTtcblx0XHRcdHRoaXMuJG1lc3NhZ2UgPSB0aGlzLiQoICcubWVzc2FnZScgKTtcblx0XHRcdHRoaXMuJHBhc3RlYm9hcmQub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoJycpO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdGFydCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRjbGlwYm9hcmRIYXNJbWFnZTtcblxuXHRcdFx0dGhpcy5pbWFnZVBhc3RlZCA9IGZhbHNlO1xuXG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkXG5cdFx0XHRcdC5vbigncGFzdGUnLGZ1bmN0aW9uKGUpe1xuXHRcdFx0XHRcdGNsaXBib2FyZEhhc0ltYWdlID0gd3AubWVkaWEudGhlcGFzdGUuY2xpcGJvYXJkSGFzSW1hZ2UoZS5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGEpO1xuXHRcdFx0XHR9KVxuXHRcdFx0XHQub24oJ3Bhc3RlVGV4dCcgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblxuXHRcdFx0XHRcdGlmICggY2xpcGJvYXJkSGFzSW1hZ2UgfHwgc2VsZi5pbWFnZVBhc3RlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoIGwxMG4ucGFzdGVfZXJyb3Jfbm9faW1hZ2UgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuaHRtbCgnJyk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oJ3Bhc3RlSW1hZ2UnICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cdFx0XHRcdFx0aWYgKCBzZWxmLmltYWdlUGFzdGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnRyaWdnZXIoICdhY3Rpb246Y3JlYXRlOmRhdGFpbWFnZScsIHRoaXMgLCBkYXRhLmRhdGFVUkwgKTtcblx0XHRcdFx0XHRzZWxmLmltYWdlUGFzdGVkID0gdHJ1ZTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5vbigncGFzdGVJbWFnZUVycm9yJyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXHRcdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCBsMTBuLnBhc3RlX2Vycm9yICk7XG5cdFx0XHRcdFx0JCggdGhpcyApLmh0bWwoJycpO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0O1xuXG5cdFx0XHRzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNlbGYuJHBhc3RlYm9hcmQuZ2V0KDApLmZvY3VzKCk7XG5cdFx0XHR9LDEpO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHN0b3AgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJHBhc3RlYm9hcmRcblx0XHRcdFx0Lm9mZigncGFzdGVJbWFnZScpXG5cdFx0XHRcdC5vZmYoJ3Bhc3RlSW1hZ2VFcnJvcicpXG5cdFx0XHRcdC5vZmYoJ3Bhc3RlVGV4dCcpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzaG93OmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kZWwuc2hvdygpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRoaWRlOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kZWwuaGlkZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzaG93X21lc3NhZ2U6ZnVuY3Rpb24oIG1zZyApIHtcblx0XHRcdHRoaXMuJG1lc3NhZ2UudGV4dCggbXNnICk7XG5cdFx0fVxuXHR9KTtcblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG4vL1x0XHR0YWdOYW1lOiAgICdkaXYnLFxuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtZ3JhYmJlcicpLFxuXHRcdGNsYXNzTmFtZSA6ICd0aGVwYXN0ZS1ncmFiYmVyJyxcblx0XHRcblx0XHRncmFiYmVyIDogbnVsbCxcblx0XHR1cGxvYWRlciA6IG51bGwsXG5cdFx0XG5cdFx0aW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHJldCA9IHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtcblx0XHRcdFx0d3B1cGxvYWRlclx0XHQ6IG51bGwsXG5cdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0OiBsMTBuLnBhc3RlZCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVGb3JtYXQgOiAnaW1hZ2UvcG5nJyxcblx0XHRcdFx0dGl0bGVcdFx0XHQ6IGwxMG4uY29weV9wYXN0ZSBcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLmdyYWJiZXIgID0gbmV3IHRoaXMub3B0aW9ucy5ncmFiYmVyKCB7IGNvbnRyb2xsZXJcdDogdGhpcy5jb250cm9sbGVyIH0gKTtcblxuXHRcdFx0dGhpcy51cGxvYWRlciA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyKCB7XHRcblx0XHRcdFx0XHRcdFx0XHRcdGNvbnRyb2xsZXJcdFx0XHQ6IHRoaXMuY29udHJvbGxlcixcblx0XHRcdFx0XHRcdFx0XHRcdHVwbG9kZXJcdFx0XHRcdDogdGhpcy5vcHRpb25zLndwdXBsb2FkZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZU5hbWVcdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVOYW1lLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdEZpbGVGb3JtYXRcdDogdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlRm9ybWF0XG5cdFx0XHRcdFx0XHRcdFx0fSk7XG5cdFx0XHR0aGlzLnJlbmRlcigpO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLmdyYWJiZXIsICdhY3Rpb246Y3JlYXRlOmRhdGFpbWFnZScsXHR0aGlzLmltYWdlQ3JlYXRlZCApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy51cGxvYWRlciwgJ2FjdGlvbjpkaXNjYXJkOmRhdGFpbWFnZScsXHR0aGlzLnN0YXJ0R3JhYmJpbmcgKTtcblxuXHRcdFx0cmV0dXJuIHJldDtcblx0XHR9LFxuXHRcdHJlbmRlcjpmdW5jdGlvbigpe1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHR0aGlzLiQoJy5jb250ZW50Jylcblx0XHRcdFx0LmFwcGVuZCggdGhpcy5ncmFiYmVyLnJlbmRlcigpLiRlbCApXG5cdFx0XHRcdC5hcHBlbmQoIHRoaXMudXBsb2FkZXIucmVuZGVyKCkuJGVsICk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aW1hZ2VDcmVhdGVkIDogZnVuY3Rpb24oIGdyYWJiZXIgLCBpbWFnZURhdGEgKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpLmhpZGUoKTtcblx0XHRcdHRoaXMudXBsb2FkZXIuc2hvdygpLnNldEltYWdlRGF0YSggaW1hZ2VEYXRhICk7XG5cdFx0fSxcblx0XHRzdGFydEdyYWJiaW5nOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy51cGxvYWRlci5oaWRlKCk7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc2hvdygpLnN0YXJ0KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHN0b3BHcmFiYmluZzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGdldEFjdGlvbiA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuZ3JhYmJlci5hY3Rpb247XG5cdFx0fSxcblx0XHRkaXNtaXNzOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH1cblx0fSk7XG5cbn0pKGpRdWVyeSx3aW5kb3csbU94aWUpO1xuIl19
