(function(){var e,t,a,i,n;e=window.jQuery,e.paste=function(e){var a;return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),a=t.mountNonInputable(e),a._container},e.fn.pastableNonInputable=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is("textarea, input:text, [contenteditable]")||(t.mountNonInputable(a),a._pastable=!0);return this},e.fn.pastableTextarea=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is(":not(textarea, input:text)")||(t.mountTextarea(a),a._pastable=!0);return this},e.fn.pastableContenteditable=function(){var a,i,n,r;for(r=this,i=0,n=r.length;i<n;i++)a=r[i],a._pastable||e(a).is(":not([contenteditable])")||(t.mountContenteditable(a),a._pastable=!0);return this},i=function(e,t){var a,i,n,r,o,s,l,p,d,u,h;if(null==t&&(t=512),!(p=e.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(u=p,p=u[0],s=u[1],a=u[2],r=atob(a),n=[],d=0;d<r.length;){for(h=r.slice(d,d+t),o=new Array(h.length),l=0;l<h.length;)o[l]=h.charCodeAt(l),l++;i=new Uint8Array(o),n.push(i),d+=t}return new Blob(n,{type:s})},a=function(){return e(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},n=function(t,a){var i,n,r,o,s,l;return o=void 0,s=void 0,r=void 0,n=void 0,i=void 0,"area"===(l=t.nodeName.toLowerCase())?(o=t.parentNode,s=o.name,!(!t.href||!s||"map"!==o.nodeName.toLowerCase())&&(r=e("img[usemap='#"+s+"']"),r.length>0&&r.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(l)?(n=!t.disabled)&&(i=e(t).closest("fieldset")[0])&&(n=!i.disabled):n="a"===l?t.href||a:a,(n=n||e(t).is("[contenteditable]"))&&e(t).is(":visible"))},t=function(){function t(t,a){this._container=t,this._target=a,this._container=e(this._container),this._target=e(this._target).addClass("pastable"),this._container.on("paste",function(e){return function(t){var a,i,n,r,o,s,l,p,d,u,h,c,g;if(t.currentTarget!==t.target)return t.preventDefault();if(e._paste_event_fired=!0,null!=(null!=(d=t.originalEvent)?d.clipboardData:void 0))if(a=t.originalEvent.clipboardData,a.items)for(u=a.items,r=0,s=u.length;r<s;r++){if(n=u[r],n.type.match(/^image\//)){p=new FileReader,p.onload=function(t){return e._handleImage(t.target.result)};try{p.readAsDataURL(n.getAsFile())}catch(e){}t.preventDefault();break}"text/plain"===n.type&&n.getAsString(function(t){return e._target.trigger("pasteText",{text:t})})}else-1!==Array.prototype.indexOf.call(a.types,"text/plain")&&(g=a.getData("Text"),setTimeout(function(){return e._target.trigger("pasteText",{text:g})},1)),e._checkImagesInContainer(function(t){return e._handleImage(t)});if(a=window.clipboardData)if(null!=(h=g=a.getData("Text"))?h.length:void 0)setTimeout(function(){return e._target.trigger("pasteText",{text:g}),e._target.trigger("_pasteCheckContainerDone")},1);else{for(c=a.files,o=0,l=c.length;o<l;o++)i=c[o],e._handleImage(URL.createObjectURL(i));e._checkImagesInContainer(function(e){})}return null}}(this))}return t.prototype._target=null,t.prototype._container=null,t.mountNonInputable=function(i){var r;return r=new t(a().appendTo(i),i),e(i).on("click",function(e){return function(e){if(!n(e.target,!1))return r._container.focus()}}()),r._container.on("focus",function(t){return function(){return e(i).addClass("pastable-focus")}}()),r._container.on("blur",function(t){return function(){return e(i).removeClass("pastable-focus")}}())},t.mountTextarea=function(i){var n,r,o,s;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(o=Object.getOwnPropertyDescriptor)&&null!=(s=o.call(Object,DataTransfer.prototype,"items"))?s.get:void 0)?this.mountContenteditable(i):(r=new t(a().insertBefore(i),i),n=!1,e(i).on("keyup",function(e){var t;return 17!==(t=e.keyCode)&&224!==t||(n=!1),null}),e(i).on("keydown",function(t){var a;return 17!==(a=t.keyCode)&&224!==a||(n=!0),null!=t.ctrlKey&&null!=t.metaKey&&(n=t.ctrlKey||t.metaKey),n&&86===t.keyCode&&(r._textarea_focus_stolen=!0,r._container.focus(),r._paste_event_fired=!1,setTimeout(function(t){return function(){if(!r._paste_event_fired)return e(i).focus(),r._textarea_focus_stolen=!1}}(),1)),null}),e(i).on("paste",function(e){return function(){}}()),e(i).on("focus",function(t){return function(){if(!r._textarea_focus_stolen)return e(i).addClass("pastable-focus")}}()),e(i).on("blur",function(t){return function(){if(!r._textarea_focus_stolen)return e(i).removeClass("pastable-focus")}}()),e(r._target).on("_pasteCheckContainerDone",function(t){return function(){return e(i).focus(),r._textarea_focus_stolen=!1}}()),e(r._target).on("pasteText",function(t){return function(t,a){var n,r,o;return o=e(i).prop("selectionStart"),r=e(i).prop("selectionEnd"),n=e(i).val(),e(i).val(""+n.slice(0,o)+a.text+n.slice(r)),e(i)[0].setSelectionRange(o+a.text.length,o+a.text.length),e(i).trigger("change")}}()))},t.mountContenteditable=function(a){return new t(a,a),e(a).on("focus",function(t){return function(){return e(a).addClass("pastable-focus")}}()),e(a).on("blur",function(t){return function(){return e(a).removeClass("pastable-focus")}}())},t.prototype._handleImage=function(e){var t;return e.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),t=new Image,t.crossOrigin="anonymous",t.onload=function(e){return function(){var a,n,r,o;n=document.createElement("canvas"),n.width=t.width,n.height=t.height,r=n.getContext("2d"),r.drawImage(t,0,0,n.width,n.height),o=null;try{o=n.toDataURL("image/png"),a=i(o)}catch(e){}return o&&e._target.trigger("pasteImage",{blob:a,dataURL:o,width:t.width,height:t.height}),e._target.trigger("pasteImageEnd")}}(this),t.onerror=function(t){return function(){return t._target.trigger("pasteImageError",{message:"Failed to get image from: "+e,url:e}),t._target.trigger("pasteImageEnd")}}(this),t.src=e)},t.prototype._checkImagesInContainer=function(t){var a,i,n,r,o;for(o=Math.floor(1e3*Math.random()),r=this._container.find("img"),i=0,n=r.length;i<n;i++)a=r[i],a["_paste_marked_"+o]=!0;return setTimeout(function(i){return function(){var n,r,s;for(s=i._container.find("img"),n=0,r=s.length;n<r;n++)a=s[n],a["_paste_marked_"+o]||(t(a.src),e(a).remove());return i._target.trigger("_pasteCheckContainerDone")}}(this),1)},t}()}).call(this),function(e,t){var a=(navigator.userAgent.indexOf("Chrome"),0);thepaste=t.thepaste=e.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"==typeof window.onpaste||"onpaste"in document.createElement("DIV")},view:{},insertImage:function(e,t,i){var n="__thepaste_img_"+a++,r='<img id="'+n+'" class="alignnone size-full" src="'+e+'" />';return i.insertContent(r),i.$("#"+n)[0]},uploadImage:function(t,i){var n,r,s,l=t.src,p=function(n){var p="__thepaste_box_"+a++,d=n.match(/^data\:([^\;]+)\;/)[1];file=new o.Blob(null,{data:n}),suffix=thepaste.options.mime_types.convert[d],e(t).wrap('<div id="'+p+'" data-progress="0" class="thepaste-image-placeholder" contenteditable="false"></div>'),s=i.$("#"+p),file.name=thepaste.l10n.pasted+"."+suffix,file.type=d;var u=function(){r.uploader.uploader.uploader.addFile(file)};r?(r.state().reset(),u()):(r=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1}),r.close(),r.uploader.uploader&&r.uploader.uploader.ready?u():r.on("uploader:ready",u)),r.uploader.uploader.uploader.bind("UploadProgress",function(e){s.attr("data-progress",e.total.percent)}),r.uploader.uploader.uploader.bind("FileUploaded",function(t,a){var n='<img class="alignnone wp-image-'+a.attachment.id+' size-full" src="'+a.attachment.changed.url+'" />';s.replaceWith(n),i.$('img[src="'+l+'"]').each(function(){e(this).replaceWith(n)})}),r.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})};"blob:"===l.substr(0,5)?(n=new XMLHttpRequest,n.responseType="blob",n.onreadystatechange=function(){var e;4==n.readyState&&(e=new FileReader,e.onload=function(){p(e.result)},e.readAsDataURL(n.response))},n.open("GET",l),n.send(null)):"data:"===l.substr(0,5)&&p(l)},clipboardHasImage:function(t){var a=!1;return t.items?(e.each(t.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return a=!0,!1}),a):t.types?(e.each(thepaste.options.mime_types.paste,function(e,i){if(t.types.indexOf(e)>-1)return a=!0,!1}),a):null}},thepaste)}(jQuery,wp.media),function(e,t){var a=wp.media.thepaste.l10n;navigator.userAgent.indexOf("Chrome");e.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:a.copy_paste,priority:35}})},bindPasteHandlers:function(){var e=!1;this.on("content:render close",function(t){e&&"function"==typeof e.dismiss&&e.dismiss(),void 0!==t&&(e=t)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),frame=this},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:a.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.pasteOpen(a.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteUploaded:function(e){this.thepaste.active.grabber.dismiss(),this.thepaste.modal.close(),this.thepasteClose()},thepasteError:function(e){console.log("error",e)},pasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose.apply(t),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage",this.thepasteUploaded),this.listenTo(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage",this.thepasteError)},thepasteClose:function(){this.controller.deactivateMode(this.thepaste.active.mode).activateMode("edit"),this.stopListening(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage"),this.stopListening(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage")}})}(jQuery,window),function(e,t,a){var i=wp.media.thepaste,n=(wp.media.view.Button,wp.media.view.Modal,i.l10n);wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:n.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(e){var t=this.$imageContainer.html("").get(0),n=this,r=e.match(/data:(image\/(\w+));/)[1];return i.options.mime_types.convert[r]||(r=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new a.Image,this.image.onload=function(){var e=n.getUploader().getOption("resize"),a=Math.max(e.width/this.width,e.height/this.height);!!e&&a<1&&this.downsize(this.width*a,this.height*a),this.embed(t)},this.image.bind("Resize",function(e){this.embed(t)}),this.image.load(e),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+r+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var e=this.$('[data-setting="format"] :checked').val(),t=i.options.mime_types.convert[e],a=this.$('input[data-setting="title"]').val()+"."+t,n=this.image.getAsBlob(e,i.options.jpeg_quality);this.bindUploaderEvents(),n.detach(n.getSource()),n.name=a,n.type=e,this.getUploader().addFile(n,a),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(e){this.$discardBtn.prop("disabled",e),this.$uploadBtn.prop("disabled",e)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(){this.trigger("error:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var e=this;return wp.media.View.prototype.render.apply(this,arguments),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){e.show_message("")}),this},start:function(){var t,a=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(e){t=wp.media.thepaste.clipboardHasImage(e.originalEvent.clipboardData)}).on("pasteText",function(i,r){t||a.imagePasted||(a.show_message(n.paste_error_no_image),e(this).html(""))}).on("pasteImage",function(e,t){a.imagePasted||(a.trigger("action:create:dataimage",this,t.dataURL),a.imagePasted=!0)}).on("pasteImageError",function(t,i){a.show_message(n.paste_error),e(this).html("")}),setTimeout(function(){a.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(e){this.$message.text(e)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var e=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:n.pasted,defaultFileFormat:"image/png",title:n.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),e},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(e,t){this.grabber.stop().hide(),this.uploader.show().setImageData(t)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})}(jQuery,window,mOxie);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRoZS1wYXN0ZS5qcyJdLCJuYW1lcyI6WyIkIiwiUGFzdGUiLCJjcmVhdGVIaWRkZW5FZGl0YWJsZSIsImRhdGFVUkx0b0Jsb2IiLCJpc0ZvY3VzYWJsZSIsIndpbmRvdyIsImpRdWVyeSIsInBhc3RlIiwicGFzdGVDb250YWluZXIiLCJwbSIsImNvbnNvbGUiLCJsb2ciLCJtb3VudE5vbklucHV0YWJsZSIsIl9jb250YWluZXIiLCJmbiIsInBhc3RhYmxlTm9uSW5wdXRhYmxlIiwiZWwiLCJqIiwibGVuIiwicmVmIiwidGhpcyIsImxlbmd0aCIsIl9wYXN0YWJsZSIsImlzIiwicGFzdGFibGVUZXh0YXJlYSIsIm1vdW50VGV4dGFyZWEiLCJwYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSIsIm1vdW50Q29udGVudGVkaXRhYmxlIiwiZGF0YVVSTCIsInNsaWNlU2l6ZSIsImI2NERhdGEiLCJieXRlQXJyYXkiLCJieXRlQXJyYXlzIiwiYnl0ZUNoYXJhY3RlcnMiLCJieXRlTnVtYmVycyIsImNvbnRlbnRUeXBlIiwiaSIsIm0iLCJvZmZzZXQiLCJzbGljZSIsIm1hdGNoIiwiYXRvYiIsIkFycmF5IiwiY2hhckNvZGVBdCIsIlVpbnQ4QXJyYXkiLCJwdXNoIiwiQmxvYiIsInR5cGUiLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJhdHRyIiwiY3NzIiwid2lkdGgiLCJoZWlnaHQiLCJwb3NpdGlvbiIsImxlZnQiLCJvdmVyZmxvdyIsImVsZW1lbnQiLCJoYXNUYWJpbmRleCIsImZpZWxkc2V0IiwiZm9jdXNhYmxlSWZWaXNpYmxlIiwiaW1nIiwibWFwIiwibWFwTmFtZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJwYXJlbnROb2RlIiwibmFtZSIsImhyZWYiLCJ0ZXN0IiwiZGlzYWJsZWQiLCJjbG9zZXN0IiwiX3RhcmdldCIsImFkZENsYXNzIiwib24iLCJfdGhpcyIsImV2IiwiY2xpcGJvYXJkRGF0YSIsImZpbGUiLCJpdGVtIiwiayIsImxlbjEiLCJyZWFkZXIiLCJyZWYxIiwicmVmMiIsInJlZjMiLCJ0ZXh0IiwiY3VycmVudFRhcmdldCIsInRhcmdldCIsInByZXZlbnREZWZhdWx0IiwiX3Bhc3RlX2V2ZW50X2ZpcmVkIiwib3JpZ2luYWxFdmVudCIsIml0ZW1zIiwiRmlsZVJlYWRlciIsIm9ubG9hZCIsImV2ZW50IiwiX2hhbmRsZUltYWdlIiwicmVzdWx0IiwicmVhZEFzRGF0YVVSTCIsImdldEFzRmlsZSIsImVycm9yIiwiZ2V0QXNTdHJpbmciLCJzdHJpbmciLCJ0cmlnZ2VyIiwicHJvdG90eXBlIiwiaW5kZXhPZiIsImNhbGwiLCJ0eXBlcyIsImdldERhdGEiLCJzZXRUaW1lb3V0IiwiX2NoZWNrSW1hZ2VzSW5Db250YWluZXIiLCJzcmMiLCJmaWxlcyIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsIm5vbklucHV0YWJsZSIsImFwcGVuZFRvIiwiZm9jdXMiLCJyZW1vdmVDbGFzcyIsInRleHRhcmVhIiwiY3RsRG93biIsIkRhdGFUcmFuc2ZlciIsIk9iamVjdCIsImdldE93blByb3BlcnR5RGVzY3JpcHRvciIsImdldCIsImluc2VydEJlZm9yZSIsImtleUNvZGUiLCJjdHJsS2V5IiwibWV0YUtleSIsIl90ZXh0YXJlYV9mb2N1c19zdG9sZW4iLCJkYXRhIiwiY29udGVudCIsImN1ckVuZCIsImN1clN0YXJ0IiwicHJvcCIsInZhbCIsInNldFNlbGVjdGlvblJhbmdlIiwiY29udGVudGVkaXRhYmxlIiwibG9hZGVyIiwibWVzc2FnZSIsIkltYWdlIiwiY3Jvc3NPcmlnaW4iLCJibG9iIiwiY2FudmFzIiwiY3R4IiwiZ2V0Q29udGV4dCIsImRyYXdJbWFnZSIsInRvRGF0YVVSTCIsIm9uZXJyb3IiLCJ1cmwiLCJjYiIsInRpbWVzcGFuIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiZmluZCIsInJlbW92ZSIsImV4cG9ydHMiLCJjb3VudGVyIiwibmF2aWdhdG9yIiwidXNlckFnZW50IiwidGhlcGFzdGUiLCJleHRlbmQiLCJzdXBwb3J0cyIsInZpZXciLCJpbnNlcnRJbWFnZSIsImVkaXRvciIsImlkIiwiaW1hZ2VIdG1sIiwiaW5zZXJ0Q29udGVudCIsInVwbG9hZEltYWdlIiwiaW1hZ2UiLCJ4aHIiLCJ3b3JrZmxvdyIsIiRjb250YWluZXIiLCJ1cGxvYWQiLCJvIiwic3VmZml4Iiwib3B0aW9ucyIsIm1pbWVfdHlwZXMiLCJjb252ZXJ0Iiwid3JhcCIsImwxMG4iLCJwYXN0ZWQiLCJhZGRGaWxlIiwidXBsb2FkZXIiLCJzdGF0ZSIsInJlc2V0Iiwid3AiLCJtZWRpYSIsIm9wZW4iLCJ3cEFjdGl2ZUVkaXRvciIsImZyYW1lIiwidGl0bGUiLCJjb3B5X3Bhc3RlIiwibXVsdGlwbGUiLCJjbG9zZSIsInJlYWR5IiwiYmluZCIsImUiLCJ0b3RhbCIsInBlcmNlbnQiLCJ1cCIsImFyZ3MiLCJpbWdIVE1MIiwiYXR0YWNobWVudCIsImNoYW5nZWQiLCJyZXBsYWNlV2l0aCIsImVhY2giLCJzdWJzdHIiLCJYTUxIdHRwUmVxdWVzdCIsInJlc3BvbnNlVHlwZSIsIm9ucmVhZHlzdGF0ZWNoYW5nZSIsInJlYWR5U3RhdGUiLCJyZXNwb25zZSIsInNlbmQiLCJjbGlwYm9hcmRIYXNJbWFnZSIsImhhc0ltYWdlIiwiZXh0IiwiVXBsb2FkZXIiLCJzdWNjZXNzIiwiZmlsZV9hdHRhY2htZW50IiwiXyIsIk1lZGlhRnJhbWUiLCJTZWxlY3QiLCJfcGFyZW50SW5pdGlhbGl6ZSIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsImJpbmRQYXN0ZUhhbmRsZXJzIiwiX3BhcmVudEJyb3dzZVJvdXRlciIsImJyb3dzZVJvdXRlciIsInNldCIsInBhc3RlYm9hcmQiLCJwcmlvcml0eSIsInByZXZpb3VzQ29udGVudCIsImRpc21pc3MiLCJjb250ZW50Q3JlYXRlUGFzdGVib2FyZCIsImNvbnRlbnRSZW5kZXJHcmFiYmVyIiwiY3VycmVudFBhc3RlVmlldyIsIkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIiLCJjb250cm9sbGVyIiwiZ3JhYmJlciIsIlBhc3RlYm9hcmQiLCJsaXN0ZW5UbyIsInVwbG9hZGVkRGF0YUltYWdlIiwic3RhcnRHcmFiYmluZyIsInN0b3BMaXN0ZW5pbmciLCJvYmoiLCJicm93c2VDb250ZW50Iiwicm91dGVyIiwic2VsZWN0IiwiQXR0YWNobWVudHNCcm93c2VyIiwicGFzdGVCdG4iLCJzZWxmIiwibW9kYWwiLCJtb2RlIiwiY3VycmVudCIsIkJ1dHRvbiIsImNsYXNzTmFtZSIsImNsaWNrIiwiYWN0aXZlIiwicGFzdGVPcGVuIiwid3B1cGxvYWRlciIsInRvb2xiYXIiLCJyZW5kZXIiLCJ0aGVwYXN0ZVVwbG9hZGVkIiwidGhlcGFzdGVDbG9zZSIsInRoZXBhc3RlRXJyb3IiLCJNb2RhbCIsInN0b3BHcmFiYmluZyIsImRlYWN0aXZhdGVNb2RlIiwiYWN0aXZhdGVNb2RlIiwiRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIiLCJWaWV3IiwidGVtcGxhdGUiLCIkZGlzY2FyZEJ0biIsIiR1cGxvYWRCdG4iLCJldmVudHMiLCJjbGljayBbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0iLCJjbGljayBbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdIiwiZGVmYXVsdHMiLCJkZWZhdWx0RmlsZU5hbWUiLCJ0YWdOYW1lIiwidXBsb2RlciIsInNldEltYWdlRGF0YSIsImNvbnRhaW5lciIsIiRpbWFnZUNvbnRhaW5lciIsImh0bWwiLCJmb3JtYXQiLCJkZWZhdWx0RmlsZUZvcm1hdCIsImRlc3Ryb3kiLCJvcHRzIiwiZ2V0VXBsb2FkZXIiLCJnZXRPcHRpb24iLCJzY2FsZSIsIm1heCIsImRvd25zaXplIiwiZW1iZWQiLCJsb2FkIiwiYXBwZW5kIiwiZGlzY2FyZEltYWdlIiwidW5iaW5kVXBsb2FkZXJFdmVudHMiLCJnZXRBc0Jsb2IiLCJqcGVnX3F1YWxpdHkiLCJiaW5kVXBsb2FkZXJFdmVudHMiLCJkZXRhY2giLCJnZXRTb3VyY2UiLCJzaG93IiwiJGVsIiwiaGlkZSIsIl91cGxvYWRTdWNjZXNzSGFuZGxlciIsIl91cGxvYWRFcnJvckhhbmRsZXIiLCJ1bmJpbmQiLCJhY3Rpb24iLCIkcGFzdGVib2FyZCIsIiRtZXNzYWdlIiwic2hvd19tZXNzYWdlIiwic3RhcnQiLCJpbWFnZVBhc3RlZCIsInBhc3RlX2Vycm9yX25vX2ltYWdlIiwicGFzdGVfZXJyb3IiLCJzdG9wIiwib2ZmIiwibXNnIiwicmV0IiwiaW1hZ2VDcmVhdGVkIiwiaW1hZ2VEYXRhIiwiZ2V0QWN0aW9uIiwibU94aWUiXSwibWFwcGluZ3MiOiJDQVFBLFdBQ0UsR0FBSUEsR0FBR0MsRUFBT0MsRUFBc0JDLEVBQWVDLENBRW5ESixHQUFJSyxPQUFPQyxPQUVYTixFQUFFTyxNQUFRLFNBQVNDLEdBQ2pCLEdBQUlDLEVBS0osT0FKdUIsbUJBQVpDLFVBQXVDLE9BQVpBLFNBQ3BDQSxRQUFRQyxJQUFJLDBGQUVkRixFQUFLUixFQUFNVyxrQkFBa0JKLEdBQ3RCQyxFQUFHSSxZQUdaYixFQUFFYyxHQUFHQyxxQkFBdUIsV0FDMUIsR0FBSUMsR0FBSUMsRUFBR0MsRUFBS0MsQ0FFaEIsS0FEQUEsRUFBTUMsS0FDREgsRUFBSSxFQUFHQyxFQUFNQyxFQUFJRSxPQUFRSixFQUFJQyxFQUFLRCxJQUNyQ0QsRUFBS0csRUFBSUYsR0FDTEQsRUFBR00sV0FBYXRCLEVBQUVnQixHQUFJTyxHQUFHLDZDQUc3QnRCLEVBQU1XLGtCQUFrQkksR0FDeEJBLEVBQUdNLFdBQVksRUFFakIsT0FBT0YsT0FHVHBCLEVBQUVjLEdBQUdVLGlCQUFtQixXQUN0QixHQUFJUixHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDRCxFQUFLRyxFQUFJRixHQUNMRCxFQUFHTSxXQUFhdEIsRUFBRWdCLEdBQUlPLEdBQUcsZ0NBRzdCdEIsRUFBTXdCLGNBQWNULEdBQ3BCQSxFQUFHTSxXQUFZLEVBRWpCLE9BQU9GLE9BR1RwQixFQUFFYyxHQUFHWSx3QkFBMEIsV0FDN0IsR0FBSVYsR0FBSUMsRUFBR0Ms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RXhEK0UsR0FFUjVELE9BQU8sV0FTTixNQU5BN0UsSUFBR0MsTUFBTXFGLEtBQUsxSyxVQUFVaUssT0FBT3RDLE1BQU8vTSxLQUFNZ04sV0FFNUNoTixLQUFLcEIsRUFBRSxZQUNMNFMsT0FBUXhSLEtBQUs4TixRQUFRdUIsU0FBUzRDLEtBQzlCVCxPQUFReFIsS0FBS3FLLFNBQVNnRixTQUFTNEMsS0FFMUJqUyxNQUVSa1QsYUFBZSxTQUFVcEYsRUFBVXFGLEdBQ2xDblQsS0FBSzhOLFFBQVFnRixPQUFPWixPQUNwQmxTLEtBQUtxSyxTQUFTMkgsT0FBT3ZCLGFBQWMwQyxJQUVwQ2pGLGNBQWMsV0FHYixNQUZBbE8sTUFBS3FLLFNBQVM2SCxPQUNkbFMsS0FBSzhOLFFBQVFrRSxPQUFPVSxRQUNiMVMsTUFFUjBQLGFBQWEsV0FFWixNQURBMVAsTUFBSzhOLFFBQVFnRixPQUNOOVMsTUFFUm9ULFVBQVksV0FDWCxNQUFPcFQsTUFBSzhOLFFBQVF3RSxRQUVyQjlFLFFBQVEsV0FFUCxNQURBeE4sTUFBSzhOLFFBQVFnRixPQUNOOVMsU0FJUGQsT0FBT0QsT0FBT29VIiwiZmlsZSI6InRoZS1wYXN0ZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuXG4vKlxucGFzdGUuanMgaXMgYW4gaW50ZXJmYWNlIHRvIHJlYWQgZGF0YSAoIHRleHQgLyBpbWFnZSApIGZyb20gY2xpcGJvYXJkIGluIGRpZmZlcmVudCBicm93c2Vycy4gSXQgYWxzbyBjb250YWlucyBzZXZlcmFsIGhhY2tzLlxuXG5odHRwczovL2dpdGh1Yi5jb20vbGF5ZXJzc3NzL3Bhc3RlLmpzXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgJCwgUGFzdGUsIGNyZWF0ZUhpZGRlbkVkaXRhYmxlLCBkYXRhVVJMdG9CbG9iLCBpc0ZvY3VzYWJsZTtcblxuICAkID0gd2luZG93LmpRdWVyeTtcblxuICAkLnBhc3RlID0gZnVuY3Rpb24ocGFzdGVDb250YWluZXIpIHtcbiAgICB2YXIgcG07XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiREVQUkVDQVRFRDogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAkLmZuLnBhc3RhYmxlTm9uSW5wdXRhYmxlKCkgaW5zdGVhZC5cIik7XG4gICAgfVxuICAgIHBtID0gUGFzdGUubW91bnROb25JbnB1dGFibGUocGFzdGVDb250YWluZXIpO1xuICAgIHJldHVybiBwbS5fY29udGFpbmVyO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVOb25JbnB1dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJ3RleHRhcmVhLCBpbnB1dDp0ZXh0LCBbY29udGVudGVkaXRhYmxlXScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnROb25JbnB1dGFibGUoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZVRleHRhcmVhID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCc6bm90KHRleHRhcmVhLCBpbnB1dDp0ZXh0KScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnRUZXh0YXJlYShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlQ29udGVudGVkaXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCc6bm90KFtjb250ZW50ZWRpdGFibGVdKScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnRDb250ZW50ZWRpdGFibGUoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZGF0YVVSTHRvQmxvYiA9IGZ1bmN0aW9uKGRhdGFVUkwsIHNsaWNlU2l6ZSkge1xuICAgIHZhciBiNjREYXRhLCBieXRlQXJyYXksIGJ5dGVBcnJheXMsIGJ5dGVDaGFyYWN0ZXJzLCBieXRlTnVtYmVycywgY29udGVudFR5cGUsIGksIG0sIG9mZnNldCwgcmVmLCBzbGljZTtcbiAgICBpZiAoc2xpY2VTaXplID09IG51bGwpIHtcbiAgICAgIHNsaWNlU2l6ZSA9IDUxMjtcbiAgICB9XG4gICAgaWYgKCEobSA9IGRhdGFVUkwubWF0Y2goL15kYXRhXFw6KFteXFw7XSspXFw7YmFzZTY0XFwsKC4rKSQvKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZWYgPSBtLCBtID0gcmVmWzBdLCBjb250ZW50VHlwZSA9IHJlZlsxXSwgYjY0RGF0YSA9IHJlZlsyXTtcbiAgICBieXRlQ2hhcmFjdGVycyA9IGF0b2IoYjY0RGF0YSk7XG4gICAgYnl0ZUFycmF5cyA9IFtdO1xuICAgIG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKG9mZnNldCA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aCkge1xuICAgICAgc2xpY2UgPSBieXRlQ2hhcmFjdGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIHNsaWNlU2l6ZSk7XG4gICAgICBieXRlTnVtYmVycyA9IG5ldyBBcnJheShzbGljZS5sZW5ndGgpO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHNsaWNlLmxlbmd0aCkge1xuICAgICAgICBieXRlTnVtYmVyc1tpXSA9IHNsaWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcbiAgICAgIGJ5dGVBcnJheXMucHVzaChieXRlQXJyYXkpO1xuICAgICAgb2Zmc2V0ICs9IHNsaWNlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCbG9iKGJ5dGVBcnJheXMsIHtcbiAgICAgIHR5cGU6IGNvbnRlbnRUeXBlXG4gICAgfSk7XG4gIH07XG5cbiAgY3JlYXRlSGlkZGVuRWRpdGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuYXR0cignY29udGVudGVkaXRhYmxlJywgdHJ1ZSkuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKS5hdHRyKCd0YWJpbmRleCcsIC0xKS5jc3Moe1xuICAgICAgd2lkdGg6IDEsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGxlZnQ6IC0xMDAsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICB9KTtcbiAgfTtcblxuICBpc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGhhc1RhYmluZGV4KSB7XG4gICAgdmFyIGZpZWxkc2V0LCBmb2N1c2FibGVJZlZpc2libGUsIGltZywgbWFwLCBtYXBOYW1lLCBub2RlTmFtZTtcbiAgICBtYXAgPSB2b2lkIDA7XG4gICAgbWFwTmFtZSA9IHZvaWQgMDtcbiAgICBpbWcgPSB2b2lkIDA7XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gdm9pZCAwO1xuICAgIGZpZWxkc2V0ID0gdm9pZCAwO1xuICAgIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICgnYXJlYScgPT09IG5vZGVOYW1lKSB7XG4gICAgICBtYXAgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBtYXBOYW1lID0gbWFwLm5hbWU7XG4gICAgICBpZiAoIWVsZW1lbnQuaHJlZiB8fCAhbWFwTmFtZSB8fCBtYXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ21hcCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaW1nID0gJCgnaW1nW3VzZW1hcD1cXCcjJyArIG1hcE5hbWUgKyAnXFwnXScpO1xuICAgICAgcmV0dXJuIGltZy5sZW5ndGggPiAwICYmIGltZy5pcygnOnZpc2libGUnKTtcbiAgICB9XG4gICAgaWYgKC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSAhZWxlbWVudC5kaXNhYmxlZDtcbiAgICAgIGlmIChmb2N1c2FibGVJZlZpc2libGUpIHtcbiAgICAgICAgZmllbGRzZXQgPSAkKGVsZW1lbnQpLmNsb3Nlc3QoJ2ZpZWxkc2V0JylbMF07XG4gICAgICAgIGlmIChmaWVsZHNldCkge1xuICAgICAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9ICFmaWVsZHNldC5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ2EnID09PSBub2RlTmFtZSkge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZWxlbWVudC5ocmVmIHx8IGhhc1RhYmluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSBoYXNUYWJpbmRleDtcbiAgICB9XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZm9jdXNhYmxlSWZWaXNpYmxlIHx8ICQoZWxlbWVudCkuaXMoJ1tjb250ZW50ZWRpdGFibGVdJyk7XG4gICAgcmV0dXJuIGZvY3VzYWJsZUlmVmlzaWJsZSAmJiAkKGVsZW1lbnQpLmlzKCc6dmlzaWJsZScpO1xuICB9O1xuXG4gIFBhc3RlID0gKGZ1bmN0aW9uKCkge1xuICAgIFBhc3RlLnByb3RvdHlwZS5fdGFyZ2V0ID0gbnVsbDtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY29udGFpbmVyID0gbnVsbDtcblxuICAgIFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlID0gZnVuY3Rpb24obm9uSW5wdXRhYmxlKSB7XG4gICAgICB2YXIgcGFzdGU7XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjcmVhdGVIaWRkZW5FZGl0YWJsZSgpLmFwcGVuZFRvKG5vbklucHV0YWJsZSksIG5vbklucHV0YWJsZSk7XG4gICAgICAkKG5vbklucHV0YWJsZSkub24oJ2NsaWNrJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmICghaXNGb2N1c2FibGUoZXYudGFyZ2V0LCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcGFzdGUuX2NvbnRhaW5lci5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKG5vbklucHV0YWJsZSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gcGFzdGUuX2NvbnRhaW5lci5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQobm9uSW5wdXRhYmxlKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgUGFzdGUubW91bnRUZXh0YXJlYSA9IGZ1bmN0aW9uKHRleHRhcmVhKSB7XG4gICAgICB2YXIgY3RsRG93biwgcGFzdGUsIHJlZiwgcmVmMTtcbiAgICAgIGlmICgodHlwZW9mIERhdGFUcmFuc2ZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBEYXRhVHJhbnNmZXIgIT09IG51bGwgPyBEYXRhVHJhbnNmZXIucHJvdG90eXBlIDogdm9pZCAwKSAmJiAoKHJlZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jYWxsKE9iamVjdCwgRGF0YVRyYW5zZmVyLnByb3RvdHlwZSwgJ2l0ZW1zJykpICE9IG51bGwgPyByZWYxLmdldCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91bnRDb250ZW50ZWRpdGFibGUodGV4dGFyZWEpO1xuICAgICAgfVxuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY3JlYXRlSGlkZGVuRWRpdGFibGUoKS5pbnNlcnRCZWZvcmUodGV4dGFyZWEpLCB0ZXh0YXJlYSk7XG4gICAgICBjdGxEb3duID0gZmFsc2U7XG4gICAgICAkKHRleHRhcmVhKS5vbigna2V5dXAnLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2tleWRvd24nLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXYuY3RybEtleSAhPSBudWxsKSAmJiAoZXYubWV0YUtleSAhPSBudWxsKSkge1xuICAgICAgICAgIGN0bERvd24gPSBldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0bERvd24gJiYgZXYua2V5Q29kZSA9PT0gODYpIHtcbiAgICAgICAgICBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gdHJ1ZTtcbiAgICAgICAgICBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgcGFzdGUuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFwYXN0ZS5fcGFzdGVfZXZlbnRfZmlyZWQpIHtcbiAgICAgICAgICAgICAgICAkKHRleHRhcmVhKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkodGhpcyksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgICAkKHRleHRhcmVhKS5vbigncGFzdGUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge307XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHRleHRhcmVhKS5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRleHRhcmVhKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHBhc3RlLl90YXJnZXQpLm9uKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQodGV4dGFyZWEpLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKHBhc3RlLl90YXJnZXQpLm9uKCdwYXN0ZVRleHQnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2LCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQsIGN1ckVuZCwgY3VyU3RhcnQ7XG4gICAgICAgICAgY3VyU3RhcnQgPSAkKHRleHRhcmVhKS5wcm9wKCdzZWxlY3Rpb25TdGFydCcpO1xuICAgICAgICAgIGN1ckVuZCA9ICQodGV4dGFyZWEpLnByb3AoJ3NlbGVjdGlvbkVuZCcpO1xuICAgICAgICAgIGNvbnRlbnQgPSAkKHRleHRhcmVhKS52YWwoKTtcbiAgICAgICAgICAkKHRleHRhcmVhKS52YWwoXCJcIiArIGNvbnRlbnQuc2xpY2UoMCwgY3VyU3RhcnQpICsgZGF0YS50ZXh0ICsgY29udGVudC5zbGljZShjdXJFbmQpKTtcbiAgICAgICAgICAkKHRleHRhcmVhKVswXS5zZXRTZWxlY3Rpb25SYW5nZShjdXJTdGFydCArIGRhdGEudGV4dC5sZW5ndGgsIGN1clN0YXJ0ICsgZGF0YS50ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBQYXN0ZS5tb3VudENvbnRlbnRlZGl0YWJsZSA9IGZ1bmN0aW9uKGNvbnRlbnRlZGl0YWJsZSkge1xuICAgICAgdmFyIHBhc3RlO1xuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY29udGVudGVkaXRhYmxlLCBjb250ZW50ZWRpdGFibGUpO1xuICAgICAgJChjb250ZW50ZWRpdGFibGUpLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkucmVtb3ZlQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFBhc3RlKF9jb250YWluZXIsIF90YXJnZXQpIHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IF9jb250YWluZXI7XG4gICAgICB0aGlzLl90YXJnZXQgPSBfdGFyZ2V0O1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gJCh0aGlzLl9jb250YWluZXIpO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gJCh0aGlzLl90YXJnZXQpLmFkZENsYXNzKCdwYXN0YWJsZScpO1xuICAgICAgdGhpcy5fY29udGFpbmVyLm9uKCdwYXN0ZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICB2YXIgY2xpcGJvYXJkRGF0YSwgZmlsZSwgaXRlbSwgaiwgaywgbGVuLCBsZW4xLCByZWFkZXIsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgdGV4dDtcbiAgICAgICAgICBpZiAoZXYuY3VycmVudFRhcmdldCAhPT0gZXYudGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoKChyZWYgPSBldi5vcmlnaW5hbEV2ZW50KSAhPSBudWxsID8gcmVmLmNsaXBib2FyZERhdGEgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsaXBib2FyZERhdGEgPSBldi5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICByZWYxID0gY2xpcGJvYXJkRGF0YS5pdGVtcztcbiAgICAgICAgICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSByZWYxW2pdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUubWF0Y2goL15pbWFnZVxcLy8pKSB7XG4gICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlSW1hZ2UoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaXRlbS5nZXRBc0ZpbGUoKSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQvcGxhaW4nKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmdldEFzU3RyaW5nKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoLTEgIT09IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY2xpcGJvYXJkRGF0YS50eXBlcywgJ3RleHQvcGxhaW4nKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUltYWdlKHNyYyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YSA9IHdpbmRvdy5jbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICBpZiAoKHJlZjIgPSAodGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcignX3Bhc3RlQ2hlY2tDb250YWluZXJEb25lJyk7XG4gICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVmMyA9IGNsaXBib2FyZERhdGEuZmlsZXM7XG4gICAgICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSByZWYzLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgICAgIGZpbGUgPSByZWYzW2tdO1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfVxuXG4gICAgUGFzdGUucHJvdG90eXBlLl9oYW5kbGVJbWFnZSA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgdmFyIGxvYWRlcjtcbiAgICAgIGlmIChzcmMubWF0Y2goL153ZWJraXRcXC1mYWtlXFwtdXJsXFw6XFwvXFwvLykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgbWVzc2FnZTogXCJZb3UgYXJlIHRyeWluZyB0byBwYXN0ZSBhbiBpbWFnZSBpbiBTYWZhcmksIGhvd2V2ZXIgd2UgYXJlIHVuYWJsZSB0byByZXRpZXZlIGl0cyBkYXRhLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VTdGFydCcpO1xuICAgICAgbG9hZGVyID0gbmV3IEltYWdlKCk7XG4gICAgICBsb2FkZXIuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgICAgbG9hZGVyLm9ubG9hZCA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGJsb2IsIGNhbnZhcywgY3R4LCBkYXRhVVJMO1xuICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGxvYWRlci53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gbG9hZGVyLmhlaWdodDtcbiAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGxvYWRlciwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBkYXRhVVJMID0gbnVsbDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgICAgICAgICAgYmxvYiA9IGRhdGFVUkx0b0Jsb2IoZGF0YVVSTCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgaWYgKGRhdGFVUkwpIHtcbiAgICAgICAgICAgIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZScsIHtcbiAgICAgICAgICAgICAgYmxvYjogYmxvYixcbiAgICAgICAgICAgICAgZGF0YVVSTDogZGF0YVVSTCxcbiAgICAgICAgICAgICAgd2lkdGg6IGxvYWRlci53aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBsb2FkZXIuaGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVuZCcpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICBsb2FkZXIub25lcnJvciA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBnZXQgaW1hZ2UgZnJvbTogXCIgKyBzcmMsXG4gICAgICAgICAgICB1cmw6IHNyY1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFbmQnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgcmV0dXJuIGxvYWRlci5zcmMgPSBzcmM7XG4gICAgfTtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lciA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICB2YXIgaW1nLCBqLCBsZW4sIHJlZiwgdGltZXNwYW47XG4gICAgICB0aW1lc3BhbiA9IE1hdGguZmxvb3IoMTAwMCAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgcmVmID0gdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGltZyA9IHJlZltqXTtcbiAgICAgICAgaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBrLCBsZW4xLCByZWYxO1xuICAgICAgICAgIHJlZjEgPSBfdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgaW1nID0gcmVmMVtrXTtcbiAgICAgICAgICAgIGlmICghaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSkge1xuICAgICAgICAgICAgICBjYihpbWcuc3JjKTtcbiAgICAgICAgICAgICAgJChpbWcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLCAxKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhc3RlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG5cbihmdW5jdGlvbigkLGV4cG9ydHMpe1xuXG5cdHZhciBpc19jaHJvbWVcdD0gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKCdDaHJvbWUnKSA+IC0xLFxuXHRcdGNvdW50ZXIgPSAwLFxuXHRcdHdvcmtmbG93O1xuXHRcdFxuXHR0aGVwYXN0ZSA9IGV4cG9ydHMudGhlcGFzdGUgPSAkLmV4dGVuZCgge1xuXHRcdHN1cHBvcnRzIDoge1xuXHRcdFx0cGFzdGU6ICggKCdwYXN0ZScgaW4gZG9jdW1lbnQpIHx8ICgnb25wYXN0ZScgaW4gZG9jdW1lbnQpIHx8IHR5cGVvZih3aW5kb3cub25wYXN0ZSkgPT09ICdvYmplY3QnIHx8ICggJ29ucGFzdGUnIGluIGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ0RJVicpICkgKSwgLy8gYnJvd3NlclxuXHRcdH0sXG5cdFx0dmlldzp7fSxcblx0XHRcblx0XHRpbnNlcnRJbWFnZTpmdW5jdGlvbiggZGF0YVVSTCwgdHlwZSwgZWRpdG9yICkge1xuXHRcdFx0dmFyIGlkID0gJ19fdGhlcGFzdGVfaW1nXycrKGNvdW50ZXIrKyksXG5cdFx0XHRcdGltYWdlSHRtbCA9ICc8aW1nIGlkPVwiJytpZCsnXCIgY2xhc3M9XCJhbGlnbm5vbmUgc2l6ZS1mdWxsXCIgc3JjPVwiJytkYXRhVVJMKydcIiAvPicsXG5cdFx0XHRcdCRjb250YWluZXI7XG5cblxuXHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoIGltYWdlSHRtbCApO1xuXHRcdFx0XG5cdFx0XHRyZXR1cm4gZWRpdG9yLiQoJyMnK2lkKVswXTtcblx0XHR9LFxuXG5cdFx0dXBsb2FkSW1hZ2U6IGZ1bmN0aW9uKCBpbWFnZSwgZWRpdG9yICkge1xuXG5cdFx0XHR2YXIgeGhyLFxuXHRcdFx0XHR3b3JrZmxvdywgXG5cdFx0XHRcdCRjb250YWluZXIsXG5cdFx0XHRcdHNyYyA9IGltYWdlLnNyYyxcblx0XHRcdFx0dXBsb2FkID0gZnVuY3Rpb24oIGRhdGFVUkwgKXtcblx0XHRcdFx0XHR2YXIgaWQgPSAnX190aGVwYXN0ZV9ib3hfJysoY291bnRlcisrKSxcblx0XHRcdFx0XHRcdHR5cGUgPSBkYXRhVVJMLm1hdGNoKC9eZGF0YVxcOihbXlxcO10rKVxcOy8pWzFdXG5cdFx0XHRcdFx0XHRmaWxlID0gbmV3IG8uQmxvYiggbnVsbCwgeyBkYXRhOiBkYXRhVVJMIH0gKVxuXHRcdFx0XHRcdFx0c3VmZml4ID0gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbIHR5cGUgXTtcblxuXHRcdFx0XHRcdCQoaW1hZ2UpLndyYXAoJzxkaXYgaWQ9XCInK2lkKydcIiBkYXRhLXByb2dyZXNzPVwiMFwiIGNsYXNzPVwidGhlcGFzdGUtaW1hZ2UtcGxhY2Vob2xkZXJcIiBjb250ZW50ZWRpdGFibGU9XCJmYWxzZVwiPjwvZGl2PicpO1xuXHRcdFx0XHRcdCRjb250YWluZXIgPSBlZGl0b3IuJCgnIycraWQpO1xuXG5cdFx0XHRcdFx0ZmlsZS5uYW1lID0gdGhlcGFzdGUubDEwbi5wYXN0ZWQgKyAnLicgKyBzdWZmaXg7XG5cdFx0XHRcdFx0ZmlsZS50eXBlID0gdHlwZTtcblxuXHRcdFx0XHRcdHZhciBhZGRGaWxlID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmFkZEZpbGUoIGZpbGUgKTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0aWYgKCAhIHdvcmtmbG93ICkge1xuXHRcdFx0XHRcdFx0d29ya2Zsb3cgPSB3cC5tZWRpYS5lZGl0b3Iub3Blbiggd2luZG93LndwQWN0aXZlRWRpdG9yLCB7XG5cdFx0XHRcdFx0XHRcdGZyYW1lOlx0XHQncG9zdCcsXG5cdFx0XHRcdFx0XHRcdHN0YXRlOlx0XHQnaW5zZXJ0Jyxcblx0XHRcdFx0XHRcdFx0dGl0bGU6XHRcdHRoZXBhc3RlLmwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRcdFx0bXVsdGlwbGU6XHRmYWxzZVxuXHRcdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5jbG9zZSgpO1xuXG5cdFx0XHRcdFx0XHRpZiAoIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyICYmIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnJlYWR5ICkge1xuXHRcdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdFx0XHR3b3JrZmxvdy5vbiggJ3VwbG9hZGVyOnJlYWR5JywgYWRkRmlsZSApO1xuXHRcdFx0XHRcdFx0fVxuXHRcdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0XHR3b3JrZmxvdy5zdGF0ZSgpLnJlc2V0KCk7XG5cdFx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ1VwbG9hZFByb2dyZXNzJyxmdW5jdGlvbiggZSApe1xuXHRcdFx0XHRcdFx0JGNvbnRhaW5lci5hdHRyKCdkYXRhLXByb2dyZXNzJyxlLnRvdGFsLnBlcmNlbnQpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0ZpbGVVcGxvYWRlZCcsZnVuY3Rpb24oIHVwLCBhcmdzICl7XG5cdFx0XHRcdFx0XHR2YXIgaW1nSFRNTCA9ICc8aW1nIGNsYXNzPVwiYWxpZ25ub25lIHdwLWltYWdlLScrYXJncy5hdHRhY2htZW50LmlkKycgc2l6ZS1mdWxsXCIgc3JjPVwiJythcmdzLmF0dGFjaG1lbnQuY2hhbmdlZC51cmwrJ1wiIC8+Jztcblx0XHRcdFx0XHRcdC8vIHJlcGxhY2UgaW1hZ2Vcblx0XHRcdFx0XHRcdCRjb250YWluZXIucmVwbGFjZVdpdGgoIGltZ0hUTUwgKTtcblx0XHRcdFx0XHRcdC8vIHJlcGxhY2Ugb3RoZXIgaW5zdGFuY2VzXG5cdFx0XHRcdFx0XHRlZGl0b3IuJCgnaW1nW3NyYz1cIicrc3JjKydcIl0nKS5lYWNoKGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0XHRcdCQodGhpcykucmVwbGFjZVdpdGgoIGltZ0hUTUwgKTtcblx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ0Vycm9yJyxmdW5jdGlvbiggdXAsIGFyZ3MgKXtcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHVwLGFyZ3MpO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9O1xuXG5cdFx0XHRpZiAoIHNyYy5zdWJzdHIoMCw1KSA9PT0gJ2Jsb2I6JyApIHtcblxuXHRcdFx0XHR4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblx0XHRcdFx0eGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJztcblx0XHRcdFx0eGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0dmFyIHJlYWRlcjtcblx0XHRcdFx0XHRpZiAoIHhoci5yZWFkeVN0YXRlID09IDQgKSB7XG5cdFx0XHRcdFx0XHRyZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdFx0XHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHRcdFx0XHRcdHVwbG9hZCggcmVhZGVyLnJlc3VsdCApO1xuXG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHRyZWFkZXIucmVhZEFzRGF0YVVSTCggeGhyLnJlc3BvbnNlICk7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHRcdHhoci5vcGVuKCAnR0VUJywgc3JjICk7XG5cdFx0XHRcdHhoci5zZW5kKCBudWxsICk7XG5cblx0XHRcdH0gZWxzZSBpZiAoIHNyYy5zdWJzdHIoMCw1KSA9PT0gJ2RhdGE6JyApIHtcblxuXHRcdFx0XHR1cGxvYWQoIHNyYyApO1xuXG5cdFx0XHR9IFxuXHRcdFx0XG5cdFx0fSxcblxuXHRcdC8qKlxuXHRcdCAqXHRAcmV0dXJuOiBudWxsfHRydWV8ZmFsc2Vcblx0XHQgKi9cblx0XHRjbGlwYm9hcmRIYXNJbWFnZTpmdW5jdGlvbiggY2xpcGJvYXJkRGF0YSApIHtcblx0XHRcdHZhciBoYXNJbWFnZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLml0ZW1zICkge1xuXHRcdFx0XHQkLmVhY2goIGNsaXBib2FyZERhdGEuaXRlbXMsIGZ1bmN0aW9uKGksaXRlbSl7XG5cdFx0XHRcdFx0aWYgKCBpdGVtLnR5cGUgaW4gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS50eXBlcyApIHtcblx0XHRcdFx0JC5lYWNoKCB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMucGFzdGUsIGZ1bmN0aW9uKHR5cGUsZXh0KXtcblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMuaW5kZXhPZih0eXBlKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gbnVsbDtcblx0XHR9XG5cblxuXHR9LCB0aGVwYXN0ZSApO1xuXG59KSggalF1ZXJ5LCB3cC5tZWRpYSApO1xuXG5cbihmdW5jdGlvbigkLGV4cG9ydHMpe1xuXG5cdHZhciBjb3VudGVyICAgICAgPSAwLFxuXHRcdGwxMG4gPSB3cC5tZWRpYS50aGVwYXN0ZS5sMTBuLFxuXHRcdGlzX2Nocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMTtcblxuXHQkLmV4dGVuZCggd3AuVXBsb2FkZXIucHJvdG90eXBlLCB7XG5cdFx0c3VjY2VzcyA6IGZ1bmN0aW9uKCBmaWxlX2F0dGFjaG1lbnQgKXtcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRJbnRlZ3JhdGUgaW50byBtZWRpYSBsaWJyYXJ5IG1vZGFsXG5cdCAqL1xuXHQvLyBhZGQgc3RhdGVzIHRvIGJyb3dzZSByb3V0ZXJcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudEluaXRpYWxpemU6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRJbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuYmluZFBhc3RlSGFuZGxlcnMoKTtcblx0XHR9LFxuXHRcdF9wYXJlbnRCcm93c2VSb3V0ZXI6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmJyb3dzZVJvdXRlcixcblx0XHRicm93c2VSb3V0ZXIgOiBmdW5jdGlvbiggdmlldyApIHtcblx0XHRcdHRoaXMuX3BhcmVudEJyb3dzZVJvdXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggd3AubWVkaWEudGhlcGFzdGUuc3VwcG9ydHMucGFzdGUgKSB7XG5cdFx0XHRcdHZpZXcuc2V0KHtwYXN0ZWJvYXJkOntcblx0XHRcdFx0XHR0ZXh0OiAgICAgbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdHByaW9yaXR5OiAzNVxuXHRcdFx0XHR9fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJpbmRQYXN0ZUhhbmRsZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcmV2aW91c0NvbnRlbnQgPSBmYWxzZTtcblx0XHRcblx0XHRcdC8vIGRpc21pc3MgY29udGVudCBvbiBjbG9zZVxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6cmVuZGVyIGNsb3NlJyAsIGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIHByZXZpb3VzQ29udGVudCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgcHJldmlvdXNDb250ZW50LmRpc21pc3MgKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50LmRpc21pc3MoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29udGVudCApXG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50ID0gY29udGVudDtcblx0XHRcdH0gLCB0aGlzICk7XG5cdFx0XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpjcmVhdGU6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudENyZWF0ZVBhc3RlYm9hcmQsIHRoaXMgKTtcblx0XHRcdHRoaXMub24oICdjb250ZW50OnJlbmRlcjpwYXN0ZWJvYXJkJywgdGhpcy5jb250ZW50UmVuZGVyR3JhYmJlciwgdGhpcyApO1xuXG5cdFx0XHRmcmFtZSA9IHRoaXM7XG5cdFx0fSxcblx0XHQvLyBhZGQgaGFuZGxlcnNcblx0XHRjb250ZW50Q3JlYXRlUGFzdGVib2FyZDogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHR2YXIgc3RhdGUgPSB0aGlzLnN0YXRlKCk7XG5cblx0XHRcdHRoaXMuY3VycmVudFBhc3RlVmlldyA9IGNvbnRlbnQudmlldyA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHsgXG5cdFx0XHRcdGNvbnRyb2xsZXJcdDogdGhpcywgXG5cdFx0XHRcdGdyYWJiZXJcdFx0OiB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmRcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudXBsb2FkZWREYXRhSW1hZ2UgKTtcblx0XHR9LFxuXHRcdGNvbnRlbnRSZW5kZXJHcmFiYmVyOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQuc3RhcnRHcmFiYmluZygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkZWREYXRhSW1hZ2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLmN1cnJlbnRQYXN0ZVZpZXcudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dmFyIG9iaiA9IHsgdmlldzogbnVsbCB9O1xuXHRcdFx0dGhpcy5icm93c2VDb250ZW50KG9iaik7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBvYmoudmlldyApO1xuXHRcdFx0dGhpcy5yb3V0ZXIuZ2V0KCkuc2VsZWN0KCdicm93c2UnKVxuXHRcdH1cblx0fSk7XG5cdFxuXG5cblx0LyoqXG5cdCAqXHRBZGQgcGFzdGUgYnV0dG9uIHRvIHRvb2xiYXIgb24gdXBsb2FkLnBocFxuXHQgKi9cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOlx0d3AubWVkaWEudmlldy5BdHRhY2htZW50c0Jyb3dzZXIucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTpcdGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwYXN0ZUJ0bjtcblxuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRcblx0XHRcdHRoaXMudGhlcGFzdGUgPSB7XG5cdFx0XHRcdHBhc3RlXHQ6IHtcbi8vXHRcdFx0XHRcdGJ1dHRvblx0OiBmYWxzZSxcblx0XHRcdFx0XHRncmFiYmVyXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGFsXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGVcdDogJ3Bhc3RlJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3VycmVudFx0XHQ6IGZhbHNlXG5cdFx0XHR9XG5cblx0XHRcdGlmICggISAoIHRoaXMuY29udHJvbGxlciBpbnN0YW5jZW9mIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QgKSApIHtcblxuXHRcdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXG5cdFx0XHRcdFx0cGFzdGVCdG4gPSBuZXcgd3AubWVkaWEudmlldy5CdXR0b24oIHtcblx0XHRcdFx0XHRcdHRleHRcdFx0OiBsMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6ICAnZ3JhYmJlci1idXR0b24nLFxuXHRcdFx0XHRcdFx0cHJpb3JpdHlcdDogLTY0LFxuXHRcdFx0XHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZSA9IHNlbGYudGhlcGFzdGUucGFzdGU7XG5cdFx0XHRcdFx0XHRcdHNlbGYucGFzdGVPcGVuKCBsMTBuLmNvcHlfcGFzdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0dGhpcy50aGVwYXN0ZS5wYXN0ZS5ncmFiYmVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlcigge1xuXHRcdFx0XHRcdFx0Y29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkLFxuXHRcdFx0XHRcdFx0d3B1cGxvYWRlclx0OiB0aGlzLmNvbnRyb2xsZXIudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXJcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHR0aGlzLnRvb2xiYXIuc2V0KCAncGFzdGVNb2RlQnV0dG9uJywgcGFzdGVCdG4ucmVuZGVyKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlcGFzdGVVcGxvYWRlZDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLmRpc21pc3MoKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY2xvc2UoKTtcblx0XHRcdHRoaXMudGhlcGFzdGVDbG9zZSgpO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVFcnJvcjogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRjb25zb2xlLmxvZyggJ2Vycm9yJywgZSApO1xuXHRcdH0sXG5cdFx0cGFzdGVPcGVuOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwgID0gIG5ldyB3cC5tZWRpYS52aWV3Lk1vZGFsKCB7XG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLFxuXHRcdFx0XHR0aXRsZSAgICAgIDogdGl0bGVcblx0XHRcdH0gKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY29udGVudCggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlciApO1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5vcGVuKCk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub24oICdjbG9zZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlQ2xvc2UuYXBwbHkoc2VsZik7XG5cdFx0XHRcdHNlbGYudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RvcEdyYWJiaW5nKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5zdGFydEdyYWJiaW5nKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZVVwbG9hZGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnZXJyb3I6dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZUVycm9yICk7XG5cdFx0fSxcblx0XHR0aGVwYXN0ZUNsb3NlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dGhpcy5jb250cm9sbGVyLmRlYWN0aXZhdGVNb2RlKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5tb2RlICkuYWN0aXZhdGVNb2RlKCAnZWRpdCcgKTtcblxuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHR9XG5cdH0pO1xuXHRcbn0pKGpRdWVyeSx3aW5kb3cpO1xuXG4oZnVuY3Rpb24oJCx3aW5kb3csbyl7XG5cdHZhciB0aGVwYXN0ZSA9IHdwLm1lZGlhLnRoZXBhc3RlLFxuXHRcdEJ1dHRvbiA9IHdwLm1lZGlhLnZpZXcuQnV0dG9uLFxuXHRcdE1vZGFsICA9IHdwLm1lZGlhLnZpZXcuTW9kYWwsXG5cdFx0bDEwbiAgID0gdGhlcGFzdGUubDEwbjtcblxuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS11cGxvYWRlcicpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXVwbG9hZGVyJyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0aW1hZ2UgOiBudWxsLFxuXHRcdCRkaXNjYXJkQnRuIDogbnVsbCxcblx0XHQkdXBsb2FkQnRuIDogbnVsbCxcblx0XHRcblx0XHR1cGxvYWRlciA6IG51bGwsXG5cdFx0XG5cdFx0ZXZlbnRzIDoge1xuXHRcdFx0J2NsaWNrIFtkYXRhLWFjdGlvbj1cInVwbG9hZFwiXSdcdDogJ3VwbG9hZEltYWdlJyxcblx0XHRcdCdjbGljayBbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdJ1x0OiAnZGlzY2FyZEltYWdlJyxcblx0XHR9LFxuXHRcdGluaXRpYWxpemUgOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHRkZWZhdWx0RmlsZU5hbWUgOiBsMTBuLmltYWdlXG5cdFx0XHR9KTtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0aW5zdHIgPSBuZXcgd3AubWVkaWEuVmlldyh7XG5cdFx0XHRcdHRhZ05hbWUgICAgOiAnZGl2Jyxcblx0XHRcdFx0Y2xhc3NOYW1lICA6ICdpbnN0cnVtZW50cycsXG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLmNvbnRyb2xsZXJcblx0XHRcdH0pO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gdGhpcy5vcHRpb25zLnVwbG9kZXI7XG5cdFx0fSxcblx0XHRzZXRJbWFnZURhdGEgOiBmdW5jdGlvbiggZGF0YSApIHtcblx0XHRcdHZhciBjb250YWluZXIgPSB0aGlzLiRpbWFnZUNvbnRhaW5lci5odG1sKCcnKS5nZXQoMCksXG5cdFx0XHRcdHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRmb3JtYXQgPSBkYXRhLm1hdGNoKC9kYXRhOihpbWFnZVxcLyhcXHcrKSk7LylbMV07XG5cblx0XHRcdGlmICggISB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFtmb3JtYXRdICkge1xuXHRcdFx0XHRmb3JtYXQgPSB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXQ7XG5cdFx0XHR9XG5cdFx0XHRcblx0XHRcdGlmICggdGhpcy5pbWFnZSApIHtcblx0XHRcdFx0dGhpcy5pbWFnZS5kZXN0cm95KCk7XG5cdFx0XHR9XG5cblx0XHRcdHRoaXMuaW1hZ2UgPSBuZXcgby5JbWFnZSgpO1xuXHRcdFx0dGhpcy5pbWFnZS5vbmxvYWQgPSBmdW5jdGlvbigpIHtcblx0XHRcdFx0dmFyIG9wdHMgPSBzZWxmLmdldFVwbG9hZGVyKCkuZ2V0T3B0aW9uKCdyZXNpemUnKSxcblx0XHRcdFx0XHRzY2FsZSA9IE1hdGgubWF4KCBvcHRzLndpZHRoIC8gdGhpcy53aWR0aCwgb3B0cy5oZWlnaHQgLyB0aGlzLmhlaWdodCApO1xuXG5cdFx0XHRcdCEhb3B0cyAmJiAoc2NhbGUgPCAxKSAmJiB0aGlzLmRvd25zaXplKCB0aGlzLndpZHRoKnNjYWxlLCB0aGlzLmhlaWdodCpzY2FsZSApO1xuXG5cdFx0XHRcdHRoaXMuZW1iZWQoIGNvbnRhaW5lciApO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy5pbWFnZS5iaW5kKCdSZXNpemUnLCBmdW5jdGlvbihlKSB7XG5cdFx0XHRcdHRoaXMuZW1iZWQoIGNvbnRhaW5lciApO1xuXHRcdFx0fSk7XG5cdFx0XHR0aGlzLmltYWdlLmxvYWQoIGRhdGEgKTtcblx0XHRcdGlmICggdGhpcy4kaW1hZ2VDb250YWluZXIgKSB7XG5cdFx0XHRcdHRoaXMuJGltYWdlQ29udGFpbmVyLmFwcGVuZCh0aGlzLmltYWdlKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cImZvcm1hdFwiXSBpbnB1dFt2YWx1ZT1cIicrZm9ybWF0KydcIl0nKS5wcm9wKCAnY2hlY2tlZCcsIHRydWUgKTtcblxuXG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0cmVuZGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kaW1hZ2VDb250YWluZXIgPSB0aGlzLiQoJy5pbWFnZS1jb250YWluZXInKTtcblx0XHRcdHRoaXMuJGRpc2NhcmRCdG4gPSB0aGlzLiQoJ1tkYXRhLWFjdGlvbj1cImRpc2NhcmRcIl0nKTtcblx0XHRcdHRoaXMuJHVwbG9hZEJ0biA9IHRoaXMuJCgnW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdJyk7XG5cdFx0XHR0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJ0aXRsZVwiXScpLnZhbCggdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlTmFtZSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkaXNjYXJkSW1hZ2UgOiBmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyAsIHRoaXMgKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdHVwbG9hZEltYWdlIDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHZhciB0eXBlID0gdGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwiZm9ybWF0XCJdIDpjaGVja2VkJykudmFsKCksXG5cdFx0XHRcdHN1ZmZpeCA9IHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0WyB0eXBlIF0sXG5cdFx0XHRcdG5hbWUgPSB0aGlzLiQoJ2lucHV0W2RhdGEtc2V0dGluZz1cInRpdGxlXCJdJykudmFsKCkgKyAnLicgKyBzdWZmaXgsXG5cdFx0XHRcdGJsb2IgPSB0aGlzLmltYWdlLmdldEFzQmxvYiggdHlwZSwgdGhlcGFzdGUub3B0aW9ucy5qcGVnX3F1YWxpdHkgKTtcblxuXHRcdFx0dGhpcy5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblxuXHRcdFx0YmxvYi5kZXRhY2goIGJsb2IuZ2V0U291cmNlKCkgKTtcblx0XHRcdGJsb2IubmFtZSA9IG5hbWU7XG5cdFx0XHRibG9iLnR5cGUgPSB0eXBlO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmFkZEZpbGUoIGJsb2IgLCBuYW1lICk7XG5cblx0XHRcdHRoaXMuZGlzYWJsZWQoIHRydWUgKTtcblxuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOnVwbG9hZDpkYXRhaW1hZ2UnICwgdGhpcyApO1xuXHRcdH0sXG5cdFx0c2hvdzpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy4kZWwuc2hvdygpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRoaWRlOmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRpc2FibGVkIDogZnVuY3Rpb24oIGRpc2FibGVkICkge1xuXHRcdFx0dGhpcy4kZGlzY2FyZEJ0bi5wcm9wKCAnZGlzYWJsZWQnLCBkaXNhYmxlZCApO1xuXHRcdFx0dGhpcy4kdXBsb2FkQnRuLnByb3AoICdkaXNhYmxlZCcsIGRpc2FibGVkICk7XG5cdFx0fSxcblx0XHRfdXBsb2FkU3VjY2Vzc0hhbmRsZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdF91cGxvYWRFcnJvckhhbmRsZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0YmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5iaW5kKCAnRXJyb3InLFx0XHRcdHRoaXMuX3VwbG9hZEVycm9ySGFuZGxlcixcdHRoaXMgKTtcblx0XHR9LFxuXHRcdHVuYmluZFVwbG9hZGVyRXZlbnRzIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkudW5iaW5kKCAnRmlsZVVwbG9hZGVkJyxcdHRoaXMuX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyLFx0dGhpcyApO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHRnZXRVcGxvYWRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5jb250cm9sbGVyLnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyO1xuXHRcdH1cblx0fSk7XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmQgPSB3cC5tZWRpYS5WaWV3LmV4dGVuZCh7XG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1wYXN0ZWJvYXJkJyksXG5cdFx0Y2xhc3NOYW1lOiAndGhlcGFzdGUtcGFzdGVib2FyZCcsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGFjdGlvbjoncGFzdGUnLFxuXHRcdCRwYXN0ZWJvYXJkIDogbnVsbCxcblxuXHRcdHJlbmRlcjogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5yZW5kZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZCA9IHRoaXMuJCggJy5pbmplY3RvcicgKS5wYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSgpO1xuXHRcdFx0dGhpcy4kbWVzc2FnZSA9IHRoaXMuJCggJy5tZXNzYWdlJyApO1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZC5vbignY2xpY2snLCBmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSgnJyk7XG5cdFx0XHR9ICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHN0YXJ0IDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGNsaXBib2FyZEhhc0ltYWdlO1xuXG5cdFx0XHR0aGlzLmltYWdlUGFzdGVkID0gZmFsc2U7XG5cblx0XHRcdHRoaXMuJHBhc3RlYm9hcmRcblx0XHRcdFx0Lm9uKCdwYXN0ZScsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdFx0Y2xpcGJvYXJkSGFzSW1hZ2UgPSB3cC5tZWRpYS50aGVwYXN0ZS5jbGlwYm9hcmRIYXNJbWFnZShlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YSk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vbigncGFzdGVUZXh0JyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXG5cdFx0XHRcdFx0aWYgKCBjbGlwYm9hcmRIYXNJbWFnZSB8fCBzZWxmLmltYWdlUGFzdGVkICkge1xuXHRcdFx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSggbDEwbi5wYXN0ZV9lcnJvcl9ub19pbWFnZSApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5odG1sKCcnKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdC5vbigncGFzdGVJbWFnZScgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblx0XHRcdFx0XHRpZiAoIHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlciggJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJywgdGhpcyAsIGRhdGEuZGF0YVVSTCApO1xuXHRcdFx0XHRcdHNlbGYuaW1hZ2VQYXN0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlRXJyb3InICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cdFx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoIGwxMG4ucGFzdGVfZXJyb3IgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuaHRtbCgnJyk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQ7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi4kcGFzdGVib2FyZC5nZXQoMCkuZm9jdXMoKTtcblx0XHRcdH0sMSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlJylcblx0XHRcdFx0Lm9mZigncGFzdGVJbWFnZUVycm9yJylcblx0XHRcdFx0Lm9mZigncGFzdGVUZXh0Jyk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3dfbWVzc2FnZTpmdW5jdGlvbiggbXNnICkge1xuXHRcdFx0dGhpcy4kbWVzc2FnZS50ZXh0KCBtc2cgKTtcblx0XHR9XG5cdH0pO1xuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlciA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcbi8vXHRcdHRhZ05hbWU6ICAgJ2RpdicsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1ncmFiYmVyJyksXG5cdFx0Y2xhc3NOYW1lIDogJ3RoZXBhc3RlLWdyYWJiZXInLFxuXHRcdFxuXHRcdGdyYWJiZXIgOiBudWxsLFxuXHRcdHVwbG9hZGVyIDogbnVsbCxcblx0XHRcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gd3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR3cHVwbG9hZGVyXHRcdDogbnVsbCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lXHQ6IGwxMG4ucGFzdGVkLFxuXHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdCA6ICdpbWFnZS9wbmcnLFxuXHRcdFx0XHR0aXRsZVx0XHRcdDogbDEwbi5jb3B5X3Bhc3RlIFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZ3JhYmJlciAgPSBuZXcgdGhpcy5vcHRpb25zLmdyYWJiZXIoIHsgY29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIgfSApO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIoIHtcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlclx0XHRcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBsb2Rlclx0XHRcdFx0OiB0aGlzLm9wdGlvbnMud3B1cGxvYWRlcixcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0XHQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZ3JhYmJlciwgJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJyxcdHRoaXMuaW1hZ2VDcmVhdGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnVwbG9hZGVyLCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyxcdHRoaXMuc3RhcnRHcmFiYmluZyApO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0cmVuZGVyOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuJCgnLmNvbnRlbnQnKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLmdyYWJiZXIucmVuZGVyKCkuJGVsIClcblx0XHRcdFx0LmFwcGVuZCggdGhpcy51cGxvYWRlci5yZW5kZXIoKS4kZWwgKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRpbWFnZUNyZWF0ZWQgOiBmdW5jdGlvbiggZ3JhYmJlciAsIGltYWdlRGF0YSApIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCkuaGlkZSgpO1xuXHRcdFx0dGhpcy51cGxvYWRlci5zaG93KCkuc2V0SW1hZ2VEYXRhKCBpbWFnZURhdGEgKTtcblx0XHR9LFxuXHRcdHN0YXJ0R3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLmhpZGUoKTtcblx0XHRcdHRoaXMuZ3JhYmJlci5zaG93KCkuc3RhcnQoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcEdyYWJiaW5nOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0QWN0aW9uIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ncmFiYmVyLmFjdGlvbjtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxufSkoalF1ZXJ5LHdpbmRvdyxtT3hpZSk7XG4iXX0=
