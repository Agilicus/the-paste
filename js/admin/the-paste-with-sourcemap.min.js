(function(){var t,e,n,r,a;t=window.jQuery,t.paste=function(t){var n;return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),n=e.mountNonInputable(t),n._container},t.fn.pastableNonInputable=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is("textarea, input:text, [contenteditable]")||(e.mountNonInputable(n),n._pastable=!0);return this},t.fn.pastableTextarea=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is(":not(textarea, input:text)")||(e.mountTextarea(n),n._pastable=!0);return this},t.fn.pastableContenteditable=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is(":not([contenteditable])")||(e.mountContenteditable(n),n._pastable=!0);return this},r=function(t,e){var n,r,a,o,i,u,s,l,c,f,g;if(null==e&&(e=512),!(l=t.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(f=l,l=f[0],u=f[1],n=f[2],o=atob(n),a=[],c=0;c<o.length;){for(g=o.slice(c,c+e),i=new Array(g.length),s=0;s<g.length;)i[s]=g.charCodeAt(s),s++;r=new Uint8Array(i),a.push(r),c+=e}return new Blob(a,{type:u})},n=function(){return t(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},a=function(e,n){var r,a,o,i,u,s;return i=void 0,u=void 0,o=void 0,a=void 0,r=void 0,"area"===(s=e.nodeName.toLowerCase())?(i=e.parentNode,u=i.name,!(!e.href||!u||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+u+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(a=!e.disabled)&&(r=t(e).closest("fieldset")[0])&&(a=!r.disabled):a="a"===s?e.href||n:n,(a=a||t(e).is("[contenteditable]"))&&t(e).is(":visible"))},e=function(){function e(e,n){this._container=e,this._target=n,this._container=t(this._container),this._target=t(this._target).addClass("pastable"),this._container.on("paste",function(t){return function(e){var n,r,a,o,i,u,s,l,c,f,g,d,p;if(e.currentTarget!==e.target)return e.preventDefault();if(t._paste_event_fired=!0,null!=(null!=(c=e.originalEvent)?c.clipboardData:void 0))if(n=e.originalEvent.clipboardData,n.items)for(f=n.items,o=0,u=f.length;o<u;o++){if(a=f[o],a.type.match(/^image\//)){l=new FileReader,l.onload=function(e){return t._handleImage(e.target.result)};try{l.readAsDataURL(a.getAsFile())}catch(t){}e.preventDefault();break}"text/plain"===a.type&&a.getAsString(function(e){return t._target.trigger("pasteText",{text:e})})}else-1!==Array.prototype.indexOf.call(n.types,"text/plain")&&(p=n.getData("Text"),setTimeout(function(){return t._target.trigger("pasteText",{text:p})},1)),t._checkImagesInContainer(function(e){return t._handleImage(e)});if(n=window.clipboardData)if(null!=(g=p=n.getData("Text"))?g.length:void 0)setTimeout(function(){return t._target.trigger("pasteText",{text:p}),t._target.trigger("_pasteCheckContainerDone")},1);else{for(d=n.files,i=0,s=d.length;i<s;i++)r=d[i],t._handleImage(URL.createObjectURL(r));t._checkImagesInContainer(function(t){})}return null}}(this))}return e.prototype._target=null,e.prototype._container=null,e.mountNonInputable=function(r){var o;return o=new e(n().appendTo(r),r),t(r).on("click",function(t){return function(t){if(!a(t.target,!1))return o._container.focus()}}()),o._container.on("focus",function(e){return function(){return t(r).addClass("pastable-focus")}}()),o._container.on("blur",function(e){return function(){return t(r).removeClass("pastable-focus")}}())},e.mountTextarea=function(r){var a,o,i,u;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(i=Object.getOwnPropertyDescriptor)&&null!=(u=i.call(Object,DataTransfer.prototype,"items"))?u.get:void 0)?this.mountContenteditable(r):(o=new e(n().insertBefore(r),r),a=!1,t(r).on("keyup",function(t){var e;return 17!==(e=t.keyCode)&&224!==e||(a=!1),null}),t(r).on("keydown",function(e){var n;return 17!==(n=e.keyCode)&&224!==n||(a=!0),null!=e.ctrlKey&&null!=e.metaKey&&(a=e.ctrlKey||e.metaKey),a&&86===e.keyCode&&(o._textarea_focus_stolen=!0,o._container.focus(),o._paste_event_fired=!1,setTimeout(function(e){return function(){if(!o._paste_event_fired)return t(r).focus(),o._textarea_focus_stolen=!1}}(),1)),null}),t(r).on("paste",function(t){return function(){}}()),t(r).on("focus",function(e){return function(){if(!o._textarea_focus_stolen)return t(r).addClass("pastable-focus")}}()),t(r).on("blur",function(e){return function(){if(!o._textarea_focus_stolen)return t(r).removeClass("pastable-focus")}}()),t(o._target).on("_pasteCheckContainerDone",function(e){return function(){return t(r).focus(),o._textarea_focus_stolen=!1}}()),t(o._target).on("pasteText",function(e){return function(e,n){var a,o,i;return i=t(r).prop("selectionStart"),o=t(r).prop("selectionEnd"),a=t(r).val(),t(r).val(""+a.slice(0,i)+n.text+a.slice(o)),t(r)[0].setSelectionRange(i+n.text.length,i+n.text.length),t(r).trigger("change")}}()))},e.mountContenteditable=function(n){return new e(n,n),t(n).on("focus",function(e){return function(){return t(n).addClass("pastable-focus")}}()),t(n).on("blur",function(e){return function(){return t(n).removeClass("pastable-focus")}}())},e.prototype._handleImage=function(t){var e;return t.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),e=new Image,e.crossOrigin="anonymous",e.onload=function(t){return function(){var n,a,o,i;a=document.createElement("canvas"),a.width=e.width,a.height=e.height,o=a.getContext("2d"),o.drawImage(e,0,0,a.width,a.height),i=null;try{i=a.toDataURL("image/png"),n=r(i)}catch(t){}return i&&t._target.trigger("pasteImage",{blob:n,dataURL:i,width:e.width,height:e.height}),t._target.trigger("pasteImageEnd")}}(this),e.onerror=function(e){return function(){return e._target.trigger("pasteImageError",{message:"Failed to get image from: "+t,url:t}),e._target.trigger("pasteImageEnd")}}(this),e.src=t)},e.prototype._checkImagesInContainer=function(e){var n,r,a,o,i;for(i=Math.floor(1e3*Math.random()),o=this._container.find("img"),r=0,a=o.length;r<a;r++)n=o[r],n["_paste_marked_"+i]=!0;return setTimeout(function(r){return function(){var a,o,u;for(u=r._container.find("img"),a=0,o=u.length;a<o;a++)n=u[a],n["_paste_marked_"+i]||(e(n.src),t(n).remove());return r._target.trigger("_pasteCheckContainerDone")}}(this),1)},e}()}).call(this);
!function(e,t){var a,n=(navigator.userAgent.indexOf("Chrome"),0);thepaste=t.thepaste=e.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"==typeof window.onpaste||"onpaste"in document.createElement("DIV")},view:{},insertImage:function(e,t,a){var o,p="__thepaste_img_"+n++,i=new Image,s=new mOxie.File(null,{data:e}),l="";l+='<div class="thepaste-image-placeholder" id="'+p+'" contenteditable="false">',l+='<img class="alignnone size-full" src="'+e+'" />',l+="</div>",i.onload=function(){thepaste.uploadImage(s,o)},i.src=e,a.insertContent(l),o=a.$("#"+p)},uploadImage:function(e,t){var n=e.type,o=thepaste.options.mime_types.convert[n],p=thepaste.l10n.pasted+"."+o,i=e instanceof mOxie.File?e:e.getAsBlob(n,thepaste.options.jpeg_quality),s=function(){a.uploader.uploader.uploader.addFile(i),a.close()};i.name=p,i.type=n,a?(a.state().reset(),s()):(a=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1}),a.uploader.uploader&&a.uploader.uploader.ready?s():a.on("uploader:ready",s)),a.uploader.uploader.uploader.bind("UploadProgress",function(e){t.attr("data-progress",e.total.percent)}),a.uploader.uploader.uploader.bind("FileUploaded",function(e,a){t.replaceWith('<img class="alignnone wp-image-'+a.attachment.id+' size-full" src="'+a.attachment.changed.url+'" />')}),a.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})},clipboardHasImage:function(t){var a=!1;return t.items?(e.each(t.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return a=!0,!1}),a):t.types?(e.each(thepaste.options.mime_types.paste,function(e,n){if(t.types.indexOf(e)>-1)return a=!0,!1}),a):(console.log(t),null)}},thepaste)}(jQuery,wp.media);
!function(e,t){var a=wp.media.thepaste.l10n;navigator.userAgent.indexOf("Chrome");e.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:a.copy_paste,priority:35}})},bindPasteHandlers:function(){var e=!1;this.on("content:render close",function(t){e&&"function"==typeof e.dismiss&&e.dismiss(),void 0!==t&&(e=t)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),frame=this},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:a.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.pasteOpen(a.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteUploaded:function(e){this.thepaste.active.grabber.dismiss(),this.thepaste.modal.close(),this.thepasteClose()},thepasteError:function(e){console.log("error",e)},pasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose.apply(t),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage",this.thepasteUploaded),this.listenTo(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage",this.thepasteError)},thepasteClose:function(){this.controller.deactivateMode(this.thepaste.active.mode).activateMode("edit"),this.stopListening(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage"),this.stopListening(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage")}})}(jQuery,window);
!function(t,e,i){var a=wp.media.thepaste,s=(wp.media.view.Button,wp.media.view.Modal,a.l10n);wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:s.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(t){var e=this.$imageContainer.html("").get(0),s=this,r=t.match(/data:(image\/(\w+));/)[1];return a.options.mime_types.convert[r]||(r=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new i.Image,this.image.onload=function(){var t=s.getUploader().getOption("resize"),i=Math.max(t.width/this.width,t.height/this.height);!!t&&i<1&&this.downsize(this.width*i,this.height*i),this.embed(e)},this.image.bind("Resize",function(t){this.embed(e)}),this.image.load(t),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+r+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var t=this.$('[data-setting="format"] :checked').val(),e=a.options.mime_types.convert[t],i=this.$('input[data-setting="title"]').val()+"."+e,s=this.image.getAsBlob(t,a.options.jpeg_quality);this.bindUploaderEvents(),s.detach(s.getSource()),s.name=i,s.type=t,this.getUploader().addFile(s,i),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(t){this.$discardBtn.prop("disabled",t),this.$uploadBtn.prop("disabled",t)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(){this.trigger("error:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var t=this;return wp.media.View.prototype.render.apply(this,arguments),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){t.show_message("")}),this},start:function(){var e,i=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(t){e=wp.media.thepaste.clipboardHasImage(t.originalEvent.clipboardData)}).on("pasteText",function(a,r){e||i.imagePasted||(i.show_message(s.paste_error_no_image),t(this).html(""))}).on("pasteImage",function(t,e){i.imagePasted||(i.trigger("action:create:dataimage",this,e.dataURL),i.imagePasted=!0)}).on("pasteImageError",function(e,a){i.show_message(s.paste_error),t(this).html("")}),setTimeout(function(){i.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(t){this.$message.text(t)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var t=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:s.pasted,defaultFileFormat:"image/png",title:s.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),t},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(t,e){this.grabber.stop().hide(),this.uploader.show().setImageData(e)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})}(jQuery,window,mOxie);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3RlLmpzIiwidGhlLXBhc3RlLWJhc2UuanMiLCJ0aGUtcGFzdGUuanMiLCJtZWRpYS12aWV3LmpzIl0sIm5hbWVzIjpbIiQiLCJQYXN0ZSIsImNyZWF0ZUhpZGRlbkVkaXRhYmxlIiwiZGF0YVVSTHRvQmxvYiIsImlzRm9jdXNhYmxlIiwid2luZG93IiwialF1ZXJ5IiwicGFzdGUiLCJwYXN0ZUNvbnRhaW5lciIsInBtIiwiY29uc29sZSIsImxvZyIsIm1vdW50Tm9uSW5wdXRhYmxlIiwiX2NvbnRhaW5lciIsImZuIiwicGFzdGFibGVOb25JbnB1dGFibGUiLCJlbCIsImoiLCJsZW4iLCJyZWYiLCJ0aGlzIiwibGVuZ3RoIiwiX3Bhc3RhYmxlIiwiaXMiLCJwYXN0YWJsZVRleHRhcmVhIiwibW91bnRUZXh0YXJlYSIsInBhc3RhYmxlQ29udGVudGVkaXRhYmxlIiwibW91bnRDb250ZW50ZWRpdGFibGUiLCJkYXRhVVJMIiwic2xpY2VTaXplIiwiYjY0RGF0YSIsImJ5dGVBcnJheSIsImJ5dGVBcnJheXMiLCJieXRlQ2hhcmFjdGVycyIsImJ5dGVOdW1iZXJzIiwiY29udGVudFR5cGUiLCJpIiwibSIsIm9mZnNldCIsInNsaWNlIiwibWF0Y2giLCJhdG9iIiwiQXJyYXkiLCJjaGFyQ29kZUF0IiwiVWludDhBcnJheSIsInB1c2giLCJCbG9iIiwidHlwZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHIiLCJjc3MiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwibGVmdCIsIm92ZXJmbG93IiwiZWxlbWVudCIsImhhc1RhYmluZGV4IiwiZmllbGRzZXQiLCJmb2N1c2FibGVJZlZpc2libGUiLCJpbWciLCJtYXAiLCJtYXBOYW1lIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudE5vZGUiLCJuYW1lIiwiaHJlZiIsInRlc3QiLCJkaXNhYmxlZCIsImNsb3Nlc3QiLCJfdGFyZ2V0IiwiYWRkQ2xhc3MiLCJvbiIsIl90aGlzIiwiZXYiLCJjbGlwYm9hcmREYXRhIiwiZmlsZSIsIml0ZW0iLCJrIiwibGVuMSIsInJlYWRlciIsInJlZjEiLCJyZWYyIiwicmVmMyIsInRleHQiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJfcGFzdGVfZXZlbnRfZmlyZWQiLCJvcmlnaW5hbEV2ZW50IiwiaXRlbXMiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJfaGFuZGxlSW1hZ2UiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZ2V0QXNGaWxlIiwiZXJyb3IiLCJnZXRBc1N0cmluZyIsInN0cmluZyIsInRyaWdnZXIiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwiY2FsbCIsInR5cGVzIiwiZ2V0RGF0YSIsInNldFRpbWVvdXQiLCJfY2hlY2tJbWFnZXNJbkNvbnRhaW5lciIsInNyYyIsImZpbGVzIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibm9uSW5wdXRhYmxlIiwiYXBwZW5kVG8iLCJmb2N1cyIsInJlbW92ZUNsYXNzIiwidGV4dGFyZWEiLCJjdGxEb3duIiwiRGF0YVRyYW5zZmVyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0IiwiaW5zZXJ0QmVmb3JlIiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiIsImRhdGEiLCJjb250ZW50IiwiY3VyRW5kIiwiY3VyU3RhcnQiLCJwcm9wIiwidmFsIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJjb250ZW50ZWRpdGFibGUiLCJsb2FkZXIiLCJtZXNzYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImJsb2IiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwib25lcnJvciIsInVybCIsImNiIiwidGltZXNwYW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJmaW5kIiwicmVtb3ZlIiwiZXhwb3J0cyIsIndvcmtmbG93IiwiY291bnRlciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRoZXBhc3RlIiwiZXh0ZW5kIiwic3VwcG9ydHMiLCJ2aWV3IiwiaW5zZXJ0SW1hZ2UiLCJlZGl0b3IiLCIkY29udGFpbmVyIiwiaWQiLCJpbWFnZSIsIm1PeGllIiwiRmlsZSIsImltYWdlSHRtbCIsInVwbG9hZEltYWdlIiwiaW5zZXJ0Q29udGVudCIsInN1ZmZpeCIsIm9wdGlvbnMiLCJtaW1lX3R5cGVzIiwiY29udmVydCIsImwxMG4iLCJwYXN0ZWQiLCJnZXRBc0Jsb2IiLCJqcGVnX3F1YWxpdHkiLCJhZGRGaWxlIiwidXBsb2FkZXIiLCJjbG9zZSIsInN0YXRlIiwicmVzZXQiLCJ3cCIsIm1lZGlhIiwib3BlbiIsIndwQWN0aXZlRWRpdG9yIiwiZnJhbWUiLCJ0aXRsZSIsImNvcHlfcGFzdGUiLCJtdWx0aXBsZSIsInJlYWR5IiwiYmluZCIsImUiLCJ0b3RhbCIsInBlcmNlbnQiLCJhcmdzIiwicmVwbGFjZVdpdGgiLCJhdHRhY2htZW50IiwiY2hhbmdlZCIsImNsaXBib2FyZEhhc0ltYWdlIiwiaGFzSW1hZ2UiLCJlYWNoIiwiZXh0IiwiVXBsb2FkZXIiLCJzdWNjZXNzIiwiZmlsZV9hdHRhY2htZW50IiwiXyIsIk1lZGlhRnJhbWUiLCJTZWxlY3QiLCJfcGFyZW50SW5pdGlhbGl6ZSIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsImJpbmRQYXN0ZUhhbmRsZXJzIiwiX3BhcmVudEJyb3dzZVJvdXRlciIsImJyb3dzZVJvdXRlciIsInNldCIsInBhc3RlYm9hcmQiLCJwcmlvcml0eSIsInByZXZpb3VzQ29udGVudCIsImRpc21pc3MiLCJjb250ZW50Q3JlYXRlUGFzdGVib2FyZCIsImNvbnRlbnRSZW5kZXJHcmFiYmVyIiwiY3VycmVudFBhc3RlVmlldyIsIkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIiLCJjb250cm9sbGVyIiwiZ3JhYmJlciIsIlBhc3RlYm9hcmQiLCJsaXN0ZW5UbyIsInVwbG9hZGVkRGF0YUltYWdlIiwic3RhcnRHcmFiYmluZyIsInN0b3BMaXN0ZW5pbmciLCJvYmoiLCJicm93c2VDb250ZW50Iiwicm91dGVyIiwic2VsZWN0IiwiQXR0YWNobWVudHNCcm93c2VyIiwicGFzdGVCdG4iLCJzZWxmIiwibW9kYWwiLCJtb2RlIiwiY3VycmVudCIsIkJ1dHRvbiIsImNsYXNzTmFtZSIsImNsaWNrIiwiYWN0aXZlIiwicGFzdGVPcGVuIiwid3B1cGxvYWRlciIsInRvb2xiYXIiLCJyZW5kZXIiLCJ0aGVwYXN0ZVVwbG9hZGVkIiwidGhlcGFzdGVDbG9zZSIsInRoZXBhc3RlRXJyb3IiLCJNb2RhbCIsInN0b3BHcmFiYmluZyIsImRlYWN0aXZhdGVNb2RlIiwiYWN0aXZhdGVNb2RlIiwibyIsIkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyIiwiVmlldyIsInRlbXBsYXRlIiwiJGRpc2NhcmRCdG4iLCIkdXBsb2FkQnRuIiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSIsImRlZmF1bHRzIiwiZGVmYXVsdEZpbGVOYW1lIiwidGFnTmFtZSIsInVwbG9kZXIiLCJzZXRJbWFnZURhdGEiLCJjb250YWluZXIiLCIkaW1hZ2VDb250YWluZXIiLCJodG1sIiwiZm9ybWF0IiwiZGVmYXVsdEZpbGVGb3JtYXQiLCJkZXN0cm95Iiwib3B0cyIsImdldFVwbG9hZGVyIiwiZ2V0T3B0aW9uIiwic2NhbGUiLCJtYXgiLCJkb3duc2l6ZSIsImVtYmVkIiwibG9hZCIsImFwcGVuZCIsImRpc2NhcmRJbWFnZSIsInVuYmluZFVwbG9hZGVyRXZlbnRzIiwiYmluZFVwbG9hZGVyRXZlbnRzIiwiZGV0YWNoIiwiZ2V0U291cmNlIiwic2hvdyIsIiRlbCIsImhpZGUiLCJfdXBsb2FkU3VjY2Vzc0hhbmRsZXIiLCJfdXBsb2FkRXJyb3JIYW5kbGVyIiwidW5iaW5kIiwiYWN0aW9uIiwiJHBhc3RlYm9hcmQiLCIkbWVzc2FnZSIsInNob3dfbWVzc2FnZSIsInN0YXJ0IiwiaW1hZ2VQYXN0ZWQiLCJwYXN0ZV9lcnJvcl9ub19pbWFnZSIsInBhc3RlX2Vycm9yIiwic3RvcCIsIm9mZiIsIm1zZyIsInJldCIsImltYWdlQ3JlYXRlZCIsImltYWdlRGF0YSIsImdldEFjdGlvbiJdLCJtYXBwaW5ncyI6IkNBUUEsV0FDRSxHQUFJQSxHQUFHQyxFQUFPQyxFQUFzQkMsRUFBZUMsQ0FFbkRKLEdBQUlLLE9BQU9DLE9BRVhOLEVBQUVPLE1BQVEsU0FBU0MsR0FDakIsR0FBSUMsRUFLSixPQUp1QixtQkFBWkMsVUFBdUMsT0FBWkEsU0FDcENBLFFBQVFDLElBQUksMEZBRWRGLEVBQUtSLEVBQU1XLGtCQUFrQkosR0FDdEJDLEVBQUdJLFlBR1piLEVBQUVjLEdBQUdDLHFCQUF1QixXQUMxQixHQUFJQyxHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDRCxFQUFLRyxFQUFJRixHQUNMRCxFQUFHTSxXQUFhdEIsRUFBRWdCLEdBQUlPLEdBQUcsNkNBRzdCdEIsRUFBTVcsa0JBQWtCSSxHQUN4QkEsRUFBR00sV0FBWSxFQUVqQixPQUFPRixPQUdUcEIsRUFBRWMsR0FBR1UsaUJBQW1CLFdBQ3RCLEdBQUlSLEdBQUlDLEVBQUdDLEVBQUtDLENBRWhCLEtBREFBLEVBQU1DLEtBQ0RILEVBQUksRUFBR0MsRUFBTUMsRUFBSUUsT0FBUUosRUFBSUMsRUFBS0QsSUFDckNELEVBQUtHLEVBQUlGLEdBQ0xELEVBQUdNLFdBQWF0QixFQUFFZ0IsR0FBSU8sR0FBRyxnQ0FHN0J0QixFQUFNd0IsY0FBY1QsR0FDcEJBLEVBQUdNLFdBQVksRUFFakIsT0FBT0YsT0FHVHBCLEVBQUVjLEdBQUdZLHdCQUEwQixXQUM3QixHQUFJVixHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JD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TUFBTzFTLE1BQUtxTixRQUFRdUUsUUFFckI3RSxRQUFRLFdBRVAsTUFEQS9NLE1BQUtxTixRQUFRK0UsT0FDTnBTLFNBSVBkLE9BQU9ELE9BQU9zSyIsImZpbGUiOiJ0aGUtcGFzdGUtd2l0aC1zb3VyY2VtYXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8gR2VuZXJhdGVkIGJ5IENvZmZlZVNjcmlwdCAxLjEyLjdcblxuLypcbnBhc3RlLmpzIGlzIGFuIGludGVyZmFjZSB0byByZWFkIGRhdGEgKCB0ZXh0IC8gaW1hZ2UgKSBmcm9tIGNsaXBib2FyZCBpbiBkaWZmZXJlbnQgYnJvd3NlcnMuIEl0IGFsc28gY29udGFpbnMgc2V2ZXJhbCBoYWNrcy5cblxuaHR0cHM6Ly9naXRodWIuY29tL2xheWVyc3Nzcy9wYXN0ZS5qc1xuICovXG5cbihmdW5jdGlvbigpIHtcbiAgdmFyICQsIFBhc3RlLCBjcmVhdGVIaWRkZW5FZGl0YWJsZSwgZGF0YVVSTHRvQmxvYiwgaXNGb2N1c2FibGU7XG5cbiAgJCA9IHdpbmRvdy5qUXVlcnk7XG5cbiAgJC5wYXN0ZSA9IGZ1bmN0aW9uKHBhc3RlQ29udGFpbmVyKSB7XG4gICAgdmFyIHBtO1xuICAgIGlmICh0eXBlb2YgY29uc29sZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBjb25zb2xlICE9PSBudWxsKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIkRFUFJFQ0FURUQ6IFRoaXMgbWV0aG9kIGlzIGRlcHJlY2F0ZWQuIFBsZWFzZSB1c2UgJC5mbi5wYXN0YWJsZU5vbklucHV0YWJsZSgpIGluc3RlYWQuXCIpO1xuICAgIH1cbiAgICBwbSA9IFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlKHBhc3RlQ29udGFpbmVyKTtcbiAgICByZXR1cm4gcG0uX2NvbnRhaW5lcjtcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlTm9uSW5wdXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCd0ZXh0YXJlYSwgaW5wdXQ6dGV4dCwgW2NvbnRlbnRlZGl0YWJsZV0nKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVUZXh0YXJlYSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygnOm5vdCh0ZXh0YXJlYSwgaW5wdXQ6dGV4dCknKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50VGV4dGFyZWEoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZUNvbnRlbnRlZGl0YWJsZSA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBlbCwgaiwgbGVuLCByZWY7XG4gICAgcmVmID0gdGhpcztcbiAgICBmb3IgKGogPSAwLCBsZW4gPSByZWYubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgIGVsID0gcmVmW2pdO1xuICAgICAgaWYgKGVsLl9wYXN0YWJsZSB8fCAkKGVsKS5pcygnOm5vdChbY29udGVudGVkaXRhYmxlXSknKSkge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIFBhc3RlLm1vdW50Q29udGVudGVkaXRhYmxlKGVsKTtcbiAgICAgIGVsLl9wYXN0YWJsZSA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIGRhdGFVUkx0b0Jsb2IgPSBmdW5jdGlvbihkYXRhVVJMLCBzbGljZVNpemUpIHtcbiAgICB2YXIgYjY0RGF0YSwgYnl0ZUFycmF5LCBieXRlQXJyYXlzLCBieXRlQ2hhcmFjdGVycywgYnl0ZU51bWJlcnMsIGNvbnRlbnRUeXBlLCBpLCBtLCBvZmZzZXQsIHJlZiwgc2xpY2U7XG4gICAgaWYgKHNsaWNlU2l6ZSA9PSBudWxsKSB7XG4gICAgICBzbGljZVNpemUgPSA1MTI7XG4gICAgfVxuICAgIGlmICghKG0gPSBkYXRhVVJMLm1hdGNoKC9eZGF0YVxcOihbXlxcO10rKVxcO2Jhc2U2NFxcLCguKykkLykpKSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgcmVmID0gbSwgbSA9IHJlZlswXSwgY29udGVudFR5cGUgPSByZWZbMV0sIGI2NERhdGEgPSByZWZbMl07XG4gICAgYnl0ZUNoYXJhY3RlcnMgPSBhdG9iKGI2NERhdGEpO1xuICAgIGJ5dGVBcnJheXMgPSBbXTtcbiAgICBvZmZzZXQgPSAwO1xuICAgIHdoaWxlIChvZmZzZXQgPCBieXRlQ2hhcmFjdGVycy5sZW5ndGgpIHtcbiAgICAgIHNsaWNlID0gYnl0ZUNoYXJhY3RlcnMuc2xpY2Uob2Zmc2V0LCBvZmZzZXQgKyBzbGljZVNpemUpO1xuICAgICAgYnl0ZU51bWJlcnMgPSBuZXcgQXJyYXkoc2xpY2UubGVuZ3RoKTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCBzbGljZS5sZW5ndGgpIHtcbiAgICAgICAgYnl0ZU51bWJlcnNbaV0gPSBzbGljZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpKys7XG4gICAgICB9XG4gICAgICBieXRlQXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlTnVtYmVycyk7XG4gICAgICBieXRlQXJyYXlzLnB1c2goYnl0ZUFycmF5KTtcbiAgICAgIG9mZnNldCArPSBzbGljZVNpemU7XG4gICAgfVxuICAgIHJldHVybiBuZXcgQmxvYihieXRlQXJyYXlzLCB7XG4gICAgICB0eXBlOiBjb250ZW50VHlwZVxuICAgIH0pO1xuICB9O1xuXG4gIGNyZWF0ZUhpZGRlbkVkaXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICQoZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnZGl2JykpLmF0dHIoJ2NvbnRlbnRlZGl0YWJsZScsIHRydWUpLmF0dHIoJ2FyaWEtaGlkZGVuJywgdHJ1ZSkuYXR0cigndGFiaW5kZXgnLCAtMSkuY3NzKHtcbiAgICAgIHdpZHRoOiAxLFxuICAgICAgaGVpZ2h0OiAxLFxuICAgICAgcG9zaXRpb246ICdmaXhlZCcsXG4gICAgICBsZWZ0OiAtMTAwLFxuICAgICAgb3ZlcmZsb3c6ICdoaWRkZW4nXG4gICAgfSk7XG4gIH07XG5cbiAgaXNGb2N1c2FibGUgPSBmdW5jdGlvbihlbGVtZW50LCBoYXNUYWJpbmRleCkge1xuICAgIHZhciBmaWVsZHNldCwgZm9jdXNhYmxlSWZWaXNpYmxlLCBpbWcsIG1hcCwgbWFwTmFtZSwgbm9kZU5hbWU7XG4gICAgbWFwID0gdm9pZCAwO1xuICAgIG1hcE5hbWUgPSB2b2lkIDA7XG4gICAgaW1nID0gdm9pZCAwO1xuICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IHZvaWQgMDtcbiAgICBmaWVsZHNldCA9IHZvaWQgMDtcbiAgICBub2RlTmFtZSA9IGVsZW1lbnQubm9kZU5hbWUudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAoJ2FyZWEnID09PSBub2RlTmFtZSkge1xuICAgICAgbWFwID0gZWxlbWVudC5wYXJlbnROb2RlO1xuICAgICAgbWFwTmFtZSA9IG1hcC5uYW1lO1xuICAgICAgaWYgKCFlbGVtZW50LmhyZWYgfHwgIW1hcE5hbWUgfHwgbWFwLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCkgIT09ICdtYXAnKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGltZyA9ICQoJ2ltZ1t1c2VtYXA9XFwnIycgKyBtYXBOYW1lICsgJ1xcJ10nKTtcbiAgICAgIHJldHVybiBpbWcubGVuZ3RoID4gMCAmJiBpbWcuaXMoJzp2aXNpYmxlJyk7XG4gICAgfVxuICAgIGlmICgvXihpbnB1dHxzZWxlY3R8dGV4dGFyZWF8YnV0dG9ufG9iamVjdCkkLy50ZXN0KG5vZGVOYW1lKSkge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gIWVsZW1lbnQuZGlzYWJsZWQ7XG4gICAgICBpZiAoZm9jdXNhYmxlSWZWaXNpYmxlKSB7XG4gICAgICAgIGZpZWxkc2V0ID0gJChlbGVtZW50KS5jbG9zZXN0KCdmaWVsZHNldCcpWzBdO1xuICAgICAgICBpZiAoZmllbGRzZXQpIHtcbiAgICAgICAgICBmb2N1c2FibGVJZlZpc2libGUgPSAhZmllbGRzZXQuZGlzYWJsZWQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKCdhJyA9PT0gbm9kZU5hbWUpIHtcbiAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IGVsZW1lbnQuaHJlZiB8fCBoYXNUYWJpbmRleDtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gaGFzVGFiaW5kZXg7XG4gICAgfVxuICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9IGZvY3VzYWJsZUlmVmlzaWJsZSB8fCAkKGVsZW1lbnQpLmlzKCdbY29udGVudGVkaXRhYmxlXScpO1xuICAgIHJldHVybiBmb2N1c2FibGVJZlZpc2libGUgJiYgJChlbGVtZW50KS5pcygnOnZpc2libGUnKTtcbiAgfTtcblxuICBQYXN0ZSA9IChmdW5jdGlvbigpIHtcbiAgICBQYXN0ZS5wcm90b3R5cGUuX3RhcmdldCA9IG51bGw7XG5cbiAgICBQYXN0ZS5wcm90b3R5cGUuX2NvbnRhaW5lciA9IG51bGw7XG5cbiAgICBQYXN0ZS5tb3VudE5vbklucHV0YWJsZSA9IGZ1bmN0aW9uKG5vbklucHV0YWJsZSkge1xuICAgICAgdmFyIHBhc3RlO1xuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY3JlYXRlSGlkZGVuRWRpdGFibGUoKS5hcHBlbmRUbyhub25JbnB1dGFibGUpLCBub25JbnB1dGFibGUpO1xuICAgICAgJChub25JbnB1dGFibGUpLm9uKCdjbGljaycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICBpZiAoIWlzRm9jdXNhYmxlKGV2LnRhcmdldCwgZmFsc2UpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGFzdGUuX2NvbnRhaW5lci5mb2N1cygpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHBhc3RlLl9jb250YWluZXIub24oJ2ZvY3VzJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChub25JbnB1dGFibGUpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcmV0dXJuIHBhc3RlLl9jb250YWluZXIub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKG5vbklucHV0YWJsZSkucmVtb3ZlQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIFBhc3RlLm1vdW50VGV4dGFyZWEgPSBmdW5jdGlvbih0ZXh0YXJlYSkge1xuICAgICAgdmFyIGN0bERvd24sIHBhc3RlLCByZWYsIHJlZjE7XG4gICAgICBpZiAoKHR5cGVvZiBEYXRhVHJhbnNmZXIgIT09IFwidW5kZWZpbmVkXCIgJiYgRGF0YVRyYW5zZmVyICE9PSBudWxsID8gRGF0YVRyYW5zZmVyLnByb3RvdHlwZSA6IHZvaWQgMCkgJiYgKChyZWYgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY2FsbChPYmplY3QsIERhdGFUcmFuc2Zlci5wcm90b3R5cGUsICdpdGVtcycpKSAhPSBudWxsID8gcmVmMS5nZXQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1vdW50Q29udGVudGVkaXRhYmxlKHRleHRhcmVhKTtcbiAgICAgIH1cbiAgICAgIHBhc3RlID0gbmV3IFBhc3RlKGNyZWF0ZUhpZGRlbkVkaXRhYmxlKCkuaW5zZXJ0QmVmb3JlKHRleHRhcmVhKSwgdGV4dGFyZWEpO1xuICAgICAgY3RsRG93biA9IGZhbHNlO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2tleXVwJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIHJlZjI7XG4gICAgICAgIGlmICgocmVmMiA9IGV2LmtleUNvZGUpID09PSAxNyB8fCByZWYyID09PSAyMjQpIHtcbiAgICAgICAgICBjdGxEb3duID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICB9KTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdrZXlkb3duJywgZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgdmFyIHJlZjI7XG4gICAgICAgIGlmICgocmVmMiA9IGV2LmtleUNvZGUpID09PSAxNyB8fCByZWYyID09PSAyMjQpIHtcbiAgICAgICAgICBjdGxEb3duID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKGV2LmN0cmxLZXkgIT0gbnVsbCkgJiYgKGV2Lm1ldGFLZXkgIT0gbnVsbCkpIHtcbiAgICAgICAgICBjdGxEb3duID0gZXYuY3RybEtleSB8fCBldi5tZXRhS2V5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdGxEb3duICYmIGV2LmtleUNvZGUgPT09IDg2KSB7XG4gICAgICAgICAgcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiA9IHRydWU7XG4gICAgICAgICAgcGFzdGUuX2NvbnRhaW5lci5mb2N1cygpO1xuICAgICAgICAgIHBhc3RlLl9wYXN0ZV9ldmVudF9maXJlZCA9IGZhbHNlO1xuICAgICAgICAgIHNldFRpbWVvdXQoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgIGlmICghcGFzdGUuX3Bhc3RlX2V2ZW50X2ZpcmVkKSB7XG4gICAgICAgICAgICAgICAgJCh0ZXh0YXJlYSkuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiA9IGZhbHNlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH0pKHRoaXMpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ3Bhc3RlJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHt9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2ZvY3VzJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRleHRhcmVhKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHRleHRhcmVhKS5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgaWYgKCFwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuKSB7XG4gICAgICAgICAgICByZXR1cm4gJCh0ZXh0YXJlYSkucmVtb3ZlQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgJChwYXN0ZS5fdGFyZ2V0KS5vbignX3Bhc3RlQ2hlY2tDb250YWluZXJEb25lJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAkKHRleHRhcmVhKS5mb2N1cygpO1xuICAgICAgICAgIHJldHVybiBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gZmFsc2U7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gJChwYXN0ZS5fdGFyZ2V0KS5vbigncGFzdGVUZXh0JywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldiwgZGF0YSkge1xuICAgICAgICAgIHZhciBjb250ZW50LCBjdXJFbmQsIGN1clN0YXJ0O1xuICAgICAgICAgIGN1clN0YXJ0ID0gJCh0ZXh0YXJlYSkucHJvcCgnc2VsZWN0aW9uU3RhcnQnKTtcbiAgICAgICAgICBjdXJFbmQgPSAkKHRleHRhcmVhKS5wcm9wKCdzZWxlY3Rpb25FbmQnKTtcbiAgICAgICAgICBjb250ZW50ID0gJCh0ZXh0YXJlYSkudmFsKCk7XG4gICAgICAgICAgJCh0ZXh0YXJlYSkudmFsKFwiXCIgKyBjb250ZW50LnNsaWNlKDAsIGN1clN0YXJ0KSArIGRhdGEudGV4dCArIGNvbnRlbnQuc2xpY2UoY3VyRW5kKSk7XG4gICAgICAgICAgJCh0ZXh0YXJlYSlbMF0uc2V0U2VsZWN0aW9uUmFuZ2UoY3VyU3RhcnQgKyBkYXRhLnRleHQubGVuZ3RoLCBjdXJTdGFydCArIGRhdGEudGV4dC5sZW5ndGgpO1xuICAgICAgICAgIHJldHVybiAkKHRleHRhcmVhKS50cmlnZ2VyKCdjaGFuZ2UnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgUGFzdGUubW91bnRDb250ZW50ZWRpdGFibGUgPSBmdW5jdGlvbihjb250ZW50ZWRpdGFibGUpIHtcbiAgICAgIHZhciBwYXN0ZTtcbiAgICAgIHBhc3RlID0gbmV3IFBhc3RlKGNvbnRlbnRlZGl0YWJsZSwgY29udGVudGVkaXRhYmxlKTtcbiAgICAgICQoY29udGVudGVkaXRhYmxlKS5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gJChjb250ZW50ZWRpdGFibGUpLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChjb250ZW50ZWRpdGFibGUpLnJlbW92ZUNsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBmdW5jdGlvbiBQYXN0ZShfY29udGFpbmVyLCBfdGFyZ2V0KSB7XG4gICAgICB0aGlzLl9jb250YWluZXIgPSBfY29udGFpbmVyO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gX3RhcmdldDtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9ICQodGhpcy5fY29udGFpbmVyKTtcbiAgICAgIHRoaXMuX3RhcmdldCA9ICQodGhpcy5fdGFyZ2V0KS5hZGRDbGFzcygncGFzdGFibGUnKTtcbiAgICAgIHRoaXMuX2NvbnRhaW5lci5vbigncGFzdGUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2KSB7XG4gICAgICAgICAgdmFyIGNsaXBib2FyZERhdGEsIGZpbGUsIGl0ZW0sIGosIGssIGxlbiwgbGVuMSwgcmVhZGVyLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHRleHQ7XG4gICAgICAgICAgaWYgKGV2LmN1cnJlbnRUYXJnZXQgIT09IGV2LnRhcmdldCkge1xuICAgICAgICAgICAgcmV0dXJuIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIF90aGlzLl9wYXN0ZV9ldmVudF9maXJlZCA9IHRydWU7XG4gICAgICAgICAgaWYgKCgocmVmID0gZXYub3JpZ2luYWxFdmVudCkgIT0gbnVsbCA/IHJlZi5jbGlwYm9hcmREYXRhIDogdm9pZCAwKSAhPSBudWxsKSB7XG4gICAgICAgICAgICBjbGlwYm9hcmREYXRhID0gZXYub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhO1xuICAgICAgICAgICAgaWYgKGNsaXBib2FyZERhdGEuaXRlbXMpIHtcbiAgICAgICAgICAgICAgcmVmMSA9IGNsaXBib2FyZERhdGEuaXRlbXM7XG4gICAgICAgICAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZjEubGVuZ3RoOyBqIDwgbGVuOyBqKyspIHtcbiAgICAgICAgICAgICAgICBpdGVtID0gcmVmMVtqXTtcbiAgICAgICAgICAgICAgICBpZiAoaXRlbS50eXBlLm1hdGNoKC9eaW1hZ2VcXC8vKSkge1xuICAgICAgICAgICAgICAgICAgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihldmVudCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUltYWdlKGV2ZW50LnRhcmdldC5yZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGl0ZW0uZ2V0QXNGaWxlKCkpO1xuICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgICAgICAgICBldi5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICd0ZXh0L3BsYWluJykge1xuICAgICAgICAgICAgICAgICAgaXRlbS5nZXRBc1N0cmluZyhmdW5jdGlvbihzdHJpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKC0xICE9PSBBcnJheS5wcm90b3R5cGUuaW5kZXhPZi5jYWxsKGNsaXBib2FyZERhdGEudHlwZXMsICd0ZXh0L3BsYWluJykpIHtcbiAgICAgICAgICAgICAgICB0ZXh0ID0gY2xpcGJvYXJkRGF0YS5nZXREYXRhKCdUZXh0Jyk7XG4gICAgICAgICAgICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlVGV4dCcsIHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSwgMSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RoaXMuX2NoZWNrSW1hZ2VzSW5Db250YWluZXIoZnVuY3Rpb24oc3JjKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl9oYW5kbGVJbWFnZShzcmMpO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGNsaXBib2FyZERhdGEgPSB3aW5kb3cuY2xpcGJvYXJkRGF0YSkge1xuICAgICAgICAgICAgaWYgKChyZWYyID0gKHRleHQgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKSkpICE9IG51bGwgPyByZWYyLmxlbmd0aCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgdGV4dDogdGV4dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ19wYXN0ZUNoZWNrQ29udGFpbmVyRG9uZScpO1xuICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJlZjMgPSBjbGlwYm9hcmREYXRhLmZpbGVzO1xuICAgICAgICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gcmVmMy5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcbiAgICAgICAgICAgICAgICBmaWxlID0gcmVmM1trXTtcbiAgICAgICAgICAgICAgICBfdGhpcy5faGFuZGxlSW1hZ2UoVVJMLmNyZWF0ZU9iamVjdFVSTChmaWxlKSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RoaXMuX2NoZWNrSW1hZ2VzSW5Db250YWluZXIoZnVuY3Rpb24oc3JjKSB7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH1cblxuICAgIFBhc3RlLnByb3RvdHlwZS5faGFuZGxlSW1hZ2UgPSBmdW5jdGlvbihzcmMpIHtcbiAgICAgIHZhciBsb2FkZXI7XG4gICAgICBpZiAoc3JjLm1hdGNoKC9ed2Via2l0XFwtZmFrZVxcLXVybFxcOlxcL1xcLy8pKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVycm9yJywge1xuICAgICAgICAgIG1lc3NhZ2U6IFwiWW91IGFyZSB0cnlpbmcgdG8gcGFzdGUgYW4gaW1hZ2UgaW4gU2FmYXJpLCBob3dldmVyIHdlIGFyZSB1bmFibGUgdG8gcmV0aWV2ZSBpdHMgZGF0YS5cIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHRoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlU3RhcnQnKTtcbiAgICAgIGxvYWRlciA9IG5ldyBJbWFnZSgpO1xuICAgICAgbG9hZGVyLmNyb3NzT3JpZ2luID0gXCJhbm9ueW1vdXNcIjtcbiAgICAgIGxvYWRlci5vbmxvYWQgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBibG9iLCBjYW52YXMsIGN0eCwgZGF0YVVSTDtcbiAgICAgICAgICBjYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdjYW52YXMnKTtcbiAgICAgICAgICBjYW52YXMud2lkdGggPSBsb2FkZXIud2lkdGg7XG4gICAgICAgICAgY2FudmFzLmhlaWdodCA9IGxvYWRlci5oZWlnaHQ7XG4gICAgICAgICAgY3R4ID0gY2FudmFzLmdldENvbnRleHQoJzJkJyk7XG4gICAgICAgICAgY3R4LmRyYXdJbWFnZShsb2FkZXIsIDAsIDAsIGNhbnZhcy53aWR0aCwgY2FudmFzLmhlaWdodCk7XG4gICAgICAgICAgZGF0YVVSTCA9IG51bGw7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGRhdGFVUkwgPSBjYW52YXMudG9EYXRhVVJMKCdpbWFnZS9wbmcnKTtcbiAgICAgICAgICAgIGJsb2IgPSBkYXRhVVJMdG9CbG9iKGRhdGFVUkwpO1xuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7fVxuICAgICAgICAgIGlmIChkYXRhVVJMKSB7XG4gICAgICAgICAgICBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2UnLCB7XG4gICAgICAgICAgICAgIGJsb2I6IGJsb2IsXG4gICAgICAgICAgICAgIGRhdGFVUkw6IGRhdGFVUkwsXG4gICAgICAgICAgICAgIHdpZHRoOiBsb2FkZXIud2lkdGgsXG4gICAgICAgICAgICAgIGhlaWdodDogbG9hZGVyLmhlaWdodFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFbmQnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgbG9hZGVyLm9uZXJyb3IgPSAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVycm9yJywge1xuICAgICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gZ2V0IGltYWdlIGZyb206IFwiICsgc3JjLFxuICAgICAgICAgICAgdXJsOiBzcmNcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRW5kJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKTtcbiAgICAgIHJldHVybiBsb2FkZXIuc3JjID0gc3JjO1xuICAgIH07XG5cbiAgICBQYXN0ZS5wcm90b3R5cGUuX2NoZWNrSW1hZ2VzSW5Db250YWluZXIgPSBmdW5jdGlvbihjYikge1xuICAgICAgdmFyIGltZywgaiwgbGVuLCByZWYsIHRpbWVzcGFuO1xuICAgICAgdGltZXNwYW4gPSBNYXRoLmZsb29yKDEwMDAgKiBNYXRoLnJhbmRvbSgpKTtcbiAgICAgIHJlZiA9IHRoaXMuX2NvbnRhaW5lci5maW5kKCdpbWcnKTtcbiAgICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICBpbWcgPSByZWZbal07XG4gICAgICAgIGltZ1tcIl9wYXN0ZV9tYXJrZWRfXCIgKyB0aW1lc3Bhbl0gPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHNldFRpbWVvdXQoKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICB2YXIgaywgbGVuMSwgcmVmMTtcbiAgICAgICAgICByZWYxID0gX3RoaXMuX2NvbnRhaW5lci5maW5kKCdpbWcnKTtcbiAgICAgICAgICBmb3IgKGsgPSAwLCBsZW4xID0gcmVmMS5sZW5ndGg7IGsgPCBsZW4xOyBrKyspIHtcbiAgICAgICAgICAgIGltZyA9IHJlZjFba107XG4gICAgICAgICAgICBpZiAoIWltZ1tcIl9wYXN0ZV9tYXJrZWRfXCIgKyB0aW1lc3Bhbl0pIHtcbiAgICAgICAgICAgICAgY2IoaW1nLnNyYyk7XG4gICAgICAgICAgICAgICQoaW1nKS5yZW1vdmUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcignX3Bhc3RlQ2hlY2tDb250YWluZXJEb25lJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSwgMSk7XG4gICAgfTtcblxuICAgIHJldHVybiBQYXN0ZTtcblxuICB9KSgpO1xuXG59KS5jYWxsKHRoaXMpO1xuIiwiKGZ1bmN0aW9uKCQsZXhwb3J0cyl7XG5cblx0dmFyIGlzX2Nocm9tZVx0PSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTEsXG5cdFx0Y291bnRlciA9IDAsXG5cdFx0d29ya2Zsb3c7XG5cdFx0XG5cdHRoZXBhc3RlID0gZXhwb3J0cy50aGVwYXN0ZSA9ICQuZXh0ZW5kKCB7XG5cdFx0c3VwcG9ydHMgOiB7XG5cdFx0XHRwYXN0ZTogKCAoJ3Bhc3RlJyBpbiBkb2N1bWVudCkgfHwgKCdvbnBhc3RlJyBpbiBkb2N1bWVudCkgfHwgdHlwZW9mKHdpbmRvdy5vbnBhc3RlKSA9PT0gJ29iamVjdCcgfHwgKCAnb25wYXN0ZScgaW4gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnRElWJykgKSApLCAvLyBicm93c2VyXG5cdFx0fSxcblx0XHR2aWV3Ont9LFxuXHRcdFxuXHRcdGluc2VydEltYWdlOmZ1bmN0aW9uKCBkYXRhVVJMLCB0eXBlLCBlZGl0b3IgKSB7XG5cdFx0XHR2YXIgaWQgPSAnX190aGVwYXN0ZV9pbWdfJysoY291bnRlcisrKSxcblx0XHRcdFx0aW1hZ2UgPSBuZXcgSW1hZ2UoKSxcblx0XHRcdFx0YmxvYiA9IG5ldyBtT3hpZS5GaWxlKCBudWxsLCB7IGRhdGE6IGRhdGFVUkwgfSApLFxuXHRcdFx0XHRpbWFnZUh0bWwgPSAnJyxcblx0XHRcdFx0JGNvbnRhaW5lcjtcblxuXHRcdFx0aW1hZ2VIdG1sICs9ICc8ZGl2IGNsYXNzPVwidGhlcGFzdGUtaW1hZ2UtcGxhY2Vob2xkZXJcIiBpZD1cIicraWQrJ1wiIGNvbnRlbnRlZGl0YWJsZT1cImZhbHNlXCI+Jztcblx0XHRcdGltYWdlSHRtbCArPSAnPGltZyBjbGFzcz1cImFsaWdubm9uZSBzaXplLWZ1bGxcIiBzcmM9XCInK2RhdGFVUkwrJ1wiIC8+Jztcblx0XHRcdGltYWdlSHRtbCArPSAnPC9kaXY+Jztcblx0XHRcdGltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR0aGVwYXN0ZS51cGxvYWRJbWFnZSggYmxvYiwgJGNvbnRhaW5lciApO1xuXHRcdFx0fVxuXHRcdFx0aW1hZ2Uuc3JjID0gZGF0YVVSTDtcblxuXHRcdFx0ZWRpdG9yLmluc2VydENvbnRlbnQoIGltYWdlSHRtbCApO1xuXHRcdFx0JGNvbnRhaW5lciA9IGVkaXRvci4kKCcjJytpZCk7XG5cdFx0fSxcblx0XHR1cGxvYWRJbWFnZTogZnVuY3Rpb24oIGltYWdlLCAkY29udGFpbmVyICkge1xuXG5cdFx0XHR2YXIgdHlwZSA9IGltYWdlLnR5cGUsIFxuXHRcdFx0XHRzdWZmaXggPSB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFsgdHlwZSBdLFxuXHRcdFx0XHRuYW1lID0gdGhlcGFzdGUubDEwbi5wYXN0ZWQgKyAnLicgKyBzdWZmaXgsXG5cdFx0XHRcdGJsb2IgPSBpbWFnZSBpbnN0YW5jZW9mIG1PeGllLkZpbGUgPyBpbWFnZSA6IGltYWdlLmdldEFzQmxvYiggdHlwZSwgdGhlcGFzdGUub3B0aW9ucy5qcGVnX3F1YWxpdHkgKSxcblx0XHRcdFx0YWRkRmlsZSA9IGZ1bmN0aW9uKCl7XG5cdFx0XHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYWRkRmlsZSggYmxvYiApO1xuXHRcdFx0XHRcdHdvcmtmbG93LmNsb3NlKClcblx0XHRcdFx0fTtcblxuLy9cdFx0XHRibG9iLmRldGFjaCggYmxvYi5nZXRTb3VyY2UoKSApO1xuXHRcdFx0YmxvYi5uYW1lID0gbmFtZTtcblx0XHRcdGJsb2IudHlwZSA9IHR5cGU7XG5cblx0XHRcdGlmICggISB3b3JrZmxvdyApIHtcblx0XHRcdFx0d29ya2Zsb3cgPSB3cC5tZWRpYS5lZGl0b3Iub3Blbiggd2luZG93LndwQWN0aXZlRWRpdG9yLCB7XG5cdFx0XHRcdFx0ZnJhbWU6XHRcdCdwb3N0Jyxcblx0XHRcdFx0XHRzdGF0ZTpcdFx0J2luc2VydCcsXG5cdFx0XHRcdFx0dGl0bGU6XHRcdHRoZXBhc3RlLmwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRtdWx0aXBsZTpcdGZhbHNlXG5cdFx0XHRcdH0gKTtcblx0XHRcdFx0aWYgKCB3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlciAmJiB3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci5yZWFkeSApIHtcblx0XHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0d29ya2Zsb3cub24oICd1cGxvYWRlcjpyZWFkeScsIGFkZEZpbGUgKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0d29ya2Zsb3cuc3RhdGUoKS5yZXNldCgpO1xuXHRcdFx0XHRhZGRGaWxlKCk7XG5cdFx0XHR9XG5cdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdVcGxvYWRQcm9ncmVzcycsZnVuY3Rpb24oZSl7XG5cdFx0XHRcdCRjb250YWluZXIuYXR0cignZGF0YS1wcm9ncmVzcycsZS50b3RhbC5wZXJjZW50KTtcblx0XHRcdH0pO1xuXHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnRmlsZVVwbG9hZGVkJyxmdW5jdGlvbihlLGFyZ3Mpe1xuXHRcdFx0XHQkY29udGFpbmVyLnJlcGxhY2VXaXRoKCAnPGltZyBjbGFzcz1cImFsaWdubm9uZSB3cC1pbWFnZS0nK2FyZ3MuYXR0YWNobWVudC5pZCsnIHNpemUtZnVsbFwiIHNyYz1cIicrYXJncy5hdHRhY2htZW50LmNoYW5nZWQudXJsKydcIiAvPicgKTtcblx0XHRcdH0pO1xuXHRcdFx0d29ya2Zsb3cudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXIuYmluZCgnRXJyb3InLGZ1bmN0aW9uKGUsYXJncyl7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGUsYXJncyk7XG5cdFx0XHR9KTtcblx0XHR9LFxuXHRcdC8qKlxuXHRcdCAqXHRAcmV0dXJuOiBudWxsfHRydWV8ZmFsc2Vcblx0XHQgKi9cblx0XHRjbGlwYm9hcmRIYXNJbWFnZTpmdW5jdGlvbiggY2xpcGJvYXJkRGF0YSApIHtcblx0XHRcdHZhciBoYXNJbWFnZSA9IGZhbHNlO1xuXHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLml0ZW1zICkge1xuXHRcdFx0XHQkLmVhY2goIGNsaXBib2FyZERhdGEuaXRlbXMsIGZ1bmN0aW9uKGksaXRlbSl7XG5cdFx0XHRcdFx0aWYgKCBpdGVtLnR5cGUgaW4gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLnBhc3RlICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cblx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS50eXBlcyApIHtcblx0XHRcdFx0JC5lYWNoKCB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMucGFzdGUsIGZ1bmN0aW9uKHR5cGUsZXh0KXtcblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZERhdGEudHlwZXMuaW5kZXhPZih0eXBlKSA+IC0xICkge1xuXHRcdFx0XHRcdFx0aGFzSW1hZ2UgPSB0cnVlO1xuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0fSApO1xuXHRcdFx0XHRyZXR1cm4gaGFzSW1hZ2U7XG5cdFx0XHR9XG5cdFx0XHRjb25zb2xlLmxvZyhjbGlwYm9hcmREYXRhKTtcblx0XHRcdHJldHVybiBudWxsO1xuXHRcdH1cblx0XHRcblxuXHR9LCB0aGVwYXN0ZSApO1xuXG59KSggalF1ZXJ5LCB3cC5tZWRpYSApO1xuXG4iLCIoZnVuY3Rpb24oJCxleHBvcnRzKXtcblxuXHR2YXIgY291bnRlciAgICAgID0gMCxcblx0XHRsMTBuID0gd3AubWVkaWEudGhlcGFzdGUubDEwbixcblx0XHRpc19jaHJvbWUgPSBuYXZpZ2F0b3IudXNlckFnZW50LmluZGV4T2YoJ0Nocm9tZScpID4gLTE7XG5cblx0JC5leHRlbmQoIHdwLlVwbG9hZGVyLnByb3RvdHlwZSwge1xuXHRcdHN1Y2Nlc3MgOiBmdW5jdGlvbiggZmlsZV9hdHRhY2htZW50ICl7XG5cdFx0fVxuXHR9KTtcblxuXG5cdC8qKlxuXHQgKlx0SW50ZWdyYXRlIGludG8gbWVkaWEgbGlicmFyeSBtb2RhbFxuXHQgKi9cblx0Ly8gYWRkIHN0YXRlcyB0byBicm93c2Ugcm91dGVyXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZS5pbml0aWFsaXplLFxuXHRcdGluaXRpYWxpemU6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cdFx0XHR0aGlzLmJpbmRQYXN0ZUhhbmRsZXJzKCk7XG5cdFx0fSxcblx0XHRfcGFyZW50QnJvd3NlUm91dGVyOiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0LnByb3RvdHlwZS5icm93c2VSb3V0ZXIsXG5cdFx0YnJvd3NlUm91dGVyIDogZnVuY3Rpb24oIHZpZXcgKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRCcm93c2VSb3V0ZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXG5cdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXHRcdFx0XHR2aWV3LnNldCh7cGFzdGVib2FyZDp7XG5cdFx0XHRcdFx0dGV4dDogICAgIGwxMG4uY29weV9wYXN0ZSxcblx0XHRcdFx0XHRwcmlvcml0eTogMzVcblx0XHRcdFx0fX0pO1xuXHRcdFx0fVxuXHRcdH0sXG5cblx0XHRiaW5kUGFzdGVIYW5kbGVyczogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcHJldmlvdXNDb250ZW50ID0gZmFsc2U7XG5cdFx0XG5cdFx0XHQvLyBkaXNtaXNzIGNvbnRlbnQgb24gY2xvc2Vcblx0XHRcdHRoaXMub24oICdjb250ZW50OnJlbmRlciBjbG9zZScgLCBmdW5jdGlvbihjb250ZW50KXtcblx0XHRcdFx0aWYgKCBwcmV2aW91c0NvbnRlbnQgJiYgJ2Z1bmN0aW9uJyA9PT0gdHlwZW9mIHByZXZpb3VzQ29udGVudC5kaXNtaXNzICkge1xuXHRcdFx0XHRcdHByZXZpb3VzQ29udGVudC5kaXNtaXNzKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWYgKCAndW5kZWZpbmVkJyAhPT0gdHlwZW9mIGNvbnRlbnQgKVxuXHRcdFx0XHRcdHByZXZpb3VzQ29udGVudCA9IGNvbnRlbnQ7XG5cdFx0XHR9ICwgdGhpcyApO1xuXHRcdFxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6Y3JlYXRlOnBhc3RlYm9hcmQnLCB0aGlzLmNvbnRlbnRDcmVhdGVQYXN0ZWJvYXJkLCB0aGlzICk7XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpyZW5kZXI6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudFJlbmRlckdyYWJiZXIsIHRoaXMgKTtcblxuXHRcdFx0ZnJhbWUgPSB0aGlzO1xuXHRcdH0sXG5cdFx0Ly8gYWRkIGhhbmRsZXJzXG5cdFx0Y29udGVudENyZWF0ZVBhc3RlYm9hcmQ6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dmFyIHN0YXRlID0gdGhpcy5zdGF0ZSgpO1xuXG5cdFx0XHR0aGlzLmN1cnJlbnRQYXN0ZVZpZXcgPSBjb250ZW50LnZpZXcgPSBuZXcgd3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VHcmFiYmVyKCB7IFxuXHRcdFx0XHRjb250cm9sbGVyXHQ6IHRoaXMsIFxuXHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkXG5cdFx0XHR9KTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuY3VycmVudFBhc3RlVmlldy51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnLCB0aGlzLnVwbG9hZGVkRGF0YUltYWdlICk7XG5cdFx0fSxcblx0XHRjb250ZW50UmVuZGVyR3JhYmJlcjogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHRjb250ZW50LnN0YXJ0R3JhYmJpbmcoKTtcblx0XHR9LFxuXHRcdHVwbG9hZGVkRGF0YUltYWdlOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHZhciBvYmogPSB7IHZpZXc6IG51bGwgfTtcblx0XHRcdHRoaXMuYnJvd3NlQ29udGVudChvYmopO1xuXHRcdFx0dGhpcy5jb250ZW50LnNldCggb2JqLnZpZXcgKTtcblx0XHRcdHRoaXMucm91dGVyLmdldCgpLnNlbGVjdCgnYnJvd3NlJylcblx0XHR9XG5cdH0pO1xuXHRcblxuXG5cdC8qKlxuXHQgKlx0QWRkIHBhc3RlIGJ1dHRvbiB0byB0b29sYmFyIG9uIHVwbG9hZC5waHBcblx0ICovXG5cdF8uZXh0ZW5kKCB3cC5tZWRpYS52aWV3LkF0dGFjaG1lbnRzQnJvd3Nlci5wcm90b3R5cGUsIHtcblx0XHRfcGFyZW50SW5pdGlhbGl6ZTpcdHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZS5pbml0aWFsaXplLFxuXHRcdGluaXRpYWxpemU6XHRmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0cGFzdGVCdG47XG5cblx0XHRcdHRoaXMuX3BhcmVudEluaXRpYWxpemUuYXBwbHkodGhpcyxhcmd1bWVudHMpO1xuXHRcdFx0XG5cdFx0XHR0aGlzLnRoZXBhc3RlID0ge1xuXHRcdFx0XHRwYXN0ZVx0OiB7XG4vL1x0XHRcdFx0XHRidXR0b25cdDogZmFsc2UsXG5cdFx0XHRcdFx0Z3JhYmJlclx0OiBmYWxzZSxcblx0XHRcdFx0XHRtb2RhbFx0OiBmYWxzZSxcblx0XHRcdFx0XHRtb2RlXHQ6ICdwYXN0ZScsXG5cdFx0XHRcdH0sXG5cdFx0XHRcdGN1cnJlbnRcdFx0OiBmYWxzZVxuXHRcdFx0fVxuXG5cdFx0XHRpZiAoICEgKCB0aGlzLmNvbnRyb2xsZXIgaW5zdGFuY2VvZiB3cC5tZWRpYS52aWV3Lk1lZGlhRnJhbWUuU2VsZWN0ICkgKSB7XG5cblx0XHRcdFx0aWYgKCB3cC5tZWRpYS50aGVwYXN0ZS5zdXBwb3J0cy5wYXN0ZSApIHtcblxuXHRcdFx0XHRcdHBhc3RlQnRuID0gbmV3IHdwLm1lZGlhLnZpZXcuQnV0dG9uKCB7XG5cdFx0XHRcdFx0XHR0ZXh0XHRcdDogbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdFx0Y2xhc3NOYW1lOiAgJ2dyYWJiZXItYnV0dG9uJyxcblx0XHRcdFx0XHRcdHByaW9yaXR5XHQ6IC02NCxcblx0XHRcdFx0XHRcdGNsaWNrOiBmdW5jdGlvbigpIHtcblx0XHRcdFx0XHRcdFx0c2VsZi50aGVwYXN0ZS5hY3RpdmUgPSBzZWxmLnRoZXBhc3RlLnBhc3RlO1xuXHRcdFx0XHRcdFx0XHRzZWxmLnBhc3RlT3BlbiggbDEwbi5jb3B5X3Bhc3RlICk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fSApO1xuXHRcdFx0XHRcdHRoaXMudGhlcGFzdGUucGFzdGUuZ3JhYmJlciA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHtcblx0XHRcdFx0XHRcdGNvbnRyb2xsZXJcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0Z3JhYmJlclx0XHQ6IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuUGFzdGVib2FyZCxcblx0XHRcdFx0XHRcdHdwdXBsb2FkZXJcdDogdGhpcy5jb250cm9sbGVyLnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyXG5cdFx0XHRcdFx0fSApO1xuXG5cdFx0XHRcdFx0dGhpcy50b29sYmFyLnNldCggJ3Bhc3RlTW9kZUJ1dHRvbicsIHBhc3RlQnRuLnJlbmRlcigpICk7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9LFxuXHRcdHRoZXBhc3RlVXBsb2FkZWQ6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5kaXNtaXNzKCk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLmNsb3NlKCk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlQ2xvc2UoKTtcblx0XHR9LFxuXHRcdHRoZXBhc3RlRXJyb3I6IGZ1bmN0aW9uKCBlICkge1xuXHRcdFx0Y29uc29sZS5sb2coICdlcnJvcicsIGUgKTtcblx0XHR9LFxuXHRcdHBhc3RlT3BlbjogZnVuY3Rpb24oIHRpdGxlICkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsICA9ICBuZXcgd3AubWVkaWEudmlldy5Nb2RhbCgge1xuXHRcdFx0XHRjb250cm9sbGVyIDogdGhpcyxcblx0XHRcdFx0dGl0bGUgICAgICA6IHRpdGxlXG5cdFx0XHR9ICk7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLmNvbnRlbnQoIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIgKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub3BlbigpO1xuXG5cdFx0XHR0aGlzLnRoZXBhc3RlLm1vZGFsLm9uKCAnY2xvc2UnLCBmdW5jdGlvbigpIHtcblx0XHRcdFx0c2VsZi50aGVwYXN0ZUNsb3NlLmFwcGx5KHNlbGYpO1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnN0b3BHcmFiYmluZygpO1xuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RhcnRHcmFiYmluZygpO1xuXG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudGhlcGFzdGVVcGxvYWRlZCApO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudGhlcGFzdGVFcnJvciApO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVDbG9zZTogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHRoaXMuY29udHJvbGxlci5kZWFjdGl2YXRlTW9kZSggdGhpcy50aGVwYXN0ZS5hY3RpdmUubW9kZSApLmFjdGl2YXRlTW9kZSggJ2VkaXQnICk7XG5cblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2FjdGlvbjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLnN0b3BMaXN0ZW5pbmcoIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdlcnJvcjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0fVxuXHR9KTtcblx0XG59KShqUXVlcnksd2luZG93KTtcbiIsIihmdW5jdGlvbigkLHdpbmRvdyxvKXtcblx0dmFyIHRoZXBhc3RlID0gd3AubWVkaWEudGhlcGFzdGUsXG5cdFx0QnV0dG9uID0gd3AubWVkaWEudmlldy5CdXR0b24sXG5cdFx0TW9kYWwgID0gd3AubWVkaWEudmlldy5Nb2RhbCxcblx0XHRsMTBuICAgPSB0aGVwYXN0ZS5sMTBuO1xuXG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VVcGxvYWRlciA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3RoZXBhc3RlLXVwbG9hZGVyJyksXG5cdFx0Y2xhc3NOYW1lOiAndGhlcGFzdGUtdXBsb2FkZXInLFxuXHRcdGNvbnRyb2xsZXI6bnVsbCxcblx0XHRpbWFnZSA6IG51bGwsXG5cdFx0JGRpc2NhcmRCdG4gOiBudWxsLFxuXHRcdCR1cGxvYWRCdG4gOiBudWxsLFxuXHRcdFxuXHRcdHVwbG9hZGVyIDogbnVsbCxcblx0XHRcblx0XHRldmVudHMgOiB7XG5cdFx0XHQnY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdJ1x0OiAndXBsb2FkSW1hZ2UnLFxuXHRcdFx0J2NsaWNrIFtkYXRhLWFjdGlvbj1cImRpc2NhcmRcIl0nXHQ6ICdkaXNjYXJkSW1hZ2UnLFxuXHRcdH0sXG5cdFx0aW5pdGlhbGl6ZSA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7XG5cdFx0XHRcdGRlZmF1bHRGaWxlTmFtZSA6IGwxMG4uaW1hZ2Vcblx0XHRcdH0pO1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRpbnN0ciA9IG5ldyB3cC5tZWRpYS5WaWV3KHtcblx0XHRcdFx0dGFnTmFtZSAgICA6ICdkaXYnLFxuXHRcdFx0XHRjbGFzc05hbWUgIDogJ2luc3RydW1lbnRzJyxcblx0XHRcdFx0Y29udHJvbGxlciA6IHRoaXMuY29udHJvbGxlclxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMudXBsb2FkZXIgPSB0aGlzLm9wdGlvbnMudXBsb2Rlcjtcblx0XHR9LFxuXHRcdHNldEltYWdlRGF0YSA6IGZ1bmN0aW9uKCBkYXRhICkge1xuXHRcdFx0dmFyIGNvbnRhaW5lciA9IHRoaXMuJGltYWdlQ29udGFpbmVyLmh0bWwoJycpLmdldCgwKSxcblx0XHRcdFx0c2VsZiA9IHRoaXMsXG5cdFx0XHRcdGZvcm1hdCA9IGRhdGEubWF0Y2goL2RhdGE6KGltYWdlXFwvKFxcdyspKTsvKVsxXTtcblxuXHRcdFx0aWYgKCAhIHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0W2Zvcm1hdF0gKSB7XG5cdFx0XHRcdGZvcm1hdCA9IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZUZvcm1hdDtcblx0XHRcdH1cblx0XHRcdFxuXHRcdFx0aWYgKCB0aGlzLmltYWdlICkge1xuXHRcdFx0XHR0aGlzLmltYWdlLmRlc3Ryb3koKTtcblx0XHRcdH1cblxuXHRcdFx0dGhpcy5pbWFnZSA9IG5ldyBvLkltYWdlKCk7XG5cdFx0XHR0aGlzLmltYWdlLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHR2YXIgb3B0cyA9IHNlbGYuZ2V0VXBsb2FkZXIoKS5nZXRPcHRpb24oJ3Jlc2l6ZScpLFxuXHRcdFx0XHRcdHNjYWxlID0gTWF0aC5tYXgoIG9wdHMud2lkdGggLyB0aGlzLndpZHRoLCBvcHRzLmhlaWdodCAvIHRoaXMuaGVpZ2h0ICk7XG5cblx0XHRcdFx0ISFvcHRzICYmIChzY2FsZSA8IDEpICYmIHRoaXMuZG93bnNpemUoIHRoaXMud2lkdGgqc2NhbGUsIHRoaXMuaGVpZ2h0KnNjYWxlICk7XG5cblx0XHRcdFx0dGhpcy5lbWJlZCggY29udGFpbmVyICk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLmltYWdlLmJpbmQoJ1Jlc2l6ZScsIGZ1bmN0aW9uKGUpIHtcblx0XHRcdFx0dGhpcy5lbWJlZCggY29udGFpbmVyICk7XG5cdFx0XHR9KTtcblx0XHRcdHRoaXMuaW1hZ2UubG9hZCggZGF0YSApO1xuXHRcdFx0aWYgKCB0aGlzLiRpbWFnZUNvbnRhaW5lciApIHtcblx0XHRcdFx0dGhpcy4kaW1hZ2VDb250YWluZXIuYXBwZW5kKHRoaXMuaW1hZ2UpO1xuXHRcdFx0fVxuXHRcdFx0dGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwiZm9ybWF0XCJdIGlucHV0W3ZhbHVlPVwiJytmb3JtYXQrJ1wiXScpLnByb3AoICdjaGVja2VkJywgdHJ1ZSApO1xuXG5cblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRyZW5kZXIgOiBmdW5jdGlvbigpIHtcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRpbWFnZUNvbnRhaW5lciA9IHRoaXMuJCgnLmltYWdlLWNvbnRhaW5lcicpO1xuXHRcdFx0dGhpcy4kZGlzY2FyZEJ0biA9IHRoaXMuJCgnW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXScpO1xuXHRcdFx0dGhpcy4kdXBsb2FkQnRuID0gdGhpcy4kKCdbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0nKTtcblx0XHRcdHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cInRpdGxlXCJdJykudmFsKCB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVOYW1lICk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGRpc2NhcmRJbWFnZSA6IGZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246ZGlzY2FyZDpkYXRhaW1hZ2UnICwgdGhpcyApO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkSW1hZ2UgOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dmFyIHR5cGUgPSB0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJmb3JtYXRcIl0gOmNoZWNrZWQnKS52YWwoKSxcblx0XHRcdFx0c3VmZml4ID0gdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbIHR5cGUgXSxcblx0XHRcdFx0bmFtZSA9IHRoaXMuJCgnaW5wdXRbZGF0YS1zZXR0aW5nPVwidGl0bGVcIl0nKS52YWwoKSArICcuJyArIHN1ZmZpeCxcblx0XHRcdFx0YmxvYiA9IHRoaXMuaW1hZ2UuZ2V0QXNCbG9iKCB0eXBlLCB0aGVwYXN0ZS5vcHRpb25zLmpwZWdfcXVhbGl0eSApO1xuXG5cdFx0XHR0aGlzLmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXG5cdFx0XHRibG9iLmRldGFjaCggYmxvYi5nZXRTb3VyY2UoKSApO1xuXHRcdFx0YmxvYi5uYW1lID0gbmFtZTtcblx0XHRcdGJsb2IudHlwZSA9IHR5cGU7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYWRkRmlsZSggYmxvYiAsIG5hbWUgKTtcblxuXHRcdFx0dGhpcy5kaXNhYmxlZCggdHJ1ZSApO1xuXG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246dXBsb2FkOmRhdGFpbWFnZScgLCB0aGlzICk7XG5cdFx0fSxcblx0XHRzaG93OmZ1bmN0aW9uKCl7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJGVsLmhpZGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZGlzYWJsZWQgOiBmdW5jdGlvbiggZGlzYWJsZWQgKSB7XG5cdFx0XHR0aGlzLiRkaXNjYXJkQnRuLnByb3AoICdkaXNhYmxlZCcsIGRpc2FibGVkICk7XG5cdFx0XHR0aGlzLiR1cGxvYWRCdG4ucHJvcCggJ2Rpc2FibGVkJywgZGlzYWJsZWQgKTtcblx0XHR9LFxuXHRcdF91cGxvYWRTdWNjZXNzSGFuZGxlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuZGlzYWJsZWQoZmFsc2UpO1xuXHRcdFx0dGhpcy51bmJpbmRVcGxvYWRlckV2ZW50cygpO1xuXHRcdH0sXG5cdFx0X3VwbG9hZEVycm9ySGFuZGxlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy50cmlnZ2VyKCAnZXJyb3I6dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHRiaW5kVXBsb2FkZXJFdmVudHMgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5iaW5kKCAnRmlsZVVwbG9hZGVkJyxcdHRoaXMuX3VwbG9hZFN1Y2Nlc3NIYW5kbGVyLFx0dGhpcyApO1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmJpbmQoICdFcnJvcicsXHRcdFx0dGhpcy5fdXBsb2FkRXJyb3JIYW5kbGVyLFx0dGhpcyApO1xuXHRcdH0sXG5cdFx0dW5iaW5kVXBsb2FkZXJFdmVudHMgOiBmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS51bmJpbmQoICdGaWxlVXBsb2FkZWQnLFx0dGhpcy5fdXBsb2FkU3VjY2Vzc0hhbmRsZXIsXHR0aGlzICk7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkudW5iaW5kKCAnRXJyb3InLFx0XHRcdHRoaXMuX3VwbG9hZEVycm9ySGFuZGxlcixcdHRoaXMgKTtcblx0XHR9LFxuXHRcdGdldFVwbG9hZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmNvbnRyb2xsZXIudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXI7XG5cdFx0fVxuXHR9KTtcblxuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuUGFzdGVib2FyZCA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3RoZXBhc3RlLXBhc3RlYm9hcmQnKSxcblx0XHRjbGFzc05hbWU6ICd0aGVwYXN0ZS1wYXN0ZWJvYXJkJyxcblx0XHRjb250cm9sbGVyOm51bGwsXG5cdFx0YWN0aW9uOidwYXN0ZScsXG5cdFx0JHBhc3RlYm9hcmQgOiBudWxsLFxuXG5cdFx0cmVuZGVyOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkID0gdGhpcy4kKCAnLmluamVjdG9yJyApLnBhc3RhYmxlQ29udGVudGVkaXRhYmxlKCk7XG5cdFx0XHR0aGlzLiRtZXNzYWdlID0gdGhpcy4kKCAnLm1lc3NhZ2UnICk7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkLm9uKCdjbGljaycsIGZ1bmN0aW9uKCl7XG5cdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCcnKTtcblx0XHRcdH0gKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RhcnQgOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBzZWxmID0gdGhpcyxcblx0XHRcdFx0Y2xpcGJvYXJkSGFzSW1hZ2U7XG5cblx0XHRcdHRoaXMuaW1hZ2VQYXN0ZWQgPSBmYWxzZTtcblxuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub24oJ3Bhc3RlJyxmdW5jdGlvbihlKXtcblx0XHRcdFx0XHRjbGlwYm9hcmRIYXNJbWFnZSA9IHdwLm1lZGlhLnRoZXBhc3RlLmNsaXBib2FyZEhhc0ltYWdlKGUub3JpZ2luYWxFdmVudC5jbGlwYm9hcmREYXRhKTtcblx0XHRcdFx0fSlcblx0XHRcdFx0Lm9uKCdwYXN0ZVRleHQnICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cblx0XHRcdFx0XHRpZiAoIGNsaXBib2FyZEhhc0ltYWdlIHx8IHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCBsMTBuLnBhc3RlX2Vycm9yX25vX2ltYWdlICk7XG5cdFx0XHRcdFx0JCggdGhpcyApLmh0bWwoJycpO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlJyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuXHRcdFx0XHRcdGlmICggc2VsZi5pbWFnZVBhc3RlZCApIHtcblx0XHRcdFx0XHRcdHJldHVybjtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0c2VsZi50cmlnZ2VyKCAnYWN0aW9uOmNyZWF0ZTpkYXRhaW1hZ2UnLCB0aGlzICwgZGF0YS5kYXRhVVJMICk7XG5cdFx0XHRcdFx0c2VsZi5pbWFnZVBhc3RlZCA9IHRydWU7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQub24oJ3Bhc3RlSW1hZ2VFcnJvcicgLCBmdW5jdGlvbiggZSwgZGF0YSApIHtcblx0XHRcdFx0XHRzZWxmLnNob3dfbWVzc2FnZSggbDEwbi5wYXN0ZV9lcnJvciApO1xuXHRcdFx0XHRcdCQoIHRoaXMgKS5odG1sKCcnKTtcblx0XHRcdFx0fSApXG5cdFx0XHRcdDtcblxuXHRcdFx0c2V0VGltZW91dChmdW5jdGlvbigpe1xuXHRcdFx0XHRzZWxmLiRwYXN0ZWJvYXJkLmdldCgwKS5mb2N1cygpO1xuXHRcdFx0fSwxKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdG9wIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRwYXN0ZWJvYXJkXG5cdFx0XHRcdC5vZmYoJ3Bhc3RlSW1hZ2UnKVxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlRXJyb3InKVxuXHRcdFx0XHQub2ZmKCdwYXN0ZVRleHQnKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2hvdzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLnNob3coKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aGlkZTpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuJGVsLmhpZGUoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c2hvd19tZXNzYWdlOmZ1bmN0aW9uKCBtc2cgKSB7XG5cdFx0XHR0aGlzLiRtZXNzYWdlLnRleHQoIG1zZyApO1xuXHRcdH1cblx0fSk7XG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VHcmFiYmVyID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuLy9cdFx0dGFnTmFtZTogICAnZGl2Jyxcblx0XHR0ZW1wbGF0ZTogd3AudGVtcGxhdGUoJ3RoZXBhc3RlLWdyYWJiZXInKSxcblx0XHRjbGFzc05hbWUgOiAndGhlcGFzdGUtZ3JhYmJlcicsXG5cdFx0XG5cdFx0Z3JhYmJlciA6IG51bGwsXG5cdFx0dXBsb2FkZXIgOiBudWxsLFxuXHRcdFxuXHRcdGluaXRpYWxpemUgOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciByZXQgPSB3cC5tZWRpYS5WaWV3LnByb3RvdHlwZS5pbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0Xy5kZWZhdWx0cyggdGhpcy5vcHRpb25zLCB7XG5cdFx0XHRcdHdwdXBsb2FkZXJcdFx0OiBudWxsLFxuXHRcdFx0XHRkZWZhdWx0RmlsZU5hbWVcdDogbDEwbi5wYXN0ZWQsXG5cdFx0XHRcdGRlZmF1bHRGaWxlRm9ybWF0IDogJ2ltYWdlL3BuZycsXG5cdFx0XHRcdHRpdGxlXHRcdFx0OiBsMTBuLmNvcHlfcGFzdGUgXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy5ncmFiYmVyICA9IG5ldyB0aGlzLm9wdGlvbnMuZ3JhYmJlciggeyBjb250cm9sbGVyXHQ6IHRoaXMuY29udHJvbGxlciB9ICk7XG5cblx0XHRcdHRoaXMudXBsb2FkZXIgPSBuZXcgd3AubWVkaWEudGhlcGFzdGUudmlldy5EYXRhU291cmNlSW1hZ2VVcGxvYWRlcigge1x0XG5cdFx0XHRcdFx0XHRcdFx0XHRjb250cm9sbGVyXHRcdFx0OiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdFx0XHRcdFx0XHR1cGxvZGVyXHRcdFx0XHQ6IHRoaXMub3B0aW9ucy53cHVwbG9hZGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lXHRcdDogdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlTmFtZSxcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRGaWxlRm9ybWF0XHQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZUZvcm1hdFxuXHRcdFx0XHRcdFx0XHRcdH0pO1xuXHRcdFx0dGhpcy5yZW5kZXIoKTtcblxuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5ncmFiYmVyLCAnYWN0aW9uOmNyZWF0ZTpkYXRhaW1hZ2UnLFx0dGhpcy5pbWFnZUNyZWF0ZWQgKTtcblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMudXBsb2FkZXIsICdhY3Rpb246ZGlzY2FyZDpkYXRhaW1hZ2UnLFx0dGhpcy5zdGFydEdyYWJiaW5nICk7XG5cblx0XHRcdHJldHVybiByZXQ7XG5cdFx0fSxcblx0XHRyZW5kZXI6ZnVuY3Rpb24oKXtcblx0XHRcdHZhciBzZWxmID0gdGhpcztcblxuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblxuXHRcdFx0dGhpcy4kKCcuY29udGVudCcpXG5cdFx0XHRcdC5hcHBlbmQoIHRoaXMuZ3JhYmJlci5yZW5kZXIoKS4kZWwgKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLnVwbG9hZGVyLnJlbmRlcigpLiRlbCApO1xuXG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGltYWdlQ3JlYXRlZCA6IGZ1bmN0aW9uKCBncmFiYmVyICwgaW1hZ2VEYXRhICkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKS5oaWRlKCk7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLnNob3coKS5zZXRJbWFnZURhdGEoIGltYWdlRGF0YSApO1xuXHRcdH0sXG5cdFx0c3RhcnRHcmFiYmluZzpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMudXBsb2FkZXIuaGlkZSgpO1xuXHRcdFx0dGhpcy5ncmFiYmVyLnNob3coKS5zdGFydCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdG9wR3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRnZXRBY3Rpb24gOiBmdW5jdGlvbigpIHtcblx0XHRcdHJldHVybiB0aGlzLmdyYWJiZXIuYWN0aW9uO1xuXHRcdH0sXG5cdFx0ZGlzbWlzczpmdW5jdGlvbigpIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9XG5cdH0pO1xuXG59KShqUXVlcnksd2luZG93LG1PeGllKTtcbiJdfQ==
