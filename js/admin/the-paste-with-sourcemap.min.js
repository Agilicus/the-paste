(function(){var t,e,n,r,a;t=window.jQuery,t.paste=function(t){var n;return"undefined"!=typeof console&&null!==console&&console.log("DEPRECATED: This method is deprecated. Please use $.fn.pastableNonInputable() instead."),n=e.mountNonInputable(t),n._container},t.fn.pastableNonInputable=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is("textarea, input:text, [contenteditable]")||(e.mountNonInputable(n),n._pastable=!0);return this},t.fn.pastableTextarea=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is(":not(textarea, input:text)")||(e.mountTextarea(n),n._pastable=!0);return this},t.fn.pastableContenteditable=function(){var n,r,a,o;for(o=this,r=0,a=o.length;r<a;r++)n=o[r],n._pastable||t(n).is(":not([contenteditable])")||(e.mountContenteditable(n),n._pastable=!0);return this},r=function(t,e){var n,r,a,o,i,u,s,l,c,f,g;if(null==e&&(e=512),!(l=t.match(/^data\:([^\;]+)\;base64\,(.+)$/)))return null;for(f=l,l=f[0],u=f[1],n=f[2],o=atob(n),a=[],c=0;c<o.length;){for(g=o.slice(c,c+e),i=new Array(g.length),s=0;s<g.length;)i[s]=g.charCodeAt(s),s++;r=new Uint8Array(i),a.push(r),c+=e}return new Blob(a,{type:u})},n=function(){return t(document.createElement("div")).attr("contenteditable",!0).attr("aria-hidden",!0).attr("tabindex",-1).css({width:1,height:1,position:"fixed",left:-100,overflow:"hidden"})},a=function(e,n){var r,a,o,i,u,s;return i=void 0,u=void 0,o=void 0,a=void 0,r=void 0,"area"===(s=e.nodeName.toLowerCase())?(i=e.parentNode,u=i.name,!(!e.href||!u||"map"!==i.nodeName.toLowerCase())&&(o=t("img[usemap='#"+u+"']"),o.length>0&&o.is(":visible"))):(/^(input|select|textarea|button|object)$/.test(s)?(a=!e.disabled)&&(r=t(e).closest("fieldset")[0])&&(a=!r.disabled):a="a"===s?e.href||n:n,(a=a||t(e).is("[contenteditable]"))&&t(e).is(":visible"))},e=function(){function e(e,n){this._container=e,this._target=n,this._container=t(this._container),this._target=t(this._target).addClass("pastable"),this._container.on("paste",function(t){return function(e){var n,r,a,o,i,u,s,l,c,f,g,d,p;if(e.currentTarget!==e.target)return e.preventDefault();if(t._paste_event_fired=!0,null!=(null!=(c=e.originalEvent)?c.clipboardData:void 0))if(n=e.originalEvent.clipboardData,n.items)for(f=n.items,o=0,u=f.length;o<u;o++){if(a=f[o],a.type.match(/^image\//)){l=new FileReader,l.onload=function(e){return t._handleImage(e.target.result)};try{l.readAsDataURL(a.getAsFile())}catch(t){}e.preventDefault();break}"text/plain"===a.type&&a.getAsString(function(e){return t._target.trigger("pasteText",{text:e})})}else-1!==Array.prototype.indexOf.call(n.types,"text/plain")&&(p=n.getData("Text"),setTimeout(function(){return t._target.trigger("pasteText",{text:p})},1)),t._checkImagesInContainer(function(e){return t._handleImage(e)});if(n=window.clipboardData)if(null!=(g=p=n.getData("Text"))?g.length:void 0)setTimeout(function(){return t._target.trigger("pasteText",{text:p}),t._target.trigger("_pasteCheckContainerDone")},1);else{for(d=n.files,i=0,s=d.length;i<s;i++)r=d[i],t._handleImage(URL.createObjectURL(r));t._checkImagesInContainer(function(t){})}return null}}(this))}return e.prototype._target=null,e.prototype._container=null,e.mountNonInputable=function(r){var o;return o=new e(n().appendTo(r),r),t(r).on("click",function(t){return function(t){if(!a(t.target,!1))return o._container.focus()}}()),o._container.on("focus",function(e){return function(){return t(r).addClass("pastable-focus")}}()),o._container.on("blur",function(e){return function(){return t(r).removeClass("pastable-focus")}}())},e.mountTextarea=function(r){var a,o,i,u;return("undefined"!=typeof DataTransfer&&null!==DataTransfer?DataTransfer.prototype:void 0)&&(null!=(i=Object.getOwnPropertyDescriptor)&&null!=(u=i.call(Object,DataTransfer.prototype,"items"))?u.get:void 0)?this.mountContenteditable(r):(o=new e(n().insertBefore(r),r),a=!1,t(r).on("keyup",function(t){var e;return 17!==(e=t.keyCode)&&224!==e||(a=!1),null}),t(r).on("keydown",function(e){var n;return 17!==(n=e.keyCode)&&224!==n||(a=!0),null!=e.ctrlKey&&null!=e.metaKey&&(a=e.ctrlKey||e.metaKey),a&&86===e.keyCode&&(o._textarea_focus_stolen=!0,o._container.focus(),o._paste_event_fired=!1,setTimeout(function(e){return function(){if(!o._paste_event_fired)return t(r).focus(),o._textarea_focus_stolen=!1}}(),1)),null}),t(r).on("paste",function(t){return function(){}}()),t(r).on("focus",function(e){return function(){if(!o._textarea_focus_stolen)return t(r).addClass("pastable-focus")}}()),t(r).on("blur",function(e){return function(){if(!o._textarea_focus_stolen)return t(r).removeClass("pastable-focus")}}()),t(o._target).on("_pasteCheckContainerDone",function(e){return function(){return t(r).focus(),o._textarea_focus_stolen=!1}}()),t(o._target).on("pasteText",function(e){return function(e,n){var a,o,i;return i=t(r).prop("selectionStart"),o=t(r).prop("selectionEnd"),a=t(r).val(),t(r).val(""+a.slice(0,i)+n.text+a.slice(o)),t(r)[0].setSelectionRange(i+n.text.length,i+n.text.length),t(r).trigger("change")}}()))},e.mountContenteditable=function(n){return new e(n,n),t(n).on("focus",function(e){return function(){return t(n).addClass("pastable-focus")}}()),t(n).on("blur",function(e){return function(){return t(n).removeClass("pastable-focus")}}())},e.prototype._handleImage=function(t){var e;return t.match(/^webkit\-fake\-url\:\/\//)?this._target.trigger("pasteImageError",{message:"You are trying to paste an image in Safari, however we are unable to retieve its data."}):(this._target.trigger("pasteImageStart"),e=new Image,e.crossOrigin="anonymous",e.onload=function(t){return function(){var n,a,o,i;a=document.createElement("canvas"),a.width=e.width,a.height=e.height,o=a.getContext("2d"),o.drawImage(e,0,0,a.width,a.height),i=null;try{i=a.toDataURL("image/png"),n=r(i)}catch(t){}return i&&t._target.trigger("pasteImage",{blob:n,dataURL:i,width:e.width,height:e.height}),t._target.trigger("pasteImageEnd")}}(this),e.onerror=function(e){return function(){return e._target.trigger("pasteImageError",{message:"Failed to get image from: "+t,url:t}),e._target.trigger("pasteImageEnd")}}(this),e.src=t)},e.prototype._checkImagesInContainer=function(e){var n,r,a,o,i;for(i=Math.floor(1e3*Math.random()),o=this._container.find("img"),r=0,a=o.length;r<a;r++)n=o[r],n["_paste_marked_"+i]=!0;return setTimeout(function(r){return function(){var a,o,u;for(u=r._container.find("img"),a=0,o=u.length;a<o;a++)n=u[a],n["_paste_marked_"+i]||(e(n.src),t(n).remove());return r._target.trigger("_pasteCheckContainerDone")}}(this),1)},e}()}).call(this);
!function(e,t){var a,n=(navigator.userAgent.indexOf("Chrome"),0);thepaste=t.thepaste=e.extend({supports:{paste:"paste"in document||"onpaste"in document||"object"==typeof window.onpaste||"onpaste"in document.createElement("DIV")},view:{},insertImage:function(e,t,a){var o,p="__thepaste_img_"+n++,i=new Image,s=new mOxie.File(null,{data:e}),l="";l+='<div class="thepaste-image-placeholder" id="'+p+'" contenteditable="false">',l+='<img class="alignnone size-full" src="'+e+'" />',l+="</div>",i.onload=function(){thepaste.uploadImage(s,o)},i.src=e,a.insertContent(l),o=a.$("#"+p)},uploadImage:function(e,t){var n=e.type,o=thepaste.options.mime_types.convert[n],p=thepaste.l10n.pasted+"."+o,i=e instanceof mOxie.File?e:e.getAsBlob(n,thepaste.options.jpeg_quality),s=function(){a.uploader.uploader.uploader.addFile(i),a.close()};i.name=p,i.type=n,a?(a.state().reset(),s()):(a=wp.media.editor.open(window.wpActiveEditor,{frame:"post",state:"insert",title:thepaste.l10n.copy_paste,multiple:!1}),a.uploader.uploader&&a.uploader.uploader.ready?s():a.on("uploader:ready",s)),a.uploader.uploader.uploader.bind("UploadProgress",function(e){t.attr("data-progress",e.total.percent)}),a.uploader.uploader.uploader.bind("FileUploaded",function(e,a){t.replaceWith('<img class="alignnone wp-image-'+a.attachment.id+' size-full" src="'+a.attachment.changed.url+'" />')}),a.uploader.uploader.uploader.bind("Error",function(e,t){console.log(e,t)})},clipboardHasImage:function(t){var a=!1;return t.items?(e.each(t.items,function(e,t){if(t.type in thepaste.options.mime_types.paste)return a=!0,!1}),a):t.types?(e.each(thepaste.options.mime_types.paste,function(e,n){if(t.types.indexOf(e)>-1)return a=!0,!1}),a):(console.log(t),null)}},thepaste)}(jQuery,wp.media);
!function(e,t){var a=wp.media.thepaste.l10n;navigator.userAgent.indexOf("Chrome");e.extend(wp.Uploader.prototype,{success:function(e){}}),_.extend(wp.media.view.MediaFrame.Select.prototype,{_parentInitialize:wp.media.view.MediaFrame.Select.prototype.initialize,initialize:function(){this._parentInitialize.apply(this,arguments),this.bindPasteHandlers()},_parentBrowseRouter:wp.media.view.MediaFrame.Select.prototype.browseRouter,browseRouter:function(e){this._parentBrowseRouter.apply(this,arguments),wp.media.thepaste.supports.paste&&e.set({pasteboard:{text:a.copy_paste,priority:35}})},bindPasteHandlers:function(){var e=!1;this.on("content:render close",function(t){e&&"function"==typeof e.dismiss&&e.dismiss(),void 0!==t&&(e=t)},this),this.on("content:create:pasteboard",this.contentCreatePasteboard,this),this.on("content:render:pasteboard",this.contentRenderGrabber,this),frame=this},contentCreatePasteboard:function(e){this.state();this.currentPasteView=e.view=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this,grabber:wp.media.thepaste.view.Pasteboard}),this.listenTo(this.currentPasteView.uploader,"action:uploaded:dataimage",this.uploadedDataImage)},contentRenderGrabber:function(e){e.startGrabbing()},uploadedDataImage:function(e){this.stopListening(this.currentPasteView.uploader,"action:uploaded:dataimage");var t={view:null};this.browseContent(t),this.content.set(t.view),this.router.get().select("browse")}}),_.extend(wp.media.view.AttachmentsBrowser.prototype,{_parentInitialize:wp.media.view.AttachmentsBrowser.prototype.initialize,initialize:function(){var e,t=this;this._parentInitialize.apply(this,arguments),this.thepaste={paste:{grabber:!1,modal:!1,mode:"paste"},current:!1},this.controller instanceof wp.media.view.MediaFrame.Select||wp.media.thepaste.supports.paste&&(e=new wp.media.view.Button({text:a.copy_paste,className:"grabber-button",priority:-64,click:function(){t.thepaste.active=t.thepaste.paste,t.pasteOpen(a.copy_paste)}}),this.thepaste.paste.grabber=new wp.media.thepaste.view.DataSourceImageGrabber({controller:this.controller,grabber:wp.media.thepaste.view.Pasteboard,wpuploader:this.controller.uploader.uploader.uploader}),this.toolbar.set("pasteModeButton",e.render()))},thepasteUploaded:function(e){this.thepaste.active.grabber.dismiss(),this.thepaste.modal.close(),this.thepasteClose()},thepasteError:function(e){console.log("error",e)},pasteOpen:function(e){var t=this;this.thepaste.modal=new wp.media.view.Modal({controller:this,title:e}),this.thepaste.modal.content(this.thepaste.active.grabber),this.thepaste.modal.open(),this.thepaste.modal.on("close",function(){t.thepasteClose.apply(t),t.thepaste.active.grabber.stopGrabbing()}),this.thepaste.active.grabber.startGrabbing(),this.listenTo(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage",this.thepasteUploaded),this.listenTo(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage",this.thepasteError)},thepasteClose:function(){this.controller.deactivateMode(this.thepaste.active.mode).activateMode("edit"),this.stopListening(this.thepaste.active.grabber.uploader,"action:uploaded:dataimage"),this.stopListening(this.thepaste.active.grabber.uploader,"error:uploaded:dataimage")}})}(jQuery,window);
!function(t,e,i){var a=wp.media.thepaste,s=(wp.media.view.Button,wp.media.view.Modal,a.l10n);wp.media.thepaste.view.DataSourceImageUploader=wp.media.View.extend({template:wp.template("thepaste-uploader"),className:"thepaste-uploader",controller:null,image:null,$discardBtn:null,$uploadBtn:null,uploader:null,events:{'click [data-action="upload"]':"uploadImage",'click [data-action="discard"]':"discardImage"},initialize:function(){wp.media.View.prototype.initialize.apply(this,arguments),_.defaults(this.options,{defaultFileName:s.image});new wp.media.View({tagName:"div",className:"instruments",controller:this.controller});this.uploader=this.options.uploder},setImageData:function(t){var e=this.$imageContainer.html("").get(0),s=this,o=t.match(/data:(image\/(\w+));/)[1];return a.options.mime_types.convert[o]||(o=this.options.defaultFileFormat),this.image&&this.image.destroy(),this.image=new i.Image,this.image.onload=function(){var t=s.getUploader().getOption("resize"),i=Math.max(t.width/this.width,t.height/this.height);!!t&&i<1&&this.downsize(this.width*i,this.height*i),this.embed(e)},this.image.bind("Resize",function(t){this.embed(e)}),this.image.load(t),this.$imageContainer&&this.$imageContainer.append(this.image),this.$('[data-setting="format"] input[value="'+o+'"]').prop("checked",!0),this.disabled(!1),this},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$imageContainer=this.$(".image-container"),this.$discardBtn=this.$('[data-action="discard"]'),this.$uploadBtn=this.$('[data-action="upload"]'),this.$('[data-setting="title"]').val(this.options.defaultFileName),this},discardImage:function(){this.trigger("action:discard:dataimage",this),this.unbindUploaderEvents()},uploadImage:function(){var t=this.$('[data-setting="format"] :checked').val(),e=a.options.mime_types.convert[t],i=this.$('input[data-setting="title"]').val()+"."+e,s=this.image.getAsBlob(t,a.options.jpeg_quality);this.bindUploaderEvents(),s.detach(s.getSource()),s.name=i,s.type=t,this.getUploader().addFile(s,i),this.disabled(!0),this.trigger("action:upload:dataimage",this)},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},disabled:function(t){this.$discardBtn.prop("disabled",t),this.$uploadBtn.prop("disabled",t)},_uploadSuccessHandler:function(){this.trigger("action:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},_uploadErrorHandler:function(){this.trigger("error:uploaded:dataimage"),this.disabled(!1),this.unbindUploaderEvents()},bindUploaderEvents:function(){this.getUploader().bind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().bind("Error",this._uploadErrorHandler,this)},unbindUploaderEvents:function(){this.getUploader().unbind("FileUploaded",this._uploadSuccessHandler,this),this.getUploader().unbind("Error",this._uploadErrorHandler,this)},getUploader:function(){return this.controller.uploader.uploader.uploader}}),wp.media.thepaste.view.Pasteboard=wp.media.View.extend({template:wp.template("thepaste-pasteboard"),className:"thepaste-pasteboard",controller:null,action:"paste",$pasteboard:null,render:function(){var t=this;return wp.media.View.prototype.render.apply(this,arguments),this.$pasteboard=this.$(".injector").pastableContenteditable(),this.$message=this.$(".message"),this.$pasteboard.on("click",function(){t.show_message("")}),this},start:function(){var e=this;return this.imagePasted=!1,this.$pasteboard.on("paste",function(t){console.log(t.originalEvent.clipboardData.types)}).on("pasteText",function(i,a){console.log(i,a),e.imagePasted||(e.show_message(s.paste_error_no_image),t(this).html(""))}).on("pasteImage",function(t,i){console.log(t,i),e.imagePasted||(e.trigger("action:create:dataimage",this,i.dataURL),e.imagePasted=!0)}).on("pasteImageError",function(i,a){e.show_message(s.paste_error),t(this).html("")}),setTimeout(function(){e.$pasteboard.get(0).focus()},1),this},stop:function(){return this.$pasteboard.off("pasteImage").off("pasteImageError").off("pasteText"),this},show:function(){return this.$el.show(),this},hide:function(){return this.$el.hide(),this},show_message:function(t){this.$message.text(t)}}),wp.media.thepaste.view.DataSourceImageGrabber=wp.media.View.extend({template:wp.template("thepaste-grabber"),className:"thepaste-grabber",grabber:null,uploader:null,initialize:function(){var t=wp.media.View.prototype.initialize.apply(this,arguments);return _.defaults(this.options,{wpuploader:null,defaultFileName:s.pasted,defaultFileFormat:"image/png",title:s.copy_paste}),this.grabber=new this.options.grabber({controller:this.controller}),this.uploader=new wp.media.thepaste.view.DataSourceImageUploader({controller:this.controller,uploder:this.options.wpuploader,defaultFileName:this.options.defaultFileName,defaultFileFormat:this.options.defaultFileFormat}),this.render(),this.listenTo(this.grabber,"action:create:dataimage",this.imageCreated),this.listenTo(this.uploader,"action:discard:dataimage",this.startGrabbing),t},render:function(){return wp.media.View.prototype.render.apply(this,arguments),this.$(".content").append(this.grabber.render().$el).append(this.uploader.render().$el),this},imageCreated:function(t,e){this.grabber.stop().hide(),this.uploader.show().setImageData(e)},startGrabbing:function(){return this.uploader.hide(),this.grabber.show().start(),this},stopGrabbing:function(){return this.grabber.stop(),this},getAction:function(){return this.grabber.action},dismiss:function(){return this.grabber.stop(),this}})}(jQuery,window,mOxie);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInBhc3RlLmpzIiwidGhlLXBhc3RlLWJhc2UuanMiLCJ0aGUtcGFzdGUuanMiLCJtZWRpYS12aWV3LmpzIl0sIm5hbWVzIjpbIiQiLCJQYXN0ZSIsImNyZWF0ZUhpZGRlbkVkaXRhYmxlIiwiZGF0YVVSTHRvQmxvYiIsImlzRm9jdXNhYmxlIiwid2luZG93IiwialF1ZXJ5IiwicGFzdGUiLCJwYXN0ZUNvbnRhaW5lciIsInBtIiwiY29uc29sZSIsImxvZyIsIm1vdW50Tm9uSW5wdXRhYmxlIiwiX2NvbnRhaW5lciIsImZuIiwicGFzdGFibGVOb25JbnB1dGFibGUiLCJlbCIsImoiLCJsZW4iLCJyZWYiLCJ0aGlzIiwibGVuZ3RoIiwiX3Bhc3RhYmxlIiwiaXMiLCJwYXN0YWJsZVRleHRhcmVhIiwibW91bnRUZXh0YXJlYSIsInBhc3RhYmxlQ29udGVudGVkaXRhYmxlIiwibW91bnRDb250ZW50ZWRpdGFibGUiLCJkYXRhVVJMIiwic2xpY2VTaXplIiwiYjY0RGF0YSIsImJ5dGVBcnJheSIsImJ5dGVBcnJheXMiLCJieXRlQ2hhcmFjdGVycyIsImJ5dGVOdW1iZXJzIiwiY29udGVudFR5cGUiLCJpIiwibSIsIm9mZnNldCIsInNsaWNlIiwibWF0Y2giLCJhdG9iIiwiQXJyYXkiLCJjaGFyQ29kZUF0IiwiVWludDhBcnJheSIsInB1c2giLCJCbG9iIiwidHlwZSIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImF0dHIiLCJjc3MiLCJ3aWR0aCIsImhlaWdodCIsInBvc2l0aW9uIiwibGVmdCIsIm92ZXJmbG93IiwiZWxlbWVudCIsImhhc1RhYmluZGV4IiwiZmllbGRzZXQiLCJmb2N1c2FibGVJZlZpc2libGUiLCJpbWciLCJtYXAiLCJtYXBOYW1lIiwibm9kZU5hbWUiLCJ0b0xvd2VyQ2FzZSIsInBhcmVudE5vZGUiLCJuYW1lIiwiaHJlZiIsInRlc3QiLCJkaXNhYmxlZCIsImNsb3Nlc3QiLCJfdGFyZ2V0IiwiYWRkQ2xhc3MiLCJvbiIsIl90aGlzIiwiZXYiLCJjbGlwYm9hcmREYXRhIiwiZmlsZSIsIml0ZW0iLCJrIiwibGVuMSIsInJlYWRlciIsInJlZjEiLCJyZWYyIiwicmVmMyIsInRleHQiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwicHJldmVudERlZmF1bHQiLCJfcGFzdGVfZXZlbnRfZmlyZWQiLCJvcmlnaW5hbEV2ZW50IiwiaXRlbXMiLCJGaWxlUmVhZGVyIiwib25sb2FkIiwiZXZlbnQiLCJfaGFuZGxlSW1hZ2UiLCJyZXN1bHQiLCJyZWFkQXNEYXRhVVJMIiwiZ2V0QXNGaWxlIiwiZXJyb3IiLCJnZXRBc1N0cmluZyIsInN0cmluZyIsInRyaWdnZXIiLCJwcm90b3R5cGUiLCJpbmRleE9mIiwiY2FsbCIsInR5cGVzIiwiZ2V0RGF0YSIsInNldFRpbWVvdXQiLCJfY2hlY2tJbWFnZXNJbkNvbnRhaW5lciIsInNyYyIsImZpbGVzIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwibm9uSW5wdXRhYmxlIiwiYXBwZW5kVG8iLCJmb2N1cyIsInJlbW92ZUNsYXNzIiwidGV4dGFyZWEiLCJjdGxEb3duIiwiRGF0YVRyYW5zZmVyIiwiT2JqZWN0IiwiZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yIiwiZ2V0IiwiaW5zZXJ0QmVmb3JlIiwia2V5Q29kZSIsImN0cmxLZXkiLCJtZXRhS2V5IiwiX3RleHRhcmVhX2ZvY3VzX3N0b2xlbiIsImRhdGEiLCJjb250ZW50IiwiY3VyRW5kIiwiY3VyU3RhcnQiLCJwcm9wIiwidmFsIiwic2V0U2VsZWN0aW9uUmFuZ2UiLCJjb250ZW50ZWRpdGFibGUiLCJsb2FkZXIiLCJtZXNzYWdlIiwiSW1hZ2UiLCJjcm9zc09yaWdpbiIsImJsb2IiLCJjYW52YXMiLCJjdHgiLCJnZXRDb250ZXh0IiwiZHJhd0ltYWdlIiwidG9EYXRhVVJMIiwib25lcnJvciIsInVybCIsImNiIiwidGltZXNwYW4iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJmaW5kIiwicmVtb3ZlIiwiZXhwb3J0cyIsIndvcmtmbG93IiwiY291bnRlciIsIm5hdmlnYXRvciIsInVzZXJBZ2VudCIsInRoZXBhc3RlIiwiZXh0ZW5kIiwic3VwcG9ydHMiLCJ2aWV3IiwiaW5zZXJ0SW1hZ2UiLCJlZGl0b3IiLCIkY29udGFpbmVyIiwiaWQiLCJpbWFnZSIsIm1PeGllIiwiRmlsZSIsImltYWdlSHRtbCIsInVwbG9hZEltYWdlIiwiaW5zZXJ0Q29udGVudCIsInN1ZmZpeCIsIm9wdGlvbnMiLCJtaW1lX3R5cGVzIiwiY29udmVydCIsImwxMG4iLCJwYXN0ZWQiLCJnZXRBc0Jsb2IiLCJqcGVnX3F1YWxpdHkiLCJhZGRGaWxlIiwidXBsb2FkZXIiLCJjbG9zZSIsInN0YXRlIiwicmVzZXQiLCJ3cCIsIm1lZGlhIiwib3BlbiIsIndwQWN0aXZlRWRpdG9yIiwiZnJhbWUiLCJ0aXRsZSIsImNvcHlfcGFzdGUiLCJtdWx0aXBsZSIsInJlYWR5IiwiYmluZCIsImUiLCJ0b3RhbCIsInBlcmNlbnQiLCJhcmdzIiwicmVwbGFjZVdpdGgiLCJhdHRhY2htZW50IiwiY2hhbmdlZCIsImNsaXBib2FyZEhhc0ltYWdlIiwiaGFzSW1hZ2UiLCJlYWNoIiwiZXh0IiwiVXBsb2FkZXIiLCJzdWNjZXNzIiwiZmlsZV9hdHRhY2htZW50IiwiXyIsIk1lZGlhRnJhbWUiLCJTZWxlY3QiLCJfcGFyZW50SW5pdGlhbGl6ZSIsImluaXRpYWxpemUiLCJhcHBseSIsImFyZ3VtZW50cyIsImJpbmRQYXN0ZUhhbmRsZXJzIiwiX3BhcmVudEJyb3dzZVJvdXRlciIsImJyb3dzZVJvdXRlciIsInNldCIsInBhc3RlYm9hcmQiLCJwcmlvcml0eSIsInByZXZpb3VzQ29udGVudCIsImRpc21pc3MiLCJjb250ZW50Q3JlYXRlUGFzdGVib2FyZCIsImNvbnRlbnRSZW5kZXJHcmFiYmVyIiwiY3VycmVudFBhc3RlVmlldyIsIkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIiLCJjb250cm9sbGVyIiwiZ3JhYmJlciIsIlBhc3RlYm9hcmQiLCJsaXN0ZW5UbyIsInVwbG9hZGVkRGF0YUltYWdlIiwic3RhcnRHcmFiYmluZyIsInN0b3BMaXN0ZW5pbmciLCJvYmoiLCJicm93c2VDb250ZW50Iiwicm91dGVyIiwic2VsZWN0IiwiQXR0YWNobWVudHNCcm93c2VyIiwicGFzdGVCdG4iLCJzZWxmIiwibW9kYWwiLCJtb2RlIiwiY3VycmVudCIsIkJ1dHRvbiIsImNsYXNzTmFtZSIsImNsaWNrIiwiYWN0aXZlIiwicGFzdGVPcGVuIiwid3B1cGxvYWRlciIsInRvb2xiYXIiLCJyZW5kZXIiLCJ0aGVwYXN0ZVVwbG9hZGVkIiwidGhlcGFzdGVDbG9zZSIsInRoZXBhc3RlRXJyb3IiLCJNb2RhbCIsInN0b3BHcmFiYmluZyIsImRlYWN0aXZhdGVNb2RlIiwiYWN0aXZhdGVNb2RlIiwibyIsIkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyIiwiVmlldyIsInRlbXBsYXRlIiwiJGRpc2NhcmRCdG4iLCIkdXBsb2FkQnRuIiwiZXZlbnRzIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwidXBsb2FkXCJdIiwiY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSIsImRlZmF1bHRzIiwiZGVmYXVsdEZpbGVOYW1lIiwidGFnTmFtZSIsInVwbG9kZXIiLCJzZXRJbWFnZURhdGEiLCJjb250YWluZXIiLCIkaW1hZ2VDb250YWluZXIiLCJodG1sIiwiZm9ybWF0IiwiZGVmYXVsdEZpbGVGb3JtYXQiLCJkZXN0cm95Iiwib3B0cyIsImdldFVwbG9hZGVyIiwiZ2V0T3B0aW9uIiwic2NhbGUiLCJtYXgiLCJkb3duc2l6ZSIsImVtYmVkIiwibG9hZCIsImFwcGVuZCIsImRpc2NhcmRJbWFnZSIsInVuYmluZFVwbG9hZGVyRXZlbnRzIiwiYmluZFVwbG9hZGVyRXZlbnRzIiwiZGV0YWNoIiwiZ2V0U291cmNlIiwic2hvdyIsIiRlbCIsImhpZGUiLCJfdXBsb2FkU3VjY2Vzc0hhbmRsZXIiLCJfdXBsb2FkRXJyb3JIYW5kbGVyIiwidW5iaW5kIiwiYWN0aW9uIiwiJHBhc3RlYm9hcmQiLCIkbWVzc2FnZSIsInNob3dfbWVzc2FnZSIsInN0YXJ0IiwiaW1hZ2VQYXN0ZWQiLCJwYXN0ZV9lcnJvcl9ub19pbWFnZSIsInBhc3RlX2Vycm9yIiwic3RvcCIsIm9mZiIsIm1zZyIsInJldCIsImltYWdlQ3JlYXRlZCIsImltYWdlRGF0YSIsImdldEFjdGlvbiJdLCJtYXBwaW5ncyI6IkNBUUEsV0FDRSxHQUFJQSxHQUFHQyxFQUFPQyxFQUFzQkMsRUFBZUMsQ0FFbkRKLEdBQUlLLE9BQU9DLE9BRVhOLEVBQUVPLE1BQVEsU0FBU0MsR0FDakIsR0FBSUMsRUFLSixPQUp1QixtQkFBWkMsVUFBdUMsT0FBWkEsU0FDcENBLFFBQVFDLElBQUksMEZBRWRGLEVBQUtSLEVBQU1XLGtCQUFrQkosR0FDdEJDLEVBQUdJLFlBR1piLEVBQUVjLEdBQUdDLHFCQUF1QixXQUMxQixHQUFJQyxHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JDRCxFQUFLRyxFQUFJRixHQUNMRCxFQUFHTSxXQUFhdEIsRUFBRWdCLEdBQUlPLEdBQUcsNkNBRzdCdEIsRUFBTVcsa0JBQWtCSSxHQUN4QkEsRUFBR00sV0FBWSxFQUVqQixPQUFPRixPQUdUcEIsRUFBRWMsR0FBR1UsaUJBQW1CLFdBQ3RCLEdBQUlSLEdBQUlDLEVBQUdDLEVBQUtDLENBRWhCLEtBREFBLEVBQU1DLEtBQ0RILEVBQUksRUFBR0MsRUFBTUMsRUFBSUUsT0FBUUosRUFBSUMsRUFBS0QsSUFDckNELEVBQUtHLEVBQUlGLEdBQ0xELEVBQUdNLFdBQWF0QixFQUFFZ0IsR0FBSU8sR0FBRyxnQ0FHN0J0QixFQUFNd0IsY0FBY1QsR0FDcEJBLEVBQUdNLFdBQVksRUFFakIsT0FBT0YsT0FHVHBCLEVBQUVjLEdBQUdZLHdCQUEwQixXQUM3QixHQUFJVixHQUFJQyxFQUFHQyxFQUFLQyxDQUVoQixLQURBQSxFQUFNQyxLQUNESCxFQUFJLEVBQUdDLEVBQU1DLEVBQUlFLE9BQVFKLEVBQUlDLEVBQUtELElBQ3JD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QUNOcFMsTUFFUjBTLFVBQVksV0FDWCxNQUFPMVMsTUFBS3FOLFFBQVF1RSxRQUVyQjdFLFFBQVEsV0FFUCxNQURBL00sTUFBS3FOLFFBQVErRSxPQUNOcFMsU0FJUGQsT0FBT0QsT0FBT3NLIiwiZmlsZSI6InRoZS1wYXN0ZS13aXRoLXNvdXJjZW1hcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIvLyBHZW5lcmF0ZWQgYnkgQ29mZmVlU2NyaXB0IDEuMTIuN1xuXG4vKlxucGFzdGUuanMgaXMgYW4gaW50ZXJmYWNlIHRvIHJlYWQgZGF0YSAoIHRleHQgLyBpbWFnZSApIGZyb20gY2xpcGJvYXJkIGluIGRpZmZlcmVudCBicm93c2Vycy4gSXQgYWxzbyBjb250YWlucyBzZXZlcmFsIGhhY2tzLlxuXG5odHRwczovL2dpdGh1Yi5jb20vbGF5ZXJzc3NzL3Bhc3RlLmpzXG4gKi9cblxuKGZ1bmN0aW9uKCkge1xuICB2YXIgJCwgUGFzdGUsIGNyZWF0ZUhpZGRlbkVkaXRhYmxlLCBkYXRhVVJMdG9CbG9iLCBpc0ZvY3VzYWJsZTtcblxuICAkID0gd2luZG93LmpRdWVyeTtcblxuICAkLnBhc3RlID0gZnVuY3Rpb24ocGFzdGVDb250YWluZXIpIHtcbiAgICB2YXIgcG07XG4gICAgaWYgKHR5cGVvZiBjb25zb2xlICE9PSBcInVuZGVmaW5lZFwiICYmIGNvbnNvbGUgIT09IG51bGwpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiREVQUkVDQVRFRDogVGhpcyBtZXRob2QgaXMgZGVwcmVjYXRlZC4gUGxlYXNlIHVzZSAkLmZuLnBhc3RhYmxlTm9uSW5wdXRhYmxlKCkgaW5zdGVhZC5cIik7XG4gICAgfVxuICAgIHBtID0gUGFzdGUubW91bnROb25JbnB1dGFibGUocGFzdGVDb250YWluZXIpO1xuICAgIHJldHVybiBwbS5fY29udGFpbmVyO1xuICB9O1xuXG4gICQuZm4ucGFzdGFibGVOb25JbnB1dGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZWwsIGosIGxlbiwgcmVmO1xuICAgIHJlZiA9IHRoaXM7XG4gICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICBlbCA9IHJlZltqXTtcbiAgICAgIGlmIChlbC5fcGFzdGFibGUgfHwgJChlbCkuaXMoJ3RleHRhcmVhLCBpbnB1dDp0ZXh0LCBbY29udGVudGVkaXRhYmxlXScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnROb25JbnB1dGFibGUoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgJC5mbi5wYXN0YWJsZVRleHRhcmVhID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCc6bm90KHRleHRhcmVhLCBpbnB1dDp0ZXh0KScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnRUZXh0YXJlYShlbCk7XG4gICAgICBlbC5fcGFzdGFibGUgPSB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcztcbiAgfTtcblxuICAkLmZuLnBhc3RhYmxlQ29udGVudGVkaXRhYmxlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGVsLCBqLCBsZW4sIHJlZjtcbiAgICByZWYgPSB0aGlzO1xuICAgIGZvciAoaiA9IDAsIGxlbiA9IHJlZi5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgZWwgPSByZWZbal07XG4gICAgICBpZiAoZWwuX3Bhc3RhYmxlIHx8ICQoZWwpLmlzKCc6bm90KFtjb250ZW50ZWRpdGFibGVdKScpKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgUGFzdGUubW91bnRDb250ZW50ZWRpdGFibGUoZWwpO1xuICAgICAgZWwuX3Bhc3RhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG5cbiAgZGF0YVVSTHRvQmxvYiA9IGZ1bmN0aW9uKGRhdGFVUkwsIHNsaWNlU2l6ZSkge1xuICAgIHZhciBiNjREYXRhLCBieXRlQXJyYXksIGJ5dGVBcnJheXMsIGJ5dGVDaGFyYWN0ZXJzLCBieXRlTnVtYmVycywgY29udGVudFR5cGUsIGksIG0sIG9mZnNldCwgcmVmLCBzbGljZTtcbiAgICBpZiAoc2xpY2VTaXplID09IG51bGwpIHtcbiAgICAgIHNsaWNlU2l6ZSA9IDUxMjtcbiAgICB9XG4gICAgaWYgKCEobSA9IGRhdGFVUkwubWF0Y2goL15kYXRhXFw6KFteXFw7XSspXFw7YmFzZTY0XFwsKC4rKSQvKSkpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZWYgPSBtLCBtID0gcmVmWzBdLCBjb250ZW50VHlwZSA9IHJlZlsxXSwgYjY0RGF0YSA9IHJlZlsyXTtcbiAgICBieXRlQ2hhcmFjdGVycyA9IGF0b2IoYjY0RGF0YSk7XG4gICAgYnl0ZUFycmF5cyA9IFtdO1xuICAgIG9mZnNldCA9IDA7XG4gICAgd2hpbGUgKG9mZnNldCA8IGJ5dGVDaGFyYWN0ZXJzLmxlbmd0aCkge1xuICAgICAgc2xpY2UgPSBieXRlQ2hhcmFjdGVycy5zbGljZShvZmZzZXQsIG9mZnNldCArIHNsaWNlU2l6ZSk7XG4gICAgICBieXRlTnVtYmVycyA9IG5ldyBBcnJheShzbGljZS5sZW5ndGgpO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHNsaWNlLmxlbmd0aCkge1xuICAgICAgICBieXRlTnVtYmVyc1tpXSA9IHNsaWNlLmNoYXJDb2RlQXQoaSk7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGJ5dGVBcnJheSA9IG5ldyBVaW50OEFycmF5KGJ5dGVOdW1iZXJzKTtcbiAgICAgIGJ5dGVBcnJheXMucHVzaChieXRlQXJyYXkpO1xuICAgICAgb2Zmc2V0ICs9IHNsaWNlU2l6ZTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBCbG9iKGJ5dGVBcnJheXMsIHtcbiAgICAgIHR5cGU6IGNvbnRlbnRUeXBlXG4gICAgfSk7XG4gIH07XG5cbiAgY3JlYXRlSGlkZGVuRWRpdGFibGUgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJChkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdkaXYnKSkuYXR0cignY29udGVudGVkaXRhYmxlJywgdHJ1ZSkuYXR0cignYXJpYS1oaWRkZW4nLCB0cnVlKS5hdHRyKCd0YWJpbmRleCcsIC0xKS5jc3Moe1xuICAgICAgd2lkdGg6IDEsXG4gICAgICBoZWlnaHQ6IDEsXG4gICAgICBwb3NpdGlvbjogJ2ZpeGVkJyxcbiAgICAgIGxlZnQ6IC0xMDAsXG4gICAgICBvdmVyZmxvdzogJ2hpZGRlbidcbiAgICB9KTtcbiAgfTtcblxuICBpc0ZvY3VzYWJsZSA9IGZ1bmN0aW9uKGVsZW1lbnQsIGhhc1RhYmluZGV4KSB7XG4gICAgdmFyIGZpZWxkc2V0LCBmb2N1c2FibGVJZlZpc2libGUsIGltZywgbWFwLCBtYXBOYW1lLCBub2RlTmFtZTtcbiAgICBtYXAgPSB2b2lkIDA7XG4gICAgbWFwTmFtZSA9IHZvaWQgMDtcbiAgICBpbWcgPSB2b2lkIDA7XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gdm9pZCAwO1xuICAgIGZpZWxkc2V0ID0gdm9pZCAwO1xuICAgIG5vZGVOYW1lID0gZWxlbWVudC5ub2RlTmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgIGlmICgnYXJlYScgPT09IG5vZGVOYW1lKSB7XG4gICAgICBtYXAgPSBlbGVtZW50LnBhcmVudE5vZGU7XG4gICAgICBtYXBOYW1lID0gbWFwLm5hbWU7XG4gICAgICBpZiAoIWVsZW1lbnQuaHJlZiB8fCAhbWFwTmFtZSB8fCBtYXAubm9kZU5hbWUudG9Mb3dlckNhc2UoKSAhPT0gJ21hcCcpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgfVxuICAgICAgaW1nID0gJCgnaW1nW3VzZW1hcD1cXCcjJyArIG1hcE5hbWUgKyAnXFwnXScpO1xuICAgICAgcmV0dXJuIGltZy5sZW5ndGggPiAwICYmIGltZy5pcygnOnZpc2libGUnKTtcbiAgICB9XG4gICAgaWYgKC9eKGlucHV0fHNlbGVjdHx0ZXh0YXJlYXxidXR0b258b2JqZWN0KSQvLnRlc3Qobm9kZU5hbWUpKSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSAhZWxlbWVudC5kaXNhYmxlZDtcbiAgICAgIGlmIChmb2N1c2FibGVJZlZpc2libGUpIHtcbiAgICAgICAgZmllbGRzZXQgPSAkKGVsZW1lbnQpLmNsb3Nlc3QoJ2ZpZWxkc2V0JylbMF07XG4gICAgICAgIGlmIChmaWVsZHNldCkge1xuICAgICAgICAgIGZvY3VzYWJsZUlmVmlzaWJsZSA9ICFmaWVsZHNldC5kaXNhYmxlZDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoJ2EnID09PSBub2RlTmFtZSkge1xuICAgICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZWxlbWVudC5ocmVmIHx8IGhhc1RhYmluZGV4O1xuICAgIH0gZWxzZSB7XG4gICAgICBmb2N1c2FibGVJZlZpc2libGUgPSBoYXNUYWJpbmRleDtcbiAgICB9XG4gICAgZm9jdXNhYmxlSWZWaXNpYmxlID0gZm9jdXNhYmxlSWZWaXNpYmxlIHx8ICQoZWxlbWVudCkuaXMoJ1tjb250ZW50ZWRpdGFibGVdJyk7XG4gICAgcmV0dXJuIGZvY3VzYWJsZUlmVmlzaWJsZSAmJiAkKGVsZW1lbnQpLmlzKCc6dmlzaWJsZScpO1xuICB9O1xuXG4gIFBhc3RlID0gKGZ1bmN0aW9uKCkge1xuICAgIFBhc3RlLnByb3RvdHlwZS5fdGFyZ2V0ID0gbnVsbDtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY29udGFpbmVyID0gbnVsbDtcblxuICAgIFBhc3RlLm1vdW50Tm9uSW5wdXRhYmxlID0gZnVuY3Rpb24obm9uSW5wdXRhYmxlKSB7XG4gICAgICB2YXIgcGFzdGU7XG4gICAgICBwYXN0ZSA9IG5ldyBQYXN0ZShjcmVhdGVIaWRkZW5FZGl0YWJsZSgpLmFwcGVuZFRvKG5vbklucHV0YWJsZSksIG5vbklucHV0YWJsZSk7XG4gICAgICAkKG5vbklucHV0YWJsZSkub24oJ2NsaWNrJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbihldikge1xuICAgICAgICAgIGlmICghaXNGb2N1c2FibGUoZXYudGFyZ2V0LCBmYWxzZSkpIHtcbiAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgICAgcGFzdGUuX2NvbnRhaW5lci5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKG5vbklucHV0YWJsZSkuYWRkQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICByZXR1cm4gcGFzdGUuX2NvbnRhaW5lci5vbignYmx1cicsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQobm9uSW5wdXRhYmxlKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICB9O1xuXG4gICAgUGFzdGUubW91bnRUZXh0YXJlYSA9IGZ1bmN0aW9uKHRleHRhcmVhKSB7XG4gICAgICB2YXIgY3RsRG93biwgcGFzdGUsIHJlZiwgcmVmMTtcbiAgICAgIGlmICgodHlwZW9mIERhdGFUcmFuc2ZlciAhPT0gXCJ1bmRlZmluZWRcIiAmJiBEYXRhVHJhbnNmZXIgIT09IG51bGwgPyBEYXRhVHJhbnNmZXIucHJvdG90eXBlIDogdm9pZCAwKSAmJiAoKHJlZiA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jYWxsKE9iamVjdCwgRGF0YVRyYW5zZmVyLnByb3RvdHlwZSwgJ2l0ZW1zJykpICE9IG51bGwgPyByZWYxLmdldCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubW91bnRDb250ZW50ZWRpdGFibGUodGV4dGFyZWEpO1xuICAgICAgfVxuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY3JlYXRlSGlkZGVuRWRpdGFibGUoKS5pbnNlcnRCZWZvcmUodGV4dGFyZWEpLCB0ZXh0YXJlYSk7XG4gICAgICBjdGxEb3duID0gZmFsc2U7XG4gICAgICAkKHRleHRhcmVhKS5vbigna2V5dXAnLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH0pO1xuICAgICAgJCh0ZXh0YXJlYSkub24oJ2tleWRvd24nLCBmdW5jdGlvbihldikge1xuICAgICAgICB2YXIgcmVmMjtcbiAgICAgICAgaWYgKChyZWYyID0gZXYua2V5Q29kZSkgPT09IDE3IHx8IHJlZjIgPT09IDIyNCkge1xuICAgICAgICAgIGN0bERvd24gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoZXYuY3RybEtleSAhPSBudWxsKSAmJiAoZXYubWV0YUtleSAhPSBudWxsKSkge1xuICAgICAgICAgIGN0bERvd24gPSBldi5jdHJsS2V5IHx8IGV2Lm1ldGFLZXk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0bERvd24gJiYgZXYua2V5Q29kZSA9PT0gODYpIHtcbiAgICAgICAgICBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gdHJ1ZTtcbiAgICAgICAgICBwYXN0ZS5fY29udGFpbmVyLmZvY3VzKCk7XG4gICAgICAgICAgcGFzdGUuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gZmFsc2U7XG4gICAgICAgICAgc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgaWYgKCFwYXN0ZS5fcGFzdGVfZXZlbnRfZmlyZWQpIHtcbiAgICAgICAgICAgICAgICAkKHRleHRhcmVhKS5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXN0ZS5fdGV4dGFyZWFfZm9jdXNfc3RvbGVuID0gZmFsc2U7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfSkodGhpcyksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfSk7XG4gICAgICAkKHRleHRhcmVhKS5vbigncGFzdGUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge307XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHRleHRhcmVhKS5vbignZm9jdXMnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIGlmICghcGFzdGUuX3RleHRhcmVhX2ZvY3VzX3N0b2xlbikge1xuICAgICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLmFkZENsYXNzKCdwYXN0YWJsZS1mb2N1cycpO1xuICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgICQodGV4dGFyZWEpLm9uKCdibHVyJywgKGZ1bmN0aW9uKF90aGlzKSB7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgICAgICBpZiAoIXBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4pIHtcbiAgICAgICAgICAgIHJldHVybiAkKHRleHRhcmVhKS5yZW1vdmVDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgICAkKHBhc3RlLl90YXJnZXQpLm9uKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICQodGV4dGFyZWEpLmZvY3VzKCk7XG4gICAgICAgICAgcmV0dXJuIHBhc3RlLl90ZXh0YXJlYV9mb2N1c19zdG9sZW4gPSBmYWxzZTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKHBhc3RlLl90YXJnZXQpLm9uKCdwYXN0ZVRleHQnLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKGV2LCBkYXRhKSB7XG4gICAgICAgICAgdmFyIGNvbnRlbnQsIGN1ckVuZCwgY3VyU3RhcnQ7XG4gICAgICAgICAgY3VyU3RhcnQgPSAkKHRleHRhcmVhKS5wcm9wKCdzZWxlY3Rpb25TdGFydCcpO1xuICAgICAgICAgIGN1ckVuZCA9ICQodGV4dGFyZWEpLnByb3AoJ3NlbGVjdGlvbkVuZCcpO1xuICAgICAgICAgIGNvbnRlbnQgPSAkKHRleHRhcmVhKS52YWwoKTtcbiAgICAgICAgICAkKHRleHRhcmVhKS52YWwoXCJcIiArIGNvbnRlbnQuc2xpY2UoMCwgY3VyU3RhcnQpICsgZGF0YS50ZXh0ICsgY29udGVudC5zbGljZShjdXJFbmQpKTtcbiAgICAgICAgICAkKHRleHRhcmVhKVswXS5zZXRTZWxlY3Rpb25SYW5nZShjdXJTdGFydCArIGRhdGEudGV4dC5sZW5ndGgsIGN1clN0YXJ0ICsgZGF0YS50ZXh0Lmxlbmd0aCk7XG4gICAgICAgICAgcmV0dXJuICQodGV4dGFyZWEpLnRyaWdnZXIoJ2NoYW5nZScpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcykpO1xuICAgIH07XG5cbiAgICBQYXN0ZS5tb3VudENvbnRlbnRlZGl0YWJsZSA9IGZ1bmN0aW9uKGNvbnRlbnRlZGl0YWJsZSkge1xuICAgICAgdmFyIHBhc3RlO1xuICAgICAgcGFzdGUgPSBuZXcgUGFzdGUoY29udGVudGVkaXRhYmxlLCBjb250ZW50ZWRpdGFibGUpO1xuICAgICAgJChjb250ZW50ZWRpdGFibGUpLm9uKCdmb2N1cycsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoY29udGVudGVkaXRhYmxlKS5hZGRDbGFzcygncGFzdGFibGUtZm9jdXMnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpKTtcbiAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkub24oJ2JsdXInLCAoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHJldHVybiAkKGNvbnRlbnRlZGl0YWJsZSkucmVtb3ZlQ2xhc3MoJ3Bhc3RhYmxlLWZvY3VzJyk7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfTtcblxuICAgIGZ1bmN0aW9uIFBhc3RlKF9jb250YWluZXIsIF90YXJnZXQpIHtcbiAgICAgIHRoaXMuX2NvbnRhaW5lciA9IF9jb250YWluZXI7XG4gICAgICB0aGlzLl90YXJnZXQgPSBfdGFyZ2V0O1xuICAgICAgdGhpcy5fY29udGFpbmVyID0gJCh0aGlzLl9jb250YWluZXIpO1xuICAgICAgdGhpcy5fdGFyZ2V0ID0gJCh0aGlzLl90YXJnZXQpLmFkZENsYXNzKCdwYXN0YWJsZScpO1xuICAgICAgdGhpcy5fY29udGFpbmVyLm9uKCdwYXN0ZScsIChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oZXYpIHtcbiAgICAgICAgICB2YXIgY2xpcGJvYXJkRGF0YSwgZmlsZSwgaXRlbSwgaiwgaywgbGVuLCBsZW4xLCByZWFkZXIsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgdGV4dDtcbiAgICAgICAgICBpZiAoZXYuY3VycmVudFRhcmdldCAhPT0gZXYudGFyZ2V0KSB7XG4gICAgICAgICAgICByZXR1cm4gZXYucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMuX3Bhc3RlX2V2ZW50X2ZpcmVkID0gdHJ1ZTtcbiAgICAgICAgICBpZiAoKChyZWYgPSBldi5vcmlnaW5hbEV2ZW50KSAhPSBudWxsID8gcmVmLmNsaXBib2FyZERhdGEgOiB2b2lkIDApICE9IG51bGwpIHtcbiAgICAgICAgICAgIGNsaXBib2FyZERhdGEgPSBldi5vcmlnaW5hbEV2ZW50LmNsaXBib2FyZERhdGE7XG4gICAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YS5pdGVtcykge1xuICAgICAgICAgICAgICByZWYxID0gY2xpcGJvYXJkRGF0YS5pdGVtcztcbiAgICAgICAgICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmMS5sZW5ndGg7IGogPCBsZW47IGorKykge1xuICAgICAgICAgICAgICAgIGl0ZW0gPSByZWYxW2pdO1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUubWF0Y2goL15pbWFnZVxcLy8pKSB7XG4gICAgICAgICAgICAgICAgICByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgICAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy5faGFuZGxlSW1hZ2UoZXZlbnQudGFyZ2V0LnJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaXRlbS5nZXRBc0ZpbGUoKSk7XG4gICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge31cbiAgICAgICAgICAgICAgICAgIGV2LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW0udHlwZSA9PT0gJ3RleHQvcGxhaW4nKSB7XG4gICAgICAgICAgICAgICAgICBpdGVtLmdldEFzU3RyaW5nKGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgdGV4dDogc3RyaW5nXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoLTEgIT09IEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoY2xpcGJvYXJkRGF0YS50eXBlcywgJ3RleHQvcGxhaW4nKSkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBjbGlwYm9hcmREYXRhLmdldERhdGEoJ1RleHQnKTtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVUZXh0Jywge1xuICAgICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9LCAxKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuX2hhbmRsZUltYWdlKHNyYyk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoY2xpcGJvYXJkRGF0YSA9IHdpbmRvdy5jbGlwYm9hcmREYXRhKSB7XG4gICAgICAgICAgICBpZiAoKHJlZjIgPSAodGV4dCA9IGNsaXBib2FyZERhdGEuZ2V0RGF0YSgnVGV4dCcpKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZVRleHQnLCB7XG4gICAgICAgICAgICAgICAgICB0ZXh0OiB0ZXh0XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcignX3Bhc3RlQ2hlY2tDb250YWluZXJEb25lJyk7XG4gICAgICAgICAgICAgIH0sIDEpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmVmMyA9IGNsaXBib2FyZERhdGEuZmlsZXM7XG4gICAgICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSByZWYzLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgICAgIGZpbGUgPSByZWYzW2tdO1xuICAgICAgICAgICAgICAgIF90aGlzLl9oYW5kbGVJbWFnZShVUkwuY3JlYXRlT2JqZWN0VVJMKGZpbGUpKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBfdGhpcy5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lcihmdW5jdGlvbihzcmMpIHt9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH07XG4gICAgICB9KSh0aGlzKSk7XG4gICAgfVxuXG4gICAgUGFzdGUucHJvdG90eXBlLl9oYW5kbGVJbWFnZSA9IGZ1bmN0aW9uKHNyYykge1xuICAgICAgdmFyIGxvYWRlcjtcbiAgICAgIGlmIChzcmMubWF0Y2goL153ZWJraXRcXC1mYWtlXFwtdXJsXFw6XFwvXFwvLykpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgbWVzc2FnZTogXCJZb3UgYXJlIHRyeWluZyB0byBwYXN0ZSBhbiBpbWFnZSBpbiBTYWZhcmksIGhvd2V2ZXIgd2UgYXJlIHVuYWJsZSB0byByZXRpZXZlIGl0cyBkYXRhLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VTdGFydCcpO1xuICAgICAgbG9hZGVyID0gbmV3IEltYWdlKCk7XG4gICAgICBsb2FkZXIuY3Jvc3NPcmlnaW4gPSBcImFub255bW91c1wiO1xuICAgICAgbG9hZGVyLm9ubG9hZCA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgdmFyIGJsb2IsIGNhbnZhcywgY3R4LCBkYXRhVVJMO1xuICAgICAgICAgIGNhbnZhcyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2NhbnZhcycpO1xuICAgICAgICAgIGNhbnZhcy53aWR0aCA9IGxvYWRlci53aWR0aDtcbiAgICAgICAgICBjYW52YXMuaGVpZ2h0ID0gbG9hZGVyLmhlaWdodDtcbiAgICAgICAgICBjdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKTtcbiAgICAgICAgICBjdHguZHJhd0ltYWdlKGxvYWRlciwgMCwgMCwgY2FudmFzLndpZHRoLCBjYW52YXMuaGVpZ2h0KTtcbiAgICAgICAgICBkYXRhVVJMID0gbnVsbDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgZGF0YVVSTCA9IGNhbnZhcy50b0RhdGFVUkwoJ2ltYWdlL3BuZycpO1xuICAgICAgICAgICAgYmxvYiA9IGRhdGFVUkx0b0Jsb2IoZGF0YVVSTCk7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gICAgICAgICAgaWYgKGRhdGFVUkwpIHtcbiAgICAgICAgICAgIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZScsIHtcbiAgICAgICAgICAgICAgYmxvYjogYmxvYixcbiAgICAgICAgICAgICAgZGF0YVVSTDogZGF0YVVSTCxcbiAgICAgICAgICAgICAgd2lkdGg6IGxvYWRlci53aWR0aCxcbiAgICAgICAgICAgICAgaGVpZ2h0OiBsb2FkZXIuaGVpZ2h0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF90aGlzLl90YXJnZXQudHJpZ2dlcigncGFzdGVJbWFnZUVuZCcpO1xuICAgICAgICB9O1xuICAgICAgfSkodGhpcyk7XG4gICAgICBsb2FkZXIub25lcnJvciA9IChmdW5jdGlvbihfdGhpcykge1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdwYXN0ZUltYWdlRXJyb3InLCB7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBnZXQgaW1hZ2UgZnJvbTogXCIgKyBzcmMsXG4gICAgICAgICAgICB1cmw6IHNyY1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBfdGhpcy5fdGFyZ2V0LnRyaWdnZXIoJ3Bhc3RlSW1hZ2VFbmQnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpO1xuICAgICAgcmV0dXJuIGxvYWRlci5zcmMgPSBzcmM7XG4gICAgfTtcblxuICAgIFBhc3RlLnByb3RvdHlwZS5fY2hlY2tJbWFnZXNJbkNvbnRhaW5lciA9IGZ1bmN0aW9uKGNiKSB7XG4gICAgICB2YXIgaW1nLCBqLCBsZW4sIHJlZiwgdGltZXNwYW47XG4gICAgICB0aW1lc3BhbiA9IE1hdGguZmxvb3IoMTAwMCAqIE1hdGgucmFuZG9tKCkpO1xuICAgICAgcmVmID0gdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgZm9yIChqID0gMCwgbGVuID0gcmVmLmxlbmd0aDsgaiA8IGxlbjsgaisrKSB7XG4gICAgICAgIGltZyA9IHJlZltqXTtcbiAgICAgICAgaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSA9IHRydWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2V0VGltZW91dCgoZnVuY3Rpb24oX3RoaXMpIHtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgICAgIHZhciBrLCBsZW4xLCByZWYxO1xuICAgICAgICAgIHJlZjEgPSBfdGhpcy5fY29udGFpbmVyLmZpbmQoJ2ltZycpO1xuICAgICAgICAgIGZvciAoayA9IDAsIGxlbjEgPSByZWYxLmxlbmd0aDsgayA8IGxlbjE7IGsrKykge1xuICAgICAgICAgICAgaW1nID0gcmVmMVtrXTtcbiAgICAgICAgICAgIGlmICghaW1nW1wiX3Bhc3RlX21hcmtlZF9cIiArIHRpbWVzcGFuXSkge1xuICAgICAgICAgICAgICBjYihpbWcuc3JjKTtcbiAgICAgICAgICAgICAgJChpbWcpLnJlbW92ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3RoaXMuX3RhcmdldC50cmlnZ2VyKCdfcGFzdGVDaGVja0NvbnRhaW5lckRvbmUnKTtcbiAgICAgICAgfTtcbiAgICAgIH0pKHRoaXMpLCAxKTtcbiAgICB9O1xuXG4gICAgcmV0dXJuIFBhc3RlO1xuXG4gIH0pKCk7XG5cbn0pLmNhbGwodGhpcyk7XG4iLCIoZnVuY3Rpb24oJCxleHBvcnRzKXtcblxuXHR2YXIgaXNfY2hyb21lXHQ9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMSxcblx0XHRjb3VudGVyID0gMCxcblx0XHR3b3JrZmxvdztcblx0XHRcblx0dGhlcGFzdGUgPSBleHBvcnRzLnRoZXBhc3RlID0gJC5leHRlbmQoIHtcblx0XHRzdXBwb3J0cyA6IHtcblx0XHRcdHBhc3RlOiAoICgncGFzdGUnIGluIGRvY3VtZW50KSB8fCAoJ29ucGFzdGUnIGluIGRvY3VtZW50KSB8fCB0eXBlb2Yod2luZG93Lm9ucGFzdGUpID09PSAnb2JqZWN0JyB8fCAoICdvbnBhc3RlJyBpbiBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdESVYnKSApICksIC8vIGJyb3dzZXJcblx0XHR9LFxuXHRcdHZpZXc6e30sXG5cdFx0XG5cdFx0aW5zZXJ0SW1hZ2U6ZnVuY3Rpb24oIGRhdGFVUkwsIHR5cGUsIGVkaXRvciApIHtcblx0XHRcdHZhciBpZCA9ICdfX3RoZXBhc3RlX2ltZ18nKyhjb3VudGVyKyspLFxuXHRcdFx0XHRpbWFnZSA9IG5ldyBJbWFnZSgpLFxuXHRcdFx0XHRibG9iID0gbmV3IG1PeGllLkZpbGUoIG51bGwsIHsgZGF0YTogZGF0YVVSTCB9ICksXG5cdFx0XHRcdGltYWdlSHRtbCA9ICcnLFxuXHRcdFx0XHQkY29udGFpbmVyO1xuXG5cdFx0XHRpbWFnZUh0bWwgKz0gJzxkaXYgY2xhc3M9XCJ0aGVwYXN0ZS1pbWFnZS1wbGFjZWhvbGRlclwiIGlkPVwiJytpZCsnXCIgY29udGVudGVkaXRhYmxlPVwiZmFsc2VcIj4nO1xuXHRcdFx0aW1hZ2VIdG1sICs9ICc8aW1nIGNsYXNzPVwiYWxpZ25ub25lIHNpemUtZnVsbFwiIHNyYz1cIicrZGF0YVVSTCsnXCIgLz4nO1xuXHRcdFx0aW1hZ2VIdG1sICs9ICc8L2Rpdj4nO1xuXHRcdFx0aW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHRoZXBhc3RlLnVwbG9hZEltYWdlKCBibG9iLCAkY29udGFpbmVyICk7XG5cdFx0XHR9XG5cdFx0XHRpbWFnZS5zcmMgPSBkYXRhVVJMO1xuXG5cdFx0XHRlZGl0b3IuaW5zZXJ0Q29udGVudCggaW1hZ2VIdG1sICk7XG5cdFx0XHQkY29udGFpbmVyID0gZWRpdG9yLiQoJyMnK2lkKTtcblx0XHR9LFxuXHRcdHVwbG9hZEltYWdlOiBmdW5jdGlvbiggaW1hZ2UsICRjb250YWluZXIgKSB7XG5cblx0XHRcdHZhciB0eXBlID0gaW1hZ2UudHlwZSwgXG5cdFx0XHRcdHN1ZmZpeCA9IHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5jb252ZXJ0WyB0eXBlIF0sXG5cdFx0XHRcdG5hbWUgPSB0aGVwYXN0ZS5sMTBuLnBhc3RlZCArICcuJyArIHN1ZmZpeCxcblx0XHRcdFx0YmxvYiA9IGltYWdlIGluc3RhbmNlb2YgbU94aWUuRmlsZSA/IGltYWdlIDogaW1hZ2UuZ2V0QXNCbG9iKCB0eXBlLCB0aGVwYXN0ZS5vcHRpb25zLmpwZWdfcXVhbGl0eSApLFxuXHRcdFx0XHRhZGRGaWxlID0gZnVuY3Rpb24oKXtcblx0XHRcdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5hZGRGaWxlKCBibG9iICk7XG5cdFx0XHRcdFx0d29ya2Zsb3cuY2xvc2UoKVxuXHRcdFx0XHR9O1xuXG4vL1x0XHRcdGJsb2IuZGV0YWNoKCBibG9iLmdldFNvdXJjZSgpICk7XG5cdFx0XHRibG9iLm5hbWUgPSBuYW1lO1xuXHRcdFx0YmxvYi50eXBlID0gdHlwZTtcblxuXHRcdFx0aWYgKCAhIHdvcmtmbG93ICkge1xuXHRcdFx0XHR3b3JrZmxvdyA9IHdwLm1lZGlhLmVkaXRvci5vcGVuKCB3aW5kb3cud3BBY3RpdmVFZGl0b3IsIHtcblx0XHRcdFx0XHRmcmFtZTpcdFx0J3Bvc3QnLFxuXHRcdFx0XHRcdHN0YXRlOlx0XHQnaW5zZXJ0Jyxcblx0XHRcdFx0XHR0aXRsZTpcdFx0dGhlcGFzdGUubDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdG11bHRpcGxlOlx0ZmFsc2Vcblx0XHRcdFx0fSApO1xuXHRcdFx0XHRpZiAoIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyICYmIHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnJlYWR5ICkge1xuXHRcdFx0XHRcdGFkZEZpbGUoKTtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHR3b3JrZmxvdy5vbiggJ3VwbG9hZGVyOnJlYWR5JywgYWRkRmlsZSApO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHR3b3JrZmxvdy5zdGF0ZSgpLnJlc2V0KCk7XG5cdFx0XHRcdGFkZEZpbGUoKTtcblx0XHRcdH1cblx0XHRcdHdvcmtmbG93LnVwbG9hZGVyLnVwbG9hZGVyLnVwbG9hZGVyLmJpbmQoJ1VwbG9hZFByb2dyZXNzJyxmdW5jdGlvbihlKXtcblx0XHRcdFx0JGNvbnRhaW5lci5hdHRyKCdkYXRhLXByb2dyZXNzJyxlLnRvdGFsLnBlcmNlbnQpO1xuXHRcdFx0fSk7XG5cdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdGaWxlVXBsb2FkZWQnLGZ1bmN0aW9uKGUsYXJncyl7XG5cdFx0XHRcdCRjb250YWluZXIucmVwbGFjZVdpdGgoICc8aW1nIGNsYXNzPVwiYWxpZ25ub25lIHdwLWltYWdlLScrYXJncy5hdHRhY2htZW50LmlkKycgc2l6ZS1mdWxsXCIgc3JjPVwiJythcmdzLmF0dGFjaG1lbnQuY2hhbmdlZC51cmwrJ1wiIC8+JyApO1xuXHRcdFx0fSk7XG5cdFx0XHR3b3JrZmxvdy51cGxvYWRlci51cGxvYWRlci51cGxvYWRlci5iaW5kKCdFcnJvcicsZnVuY3Rpb24oZSxhcmdzKXtcblx0XHRcdFx0Y29uc29sZS5sb2coZSxhcmdzKTtcblx0XHRcdH0pO1xuXHRcdH0sXG5cdFx0LyoqXG5cdFx0ICpcdEByZXR1cm46IG51bGx8dHJ1ZXxmYWxzZVxuXHRcdCAqL1xuXHRcdGNsaXBib2FyZEhhc0ltYWdlOmZ1bmN0aW9uKCBjbGlwYm9hcmREYXRhICkge1xuXHRcdFx0dmFyIGhhc0ltYWdlID0gZmFsc2U7XG5cdFx0XHRpZiAoIGNsaXBib2FyZERhdGEuaXRlbXMgKSB7XG5cdFx0XHRcdCQuZWFjaCggY2xpcGJvYXJkRGF0YS5pdGVtcywgZnVuY3Rpb24oaSxpdGVtKXtcblx0XHRcdFx0XHRpZiAoIGl0ZW0udHlwZSBpbiB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMucGFzdGUgKSB7XG5cdFx0XHRcdFx0XHRoYXNJbWFnZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiBoYXNJbWFnZTtcblx0XHRcdH1cblxuXHRcdFx0aWYgKCBjbGlwYm9hcmREYXRhLnR5cGVzICkge1xuXHRcdFx0XHQkLmVhY2goIHRoZXBhc3RlLm9wdGlvbnMubWltZV90eXBlcy5wYXN0ZSwgZnVuY3Rpb24odHlwZSxleHQpe1xuXHRcdFx0XHRcdGlmICggY2xpcGJvYXJkRGF0YS50eXBlcy5pbmRleE9mKHR5cGUpID4gLTEgKSB7XG5cdFx0XHRcdFx0XHRoYXNJbWFnZSA9IHRydWU7XG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9ICk7XG5cdFx0XHRcdHJldHVybiBoYXNJbWFnZTtcblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKGNsaXBib2FyZERhdGEpO1xuXHRcdFx0cmV0dXJuIG51bGw7XG5cdFx0fVxuXHRcdFxuXG5cdH0sIHRoZXBhc3RlICk7XG5cbn0pKCBqUXVlcnksIHdwLm1lZGlhICk7XG5cbiIsIihmdW5jdGlvbigkLGV4cG9ydHMpe1xuXG5cdHZhciBjb3VudGVyICAgICAgPSAwLFxuXHRcdGwxMG4gPSB3cC5tZWRpYS50aGVwYXN0ZS5sMTBuLFxuXHRcdGlzX2Nocm9tZSA9IG5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZignQ2hyb21lJykgPiAtMTtcblxuXHQkLmV4dGVuZCggd3AuVXBsb2FkZXIucHJvdG90eXBlLCB7XG5cdFx0c3VjY2VzcyA6IGZ1bmN0aW9uKCBmaWxlX2F0dGFjaG1lbnQgKXtcblx0XHR9XG5cdH0pO1xuXG5cblx0LyoqXG5cdCAqXHRJbnRlZ3JhdGUgaW50byBtZWRpYSBsaWJyYXJ5IG1vZGFsXG5cdCAqL1xuXHQvLyBhZGQgc3RhdGVzIHRvIGJyb3dzZSByb3V0ZXJcblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLCB7XG5cdFx0X3BhcmVudEluaXRpYWxpemU6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLl9wYXJlbnRJbml0aWFsaXplLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcblx0XHRcdHRoaXMuYmluZFBhc3RlSGFuZGxlcnMoKTtcblx0XHR9LFxuXHRcdF9wYXJlbnRCcm93c2VSb3V0ZXI6IHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QucHJvdG90eXBlLmJyb3dzZVJvdXRlcixcblx0XHRicm93c2VSb3V0ZXIgOiBmdW5jdGlvbiggdmlldyApIHtcblx0XHRcdHRoaXMuX3BhcmVudEJyb3dzZVJvdXRlci5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cblx0XHRcdGlmICggd3AubWVkaWEudGhlcGFzdGUuc3VwcG9ydHMucGFzdGUgKSB7XG5cdFx0XHRcdHZpZXcuc2V0KHtwYXN0ZWJvYXJkOntcblx0XHRcdFx0XHR0ZXh0OiAgICAgbDEwbi5jb3B5X3Bhc3RlLFxuXHRcdFx0XHRcdHByaW9yaXR5OiAzNVxuXHRcdFx0XHR9fSk7XG5cdFx0XHR9XG5cdFx0fSxcblxuXHRcdGJpbmRQYXN0ZUhhbmRsZXJzOiBmdW5jdGlvbigpIHtcblx0XHRcdHZhciBwcmV2aW91c0NvbnRlbnQgPSBmYWxzZTtcblx0XHRcblx0XHRcdC8vIGRpc21pc3MgY29udGVudCBvbiBjbG9zZVxuXHRcdFx0dGhpcy5vbiggJ2NvbnRlbnQ6cmVuZGVyIGNsb3NlJyAsIGZ1bmN0aW9uKGNvbnRlbnQpe1xuXHRcdFx0XHRpZiAoIHByZXZpb3VzQ29udGVudCAmJiAnZnVuY3Rpb24nID09PSB0eXBlb2YgcHJldmlvdXNDb250ZW50LmRpc21pc3MgKSB7XG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50LmRpc21pc3MoKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZiAoICd1bmRlZmluZWQnICE9PSB0eXBlb2YgY29udGVudCApXG5cdFx0XHRcdFx0cHJldmlvdXNDb250ZW50ID0gY29udGVudDtcblx0XHRcdH0gLCB0aGlzICk7XG5cdFx0XG5cdFx0XHR0aGlzLm9uKCAnY29udGVudDpjcmVhdGU6cGFzdGVib2FyZCcsIHRoaXMuY29udGVudENyZWF0ZVBhc3RlYm9hcmQsIHRoaXMgKTtcblx0XHRcdHRoaXMub24oICdjb250ZW50OnJlbmRlcjpwYXN0ZWJvYXJkJywgdGhpcy5jb250ZW50UmVuZGVyR3JhYmJlciwgdGhpcyApO1xuXG5cdFx0XHRmcmFtZSA9IHRoaXM7XG5cdFx0fSxcblx0XHQvLyBhZGQgaGFuZGxlcnNcblx0XHRjb250ZW50Q3JlYXRlUGFzdGVib2FyZDogZnVuY3Rpb24oIGNvbnRlbnQgKSB7XG5cdFx0XHR2YXIgc3RhdGUgPSB0aGlzLnN0YXRlKCk7XG5cblx0XHRcdHRoaXMuY3VycmVudFBhc3RlVmlldyA9IGNvbnRlbnQudmlldyA9IG5ldyB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZUdyYWJiZXIoIHsgXG5cdFx0XHRcdGNvbnRyb2xsZXJcdDogdGhpcywgXG5cdFx0XHRcdGdyYWJiZXJcdFx0OiB3cC5tZWRpYS50aGVwYXN0ZS52aWV3LlBhc3RlYm9hcmRcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5saXN0ZW5UbyggdGhpcy5jdXJyZW50UGFzdGVWaWV3LnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScsIHRoaXMudXBsb2FkZWREYXRhSW1hZ2UgKTtcblx0XHR9LFxuXHRcdGNvbnRlbnRSZW5kZXJHcmFiYmVyOiBmdW5jdGlvbiggY29udGVudCApIHtcblx0XHRcdGNvbnRlbnQuc3RhcnRHcmFiYmluZygpO1xuXHRcdH0sXG5cdFx0dXBsb2FkZWREYXRhSW1hZ2U6IGZ1bmN0aW9uKCBjb250ZW50ICkge1xuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLmN1cnJlbnRQYXN0ZVZpZXcudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dmFyIG9iaiA9IHsgdmlldzogbnVsbCB9O1xuXHRcdFx0dGhpcy5icm93c2VDb250ZW50KG9iaik7XG5cdFx0XHR0aGlzLmNvbnRlbnQuc2V0KCBvYmoudmlldyApO1xuXHRcdFx0dGhpcy5yb3V0ZXIuZ2V0KCkuc2VsZWN0KCdicm93c2UnKVxuXHRcdH1cblx0fSk7XG5cdFxuXG5cblx0LyoqXG5cdCAqXHRBZGQgcGFzdGUgYnV0dG9uIHRvIHRvb2xiYXIgb24gdXBsb2FkLnBocFxuXHQgKi9cblx0Xy5leHRlbmQoIHdwLm1lZGlhLnZpZXcuQXR0YWNobWVudHNCcm93c2VyLnByb3RvdHlwZSwge1xuXHRcdF9wYXJlbnRJbml0aWFsaXplOlx0d3AubWVkaWEudmlldy5BdHRhY2htZW50c0Jyb3dzZXIucHJvdG90eXBlLmluaXRpYWxpemUsXG5cdFx0aW5pdGlhbGl6ZTpcdGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzLFxuXHRcdFx0XHRwYXN0ZUJ0bjtcblxuXHRcdFx0dGhpcy5fcGFyZW50SW5pdGlhbGl6ZS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG5cdFx0XHRcblx0XHRcdHRoaXMudGhlcGFzdGUgPSB7XG5cdFx0XHRcdHBhc3RlXHQ6IHtcbi8vXHRcdFx0XHRcdGJ1dHRvblx0OiBmYWxzZSxcblx0XHRcdFx0XHRncmFiYmVyXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGFsXHQ6IGZhbHNlLFxuXHRcdFx0XHRcdG1vZGVcdDogJ3Bhc3RlJyxcblx0XHRcdFx0fSxcblx0XHRcdFx0Y3VycmVudFx0XHQ6IGZhbHNlXG5cdFx0XHR9XG5cblx0XHRcdGlmICggISAoIHRoaXMuY29udHJvbGxlciBpbnN0YW5jZW9mIHdwLm1lZGlhLnZpZXcuTWVkaWFGcmFtZS5TZWxlY3QgKSApIHtcblxuXHRcdFx0XHRpZiAoIHdwLm1lZGlhLnRoZXBhc3RlLnN1cHBvcnRzLnBhc3RlICkge1xuXG5cdFx0XHRcdFx0cGFzdGVCdG4gPSBuZXcgd3AubWVkaWEudmlldy5CdXR0b24oIHtcblx0XHRcdFx0XHRcdHRleHRcdFx0OiBsMTBuLmNvcHlfcGFzdGUsXG5cdFx0XHRcdFx0XHRjbGFzc05hbWU6ICAnZ3JhYmJlci1idXR0b24nLFxuXHRcdFx0XHRcdFx0cHJpb3JpdHlcdDogLTY0LFxuXHRcdFx0XHRcdFx0Y2xpY2s6IGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRcdFx0XHRzZWxmLnRoZXBhc3RlLmFjdGl2ZSA9IHNlbGYudGhlcGFzdGUucGFzdGU7XG5cdFx0XHRcdFx0XHRcdHNlbGYucGFzdGVPcGVuKCBsMTBuLmNvcHlfcGFzdGUgKTtcblx0XHRcdFx0XHRcdH1cblx0XHRcdFx0XHR9ICk7XG5cdFx0XHRcdFx0dGhpcy50aGVwYXN0ZS5wYXN0ZS5ncmFiYmVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlcigge1xuXHRcdFx0XHRcdFx0Y29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIsXG5cdFx0XHRcdFx0XHRncmFiYmVyXHRcdDogd3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkLFxuXHRcdFx0XHRcdFx0d3B1cGxvYWRlclx0OiB0aGlzLmNvbnRyb2xsZXIudXBsb2FkZXIudXBsb2FkZXIudXBsb2FkZXJcblx0XHRcdFx0XHR9ICk7XG5cblx0XHRcdFx0XHR0aGlzLnRvb2xiYXIuc2V0KCAncGFzdGVNb2RlQnV0dG9uJywgcGFzdGVCdG4ucmVuZGVyKCkgKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH0sXG5cdFx0dGhlcGFzdGVVcGxvYWRlZDogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHR0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLmRpc21pc3MoKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY2xvc2UoKTtcblx0XHRcdHRoaXMudGhlcGFzdGVDbG9zZSgpO1xuXHRcdH0sXG5cdFx0dGhlcGFzdGVFcnJvcjogZnVuY3Rpb24oIGUgKSB7XG5cdFx0XHRjb25zb2xlLmxvZyggJ2Vycm9yJywgZSApO1xuXHRcdH0sXG5cdFx0cGFzdGVPcGVuOiBmdW5jdGlvbiggdGl0bGUgKSB7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwgID0gIG5ldyB3cC5tZWRpYS52aWV3Lk1vZGFsKCB7XG5cdFx0XHRcdGNvbnRyb2xsZXIgOiB0aGlzLFxuXHRcdFx0XHR0aXRsZSAgICAgIDogdGl0bGVcblx0XHRcdH0gKTtcblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwuY29udGVudCggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlciApO1xuXHRcdFx0dGhpcy50aGVwYXN0ZS5tb2RhbC5vcGVuKCk7XG5cblx0XHRcdHRoaXMudGhlcGFzdGUubW9kYWwub24oICdjbG9zZScsIGZ1bmN0aW9uKCkge1xuXHRcdFx0XHRzZWxmLnRoZXBhc3RlQ2xvc2UuYXBwbHkoc2VsZik7XG5cdFx0XHRcdHNlbGYudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIuc3RvcEdyYWJiaW5nKCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci5zdGFydEdyYWJiaW5nKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMudGhlcGFzdGUuYWN0aXZlLmdyYWJiZXIudXBsb2FkZXIsICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZVVwbG9hZGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnZXJyb3I6dXBsb2FkZWQ6ZGF0YWltYWdlJywgdGhpcy50aGVwYXN0ZUVycm9yICk7XG5cdFx0fSxcblx0XHR0aGVwYXN0ZUNsb3NlOiBmdW5jdGlvbigpIHtcblxuXHRcdFx0dGhpcy5jb250cm9sbGVyLmRlYWN0aXZhdGVNb2RlKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5tb2RlICkuYWN0aXZhdGVNb2RlKCAnZWRpdCcgKTtcblxuXHRcdFx0dGhpcy5zdG9wTGlzdGVuaW5nKCB0aGlzLnRoZXBhc3RlLmFjdGl2ZS5ncmFiYmVyLnVwbG9hZGVyLCAnYWN0aW9uOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHRcdHRoaXMuc3RvcExpc3RlbmluZyggdGhpcy50aGVwYXN0ZS5hY3RpdmUuZ3JhYmJlci51cGxvYWRlciwgJ2Vycm9yOnVwbG9hZGVkOmRhdGFpbWFnZScgKTtcblx0XHR9XG5cdH0pO1xuXHRcbn0pKGpRdWVyeSx3aW5kb3cpO1xuIiwiKGZ1bmN0aW9uKCQsd2luZG93LG8pe1xuXHR2YXIgdGhlcGFzdGUgPSB3cC5tZWRpYS50aGVwYXN0ZSxcblx0XHRCdXR0b24gPSB3cC5tZWRpYS52aWV3LkJ1dHRvbixcblx0XHRNb2RhbCAgPSB3cC5tZWRpYS52aWV3Lk1vZGFsLFxuXHRcdGwxMG4gICA9IHRoZXBhc3RlLmwxMG47XG5cblxuXHR3cC5tZWRpYS50aGVwYXN0ZS52aWV3LkRhdGFTb3VyY2VJbWFnZVVwbG9hZGVyID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtdXBsb2FkZXInKSxcblx0XHRjbGFzc05hbWU6ICd0aGVwYXN0ZS11cGxvYWRlcicsXG5cdFx0Y29udHJvbGxlcjpudWxsLFxuXHRcdGltYWdlIDogbnVsbCxcblx0XHQkZGlzY2FyZEJ0biA6IG51bGwsXG5cdFx0JHVwbG9hZEJ0biA6IG51bGwsXG5cdFx0XG5cdFx0dXBsb2FkZXIgOiBudWxsLFxuXHRcdFxuXHRcdGV2ZW50cyA6IHtcblx0XHRcdCdjbGljayBbZGF0YS1hY3Rpb249XCJ1cGxvYWRcIl0nXHQ6ICd1cGxvYWRJbWFnZScsXG5cdFx0XHQnY2xpY2sgW2RhdGEtYWN0aW9uPVwiZGlzY2FyZFwiXSdcdDogJ2Rpc2NhcmRJbWFnZScsXG5cdFx0fSxcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLmluaXRpYWxpemUuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuXG5cdFx0XHRfLmRlZmF1bHRzKCB0aGlzLm9wdGlvbnMsIHtcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lIDogbDEwbi5pbWFnZVxuXHRcdFx0fSk7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXMsXG5cdFx0XHRcdGluc3RyID0gbmV3IHdwLm1lZGlhLlZpZXcoe1xuXHRcdFx0XHR0YWdOYW1lICAgIDogJ2RpdicsXG5cdFx0XHRcdGNsYXNzTmFtZSAgOiAnaW5zdHJ1bWVudHMnLFxuXHRcdFx0XHRjb250cm9sbGVyIDogdGhpcy5jb250cm9sbGVyXG5cdFx0XHR9KTtcblxuXHRcdFx0dGhpcy51cGxvYWRlciA9IHRoaXMub3B0aW9ucy51cGxvZGVyO1xuXHRcdH0sXG5cdFx0c2V0SW1hZ2VEYXRhIDogZnVuY3Rpb24oIGRhdGEgKSB7XG5cdFx0XHR2YXIgY29udGFpbmVyID0gdGhpcy4kaW1hZ2VDb250YWluZXIuaHRtbCgnJykuZ2V0KDApLFxuXHRcdFx0XHRzZWxmID0gdGhpcyxcblx0XHRcdFx0Zm9ybWF0ID0gZGF0YS5tYXRjaCgvZGF0YTooaW1hZ2VcXC8oXFx3KykpOy8pWzFdO1xuXG5cdFx0XHRpZiAoICEgdGhlcGFzdGUub3B0aW9ucy5taW1lX3R5cGVzLmNvbnZlcnRbZm9ybWF0XSApIHtcblx0XHRcdFx0Zm9ybWF0ID0gdGhpcy5vcHRpb25zLmRlZmF1bHRGaWxlRm9ybWF0O1xuXHRcdFx0fVxuXHRcdFx0XG5cdFx0XHRpZiAoIHRoaXMuaW1hZ2UgKSB7XG5cdFx0XHRcdHRoaXMuaW1hZ2UuZGVzdHJveSgpO1xuXHRcdFx0fVxuXG5cdFx0XHR0aGlzLmltYWdlID0gbmV3IG8uSW1hZ2UoKTtcblx0XHRcdHRoaXMuaW1hZ2Uub25sb2FkID0gZnVuY3Rpb24oKSB7XG5cdFx0XHRcdHZhciBvcHRzID0gc2VsZi5nZXRVcGxvYWRlcigpLmdldE9wdGlvbigncmVzaXplJyksXG5cdFx0XHRcdFx0c2NhbGUgPSBNYXRoLm1heCggb3B0cy53aWR0aCAvIHRoaXMud2lkdGgsIG9wdHMuaGVpZ2h0IC8gdGhpcy5oZWlnaHQgKTtcblxuXHRcdFx0XHQhIW9wdHMgJiYgKHNjYWxlIDwgMSkgJiYgdGhpcy5kb3duc2l6ZSggdGhpcy53aWR0aCpzY2FsZSwgdGhpcy5oZWlnaHQqc2NhbGUgKTtcblxuXHRcdFx0XHR0aGlzLmVtYmVkKCBjb250YWluZXIgKTtcblx0XHRcdH1cblx0XHRcdHRoaXMuaW1hZ2UuYmluZCgnUmVzaXplJywgZnVuY3Rpb24oZSkge1xuXHRcdFx0XHR0aGlzLmVtYmVkKCBjb250YWluZXIgKTtcblx0XHRcdH0pO1xuXHRcdFx0dGhpcy5pbWFnZS5sb2FkKCBkYXRhICk7XG5cdFx0XHRpZiAoIHRoaXMuJGltYWdlQ29udGFpbmVyICkge1xuXHRcdFx0XHR0aGlzLiRpbWFnZUNvbnRhaW5lci5hcHBlbmQodGhpcy5pbWFnZSk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLiQoJ1tkYXRhLXNldHRpbmc9XCJmb3JtYXRcIl0gaW5wdXRbdmFsdWU9XCInK2Zvcm1hdCsnXCJdJykucHJvcCggJ2NoZWNrZWQnLCB0cnVlICk7XG5cblxuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHJlbmRlciA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJGltYWdlQ29udGFpbmVyID0gdGhpcy4kKCcuaW1hZ2UtY29udGFpbmVyJyk7XG5cdFx0XHR0aGlzLiRkaXNjYXJkQnRuID0gdGhpcy4kKCdbZGF0YS1hY3Rpb249XCJkaXNjYXJkXCJdJyk7XG5cdFx0XHR0aGlzLiR1cGxvYWRCdG4gPSB0aGlzLiQoJ1tkYXRhLWFjdGlvbj1cInVwbG9hZFwiXScpO1xuXHRcdFx0dGhpcy4kKCdbZGF0YS1zZXR0aW5nPVwidGl0bGVcIl0nKS52YWwoIHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUgKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0ZGlzY2FyZEltYWdlIDogZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjpkaXNjYXJkOmRhdGFpbWFnZScgLCB0aGlzICk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHR1cGxvYWRJbWFnZSA6IGZ1bmN0aW9uKCkge1xuXG5cdFx0XHR2YXIgdHlwZSA9IHRoaXMuJCgnW2RhdGEtc2V0dGluZz1cImZvcm1hdFwiXSA6Y2hlY2tlZCcpLnZhbCgpLFxuXHRcdFx0XHRzdWZmaXggPSB0aGVwYXN0ZS5vcHRpb25zLm1pbWVfdHlwZXMuY29udmVydFsgdHlwZSBdLFxuXHRcdFx0XHRuYW1lID0gdGhpcy4kKCdpbnB1dFtkYXRhLXNldHRpbmc9XCJ0aXRsZVwiXScpLnZhbCgpICsgJy4nICsgc3VmZml4LFxuXHRcdFx0XHRibG9iID0gdGhpcy5pbWFnZS5nZXRBc0Jsb2IoIHR5cGUsIHRoZXBhc3RlLm9wdGlvbnMuanBlZ19xdWFsaXR5ICk7XG5cblx0XHRcdHRoaXMuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cblx0XHRcdGJsb2IuZGV0YWNoKCBibG9iLmdldFNvdXJjZSgpICk7XG5cdFx0XHRibG9iLm5hbWUgPSBuYW1lO1xuXHRcdFx0YmxvYi50eXBlID0gdHlwZTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS5hZGRGaWxlKCBibG9iICwgbmFtZSApO1xuXG5cdFx0XHR0aGlzLmRpc2FibGVkKCB0cnVlICk7XG5cblx0XHRcdHRoaXMudHJpZ2dlciggJ2FjdGlvbjp1cGxvYWQ6ZGF0YWltYWdlJyAsIHRoaXMgKTtcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKXtcblx0XHRcdHRoaXMuJGVsLnNob3coKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0aGlkZTpmdW5jdGlvbigpe1xuXHRcdFx0dGhpcy4kZWwuaGlkZSgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRkaXNhYmxlZCA6IGZ1bmN0aW9uKCBkaXNhYmxlZCApIHtcblx0XHRcdHRoaXMuJGRpc2NhcmRCdG4ucHJvcCggJ2Rpc2FibGVkJywgZGlzYWJsZWQgKTtcblx0XHRcdHRoaXMuJHVwbG9hZEJ0bi5wcm9wKCAnZGlzYWJsZWQnLCBkaXNhYmxlZCApO1xuXHRcdH0sXG5cdFx0X3VwbG9hZFN1Y2Nlc3NIYW5kbGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdhY3Rpb246dXBsb2FkZWQ6ZGF0YWltYWdlJyApO1xuXHRcdFx0dGhpcy5kaXNhYmxlZChmYWxzZSk7XG5cdFx0XHR0aGlzLnVuYmluZFVwbG9hZGVyRXZlbnRzKCk7XG5cdFx0fSxcblx0XHRfdXBsb2FkRXJyb3JIYW5kbGVyIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnRyaWdnZXIoICdlcnJvcjp1cGxvYWRlZDpkYXRhaW1hZ2UnICk7XG5cdFx0XHR0aGlzLmRpc2FibGVkKGZhbHNlKTtcblx0XHRcdHRoaXMudW5iaW5kVXBsb2FkZXJFdmVudHMoKTtcblx0XHR9LFxuXHRcdGJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLmJpbmQoICdGaWxlVXBsb2FkZWQnLFx0dGhpcy5fdXBsb2FkU3VjY2Vzc0hhbmRsZXIsXHR0aGlzICk7XG5cdFx0XHR0aGlzLmdldFVwbG9hZGVyKCkuYmluZCggJ0Vycm9yJyxcdFx0XHR0aGlzLl91cGxvYWRFcnJvckhhbmRsZXIsXHR0aGlzICk7XG5cdFx0fSxcblx0XHR1bmJpbmRVcGxvYWRlckV2ZW50cyA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5nZXRVcGxvYWRlcigpLnVuYmluZCggJ0ZpbGVVcGxvYWRlZCcsXHR0aGlzLl91cGxvYWRTdWNjZXNzSGFuZGxlcixcdHRoaXMgKTtcblx0XHRcdHRoaXMuZ2V0VXBsb2FkZXIoKS51bmJpbmQoICdFcnJvcicsXHRcdFx0dGhpcy5fdXBsb2FkRXJyb3JIYW5kbGVyLFx0dGhpcyApO1xuXHRcdH0sXG5cdFx0Z2V0VXBsb2FkZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0cmV0dXJuIHRoaXMuY29udHJvbGxlci51cGxvYWRlci51cGxvYWRlci51cGxvYWRlcjtcblx0XHR9XG5cdH0pO1xuXG5cblx0d3AubWVkaWEudGhlcGFzdGUudmlldy5QYXN0ZWJvYXJkID0gd3AubWVkaWEuVmlldy5leHRlbmQoe1xuXHRcdHRlbXBsYXRlOiB3cC50ZW1wbGF0ZSgndGhlcGFzdGUtcGFzdGVib2FyZCcpLFxuXHRcdGNsYXNzTmFtZTogJ3RoZXBhc3RlLXBhc3RlYm9hcmQnLFxuXHRcdGNvbnRyb2xsZXI6bnVsbCxcblx0XHRhY3Rpb246J3Bhc3RlJyxcblx0XHQkcGFzdGVib2FyZCA6IG51bGwsXG5cblx0XHRyZW5kZXI6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXHRcdFx0d3AubWVkaWEuVmlldy5wcm90b3R5cGUucmVuZGVyLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcblx0XHRcdHRoaXMuJHBhc3RlYm9hcmQgPSB0aGlzLiQoICcuaW5qZWN0b3InICkucGFzdGFibGVDb250ZW50ZWRpdGFibGUoKTtcblx0XHRcdHRoaXMuJG1lc3NhZ2UgPSB0aGlzLiQoICcubWVzc2FnZScgKTtcblx0XHRcdHRoaXMuJHBhc3RlYm9hcmQub24oJ2NsaWNrJywgZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoJycpO1xuXHRcdFx0fSApO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRzdGFydCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dmFyIHNlbGYgPSB0aGlzO1xuXG5cdFx0XHR0aGlzLmltYWdlUGFzdGVkID0gZmFsc2U7XG5cblx0XHRcdHRoaXMuJHBhc3RlYm9hcmRcblx0XHRcdFx0Lm9uKCdwYXN0ZScsZnVuY3Rpb24oZSl7XG5jb25zb2xlLmxvZyhlLm9yaWdpbmFsRXZlbnQuY2xpcGJvYXJkRGF0YS50eXBlcyk7XG5cdFx0XHRcdH0pXG5cdFx0XHRcdC5vbigncGFzdGVUZXh0JyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuY29uc29sZS5sb2coZSxkYXRhKTtcblx0XHRcdFx0XHRpZiAoIHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYuc2hvd19tZXNzYWdlKCBsMTBuLnBhc3RlX2Vycm9yX25vX2ltYWdlICk7XG5cdFx0XHRcdFx0JCggdGhpcyApLmh0bWwoJycpO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlJyAsIGZ1bmN0aW9uKCBlLCBkYXRhICkge1xuY29uc29sZS5sb2coZSxkYXRhKTtcblx0XHRcdFx0XHRpZiAoIHNlbGYuaW1hZ2VQYXN0ZWQgKSB7XG5cdFx0XHRcdFx0XHRyZXR1cm47XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdHNlbGYudHJpZ2dlciggJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJywgdGhpcyAsIGRhdGEuZGF0YVVSTCApO1xuXHRcdFx0XHRcdHNlbGYuaW1hZ2VQYXN0ZWQgPSB0cnVlO1xuXHRcdFx0XHR9IClcblx0XHRcdFx0Lm9uKCdwYXN0ZUltYWdlRXJyb3InICwgZnVuY3Rpb24oIGUsIGRhdGEgKSB7XG5cdFx0XHRcdFx0c2VsZi5zaG93X21lc3NhZ2UoIGwxMG4ucGFzdGVfZXJyb3IgKTtcblx0XHRcdFx0XHQkKCB0aGlzICkuaHRtbCgnJyk7XG5cdFx0XHRcdH0gKVxuXHRcdFx0XHQ7XG5cblx0XHRcdHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcblx0XHRcdFx0c2VsZi4kcGFzdGVib2FyZC5nZXQoMCkuZm9jdXMoKTtcblx0XHRcdH0sMSk7XG5cblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcCA6IGZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy4kcGFzdGVib2FyZFxuXHRcdFx0XHQub2ZmKCdwYXN0ZUltYWdlJylcblx0XHRcdFx0Lm9mZigncGFzdGVJbWFnZUVycm9yJylcblx0XHRcdFx0Lm9mZigncGFzdGVUZXh0Jyk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3c6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5zaG93KCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdGhpZGU6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLiRlbC5oaWRlKCk7XG5cdFx0XHRyZXR1cm4gdGhpcztcblx0XHR9LFxuXHRcdHNob3dfbWVzc2FnZTpmdW5jdGlvbiggbXNnICkge1xuXHRcdFx0dGhpcy4kbWVzc2FnZS50ZXh0KCBtc2cgKTtcblx0XHR9XG5cdH0pO1xuXG5cdHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlR3JhYmJlciA9IHdwLm1lZGlhLlZpZXcuZXh0ZW5kKHtcbi8vXHRcdHRhZ05hbWU6ICAgJ2RpdicsXG5cdFx0dGVtcGxhdGU6IHdwLnRlbXBsYXRlKCd0aGVwYXN0ZS1ncmFiYmVyJyksXG5cdFx0Y2xhc3NOYW1lIDogJ3RoZXBhc3RlLWdyYWJiZXInLFxuXHRcdFxuXHRcdGdyYWJiZXIgOiBudWxsLFxuXHRcdHVwbG9hZGVyIDogbnVsbCxcblx0XHRcblx0XHRpbml0aWFsaXplIDogZnVuY3Rpb24oKSB7XG5cdFx0XHR2YXIgcmV0ID0gd3AubWVkaWEuVmlldy5wcm90b3R5cGUuaW5pdGlhbGl6ZS5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdF8uZGVmYXVsdHMoIHRoaXMub3B0aW9ucywge1xuXHRcdFx0XHR3cHVwbG9hZGVyXHRcdDogbnVsbCxcblx0XHRcdFx0ZGVmYXVsdEZpbGVOYW1lXHQ6IGwxMG4ucGFzdGVkLFxuXHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdCA6ICdpbWFnZS9wbmcnLFxuXHRcdFx0XHR0aXRsZVx0XHRcdDogbDEwbi5jb3B5X3Bhc3RlIFxuXHRcdFx0fSk7XG5cblx0XHRcdHRoaXMuZ3JhYmJlciAgPSBuZXcgdGhpcy5vcHRpb25zLmdyYWJiZXIoIHsgY29udHJvbGxlclx0OiB0aGlzLmNvbnRyb2xsZXIgfSApO1xuXG5cdFx0XHR0aGlzLnVwbG9hZGVyID0gbmV3IHdwLm1lZGlhLnRoZXBhc3RlLnZpZXcuRGF0YVNvdXJjZUltYWdlVXBsb2FkZXIoIHtcdFxuXHRcdFx0XHRcdFx0XHRcdFx0Y29udHJvbGxlclx0XHRcdDogdGhpcy5jb250cm9sbGVyLFxuXHRcdFx0XHRcdFx0XHRcdFx0dXBsb2Rlclx0XHRcdFx0OiB0aGlzLm9wdGlvbnMud3B1cGxvYWRlcixcblx0XHRcdFx0XHRcdFx0XHRcdGRlZmF1bHRGaWxlTmFtZVx0XHQ6IHRoaXMub3B0aW9ucy5kZWZhdWx0RmlsZU5hbWUsXG5cdFx0XHRcdFx0XHRcdFx0XHRkZWZhdWx0RmlsZUZvcm1hdFx0OiB0aGlzLm9wdGlvbnMuZGVmYXVsdEZpbGVGb3JtYXRcblx0XHRcdFx0XHRcdFx0XHR9KTtcblx0XHRcdHRoaXMucmVuZGVyKCk7XG5cblx0XHRcdHRoaXMubGlzdGVuVG8oIHRoaXMuZ3JhYmJlciwgJ2FjdGlvbjpjcmVhdGU6ZGF0YWltYWdlJyxcdHRoaXMuaW1hZ2VDcmVhdGVkICk7XG5cdFx0XHR0aGlzLmxpc3RlblRvKCB0aGlzLnVwbG9hZGVyLCAnYWN0aW9uOmRpc2NhcmQ6ZGF0YWltYWdlJyxcdHRoaXMuc3RhcnRHcmFiYmluZyApO1xuXG5cdFx0XHRyZXR1cm4gcmV0O1xuXHRcdH0sXG5cdFx0cmVuZGVyOmZ1bmN0aW9uKCl7XG5cdFx0XHR2YXIgc2VsZiA9IHRoaXM7XG5cblx0XHRcdHdwLm1lZGlhLlZpZXcucHJvdG90eXBlLnJlbmRlci5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG5cblx0XHRcdHRoaXMuJCgnLmNvbnRlbnQnKVxuXHRcdFx0XHQuYXBwZW5kKCB0aGlzLmdyYWJiZXIucmVuZGVyKCkuJGVsIClcblx0XHRcdFx0LmFwcGVuZCggdGhpcy51cGxvYWRlci5yZW5kZXIoKS4kZWwgKTtcblxuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fSxcblx0XHRpbWFnZUNyZWF0ZWQgOiBmdW5jdGlvbiggZ3JhYmJlciAsIGltYWdlRGF0YSApIHtcblx0XHRcdHRoaXMuZ3JhYmJlci5zdG9wKCkuaGlkZSgpO1xuXHRcdFx0dGhpcy51cGxvYWRlci5zaG93KCkuc2V0SW1hZ2VEYXRhKCBpbWFnZURhdGEgKTtcblx0XHR9LFxuXHRcdHN0YXJ0R3JhYmJpbmc6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLnVwbG9hZGVyLmhpZGUoKTtcblx0XHRcdHRoaXMuZ3JhYmJlci5zaG93KCkuc3RhcnQoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0c3RvcEdyYWJiaW5nOmZ1bmN0aW9uKCkge1xuXHRcdFx0dGhpcy5ncmFiYmVyLnN0b3AoKTtcblx0XHRcdHJldHVybiB0aGlzO1xuXHRcdH0sXG5cdFx0Z2V0QWN0aW9uIDogZnVuY3Rpb24oKSB7XG5cdFx0XHRyZXR1cm4gdGhpcy5ncmFiYmVyLmFjdGlvbjtcblx0XHR9LFxuXHRcdGRpc21pc3M6ZnVuY3Rpb24oKSB7XG5cdFx0XHR0aGlzLmdyYWJiZXIuc3RvcCgpO1xuXHRcdFx0cmV0dXJuIHRoaXM7XG5cdFx0fVxuXHR9KTtcblxufSkoalF1ZXJ5LHdpbmRvdyxtT3hpZSk7XG4iXX0=
